{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/OutputPDFINAAppendix.js","components/OutputGraphs.js","../node_modules/process/browser.js","components/PDF.js"],"names":["_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","props","a","pdf","PDF","Create","paraY","lang","dataInput","Presentations","language","setFontForTitle","paragraph","OUTPUTTEXT","pgAppendix","pgAppendixT","insertPara","setFontForParas","pgAppendixP1","paraWidth","h","document","getElementById","clientHeight","w","clientWidth","hFinal","wFinal","AddChart","InToPt","paraLeft","pgAppendixP2","graphWidth","pgAppendixP3","Footer","pgFooter","LE","lastRow","aggregateGrid","dataProjection","length","insertGrid","data","showOnPage","Save","size","SetFont","HELVETICA","NORMAL","undefined","SetFontSize","PxToPt","BOLD","SetTextColor","TIMES","para","left","MultilineText","insertTableRow","values","height","paraWidths","bold","fillColor","align","fill","tableRow","grid","wrappedTitleBar","orientation","startYr","mode","titleY","title1","title2","para1","para2","i","cols","dataColTitles","max","decimalChar","thousands","Widths","AddPage","push","totalGridWidth","goodWidth","textWidth","widthTotal","goodWidthMultiLine","addMore","textWidthMultiLine","gridTitle","height2","insertTableTitle","rows","FooterLandscape","String","parseFloat","toString","formatMoney","cleanFormat","OutputGraphs","doPDF","doSavePdfINAAppendixAction","j","pv","this","negNeed","dataCashFlowNeeds","map","x","mobile","window","innerWidth","innerHeight","maxYScale","Math","ceil","dataCashFlowGov","dataShortfall","dataCashFlowPersonal","options","responsive","maintainAspectRatio","legend","display","labels","fontColor","fontSize","scales","xAxes","stacked","ticks","beginAtZero","yAxes","value","index","Intl","NumberFormat","format","replace","labelsBilingual","GRAPHS_LABLES","clients","Clients","PDFTopMargin","isSingleFamily","dataNAAges","datasets","label","persCF","borderColor","backgroundColor","govCF","incomeNeeds","dataFutureINA","totalLiab","Liabilitys","currValue","shortfallNeg","pow","shortfall","optionsPie","title","position","text","assetsBrk","optionsPieLiabs","JSON","parse","stringify","liabsBrk","dataPieAssets","cashLike","RRSP","shares","realEstate","otherAssets","getAssetsCategoryTotal","ASSETS","CASH","Key","LIFE_INSURANCE","CHARITABLE_GIFTS_TAX_CREDIT","TFSA","RRSP_RRIF","SMALL_BUSINESS_SHARES","STOCKS_BONDS","REAL_ESTATE","PERSONAL_RESIDENCE","OTHER_ASSETS","dataPieLiabs","loans","taxes","emergency","otherLiabs","atDeath","getLiabsCategoryTotal","LIABILITIES","OUTSTANDING_LOANS","MORTGAGE_REDEMPTION","CREDIT_CARDS","CLIENT_TAX_LIABILITY","INCOME_TAXES","EMERGENCY_FUND","OTHER","CHILD_HOME_CARE","LAST_EXPENSES","LEGAL_AND_EXECUTOR_FEES","LEGACY_FOR_CHILDREN","CHARITABLE_GIFTS","PROBATE","needTo","insNeedLine","assetsPie","Assets","id","className","liabsPie","versionDetails","versionNumeric","style","width","float","clear","marginTop","marginRight","paddingRight","onClick","type","CONTROLTITLE","pdfINAAppendix","Info","infoIcon","getInfoINA","currFins","React","Component","cachedSetTimeout","cachedClearTimeout","process","module","exports","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","call","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","arguments","prototype","apply","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","in_","px","AddImage","imageID","y","imgData","imgProps","getImageProperties","pdfHeight","addImage","AddImageFitWidthOnly","maxHeight","error","addCustomImage","pg1TitleY","image","firstPage","top","FOOTER_TEXT_IN_Y","containerID","containerElement","canvasElement","getElementsByClassName","dataUrl","toDataURL","AddCanvas","canvasID","addPage","jsPDF","unit","ShowGrids","showGrids","Grid","setFontSize","setFont","setTextColor","textRed","textGreen","textBlue","fontName","fontStyle","textLines","splitTextToSize","DrawLine","line","Reset","fileName","save","red","green","blue","SetFillColor","setFillColor","fillRed","fillGreen","fillBlue","output","Rectangle","roundedRect","arrayText","split","minWidth","getTextWidth","adjustTextWidth","textColor","box","rightAlign","textY","textOut","xi","setDrawColor","rect","RightText","Text","CenterText","tw","Header","textH","headerOffset","addFooterAndHeader","footerText","headerText","textF","addFooter","footer","addHeaderNoFooter","tableRowSingle","values2","coloured","state","color"],"mappings":"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","file":"static/js/13.b67ca9a7.chunk.js","sourcesContent":["import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import {\r\n    TITLES,\r\n    ASSETS,\r\n    IMAGE_LOGO,\r\n    IMAGE_LOGO_OTHERPAGES,\r\n    IMAGE_APPLET_EP,\r\n  } from \"../definitions/generalDefinitions\";\r\n  import { OUTPUTTEXT} from \"../definitions/outputDefinitions\";\r\n  import { OUTPUTTEXTEP  } from \"../definitions/outputDefinitionsEP\";\r\n  import { formatMoney, formatMoney2, cleanFormat } from \"../utils/helper\";\r\n  import { getOutputValues } from \"../data/dataExchange\";\r\n  //import {insertGrid} from \"./OutputPDFEP\"\r\n\r\n  import {\r\n    PDF,\r\n    InToPt,\r\n    PxToPt,\r\n    HELVETICA,\r\n    TIMES,\r\n    NORMAL,\r\n    BOLD,\r\n    HEADER_RECT_IN_W,\r\n  } from \"./PDF\";\r\n  import {\r\n    ASSET_TAX_TYPE_PRINCIPAL_RES,\r\n    ASSET_TAX_TYPE_REAL_ESTATE,\r\n    ASSET_TAX_TYPE_STOCKS,\r\n    ASSET_TAX_TYPE_SMALL_BUS,\r\n    ASSET_TAX_TYPE_RRSP,\r\n    ASSET_TAX_TYPE_INTEREST,\r\n    ASSET_TAX_TYPE_OTHER,\r\n    ASSET_TAX_TYPE_COUNT,\r\n  } from \"../definitions/outputDefinitionsEP\";\r\n  \r\n  const DISPLAY_INCOME = 1;\r\n  \r\n  const BULLET_FONT_SIZE = 24;\r\n  const NUMBER_BULLET_FONT_SIZE = 11;\r\n  const GRID_AGGREGATE = 0;\r\n  const GRID_INDIVIDUAL = 1;\r\n  \r\n  const LINES_PER_PAGE_LANDSCAPE = 27;\r\n  const LINES_PER_PAGE_PORTRAIT = 37;\r\n  \r\n\r\n\r\nexport async function doSavePdfINAAppendixAction(props) {\r\n  //  try \r\n  {\r\n        let pdf = new PDF();\r\n        pdf.Create();\r\n    \r\n       // var paragraph;\r\n        let height = 0.2;\r\n        let Widths = [1.2, 0.6, 1.8, 1.4];\r\n        let values;\r\n        const paraWidth = 6;\r\n        const paraLeft = 1.2;\r\n        const lineHeight = 0.196;\r\n        const indent = 0.15;\r\n        let paraY = 1;// 2.2 * lineHeight;\r\n    \r\n        // pdf output shared with presentation\r\n      //  let output = getOutputValues(props);\r\n    \r\n        const lang = props.dataInput.Presentations[0].language;\r\n        const pg1TitleY = 4.2;\r\n    \r\n    //  pdf.Header(OUTPUTTEXT[lang].pg1T);\r\n\r\n// Appendix title\r\n      setFontForTitle(pdf, lang, 16);\r\n      let paragraph = OUTPUTTEXT[lang].pgAppendix + \": \" + OUTPUTTEXT[lang].pgAppendixT;\r\n      insertPara(pdf, paragraph, paraLeft-.4, paraY, paraWidth);\r\n    \r\n      setFontForParas(pdf);\r\n      paragraph = OUTPUTTEXT[lang].pgAppendixP1;\r\n      paraY = paraY + 4 *lineHeight;\r\n    insertPara(pdf, paragraph, paraLeft, paraY, paraWidth);\r\n     \r\n    paraY = paraY + 1.5* lineHeight;\r\n     \r\n      const graphWidth=paraWidth+1\r\n      let h= document.getElementById(\"barNeeds\").clientHeight\r\n      let w= document.getElementById(\"barNeeds\").clientWidth\r\n      const maxH=2;\r\n      const maxH2=2.5\r\n      let hFinal=graphWidth*h/w>maxH?maxH:graphWidth*h/w\r\n      let wFinal=graphWidth*h/w>maxH?maxH*w/h:graphWidth\r\n      \r\n      pdf.AddChart(\r\n        \"barNeeds\",\r\n        InToPt(paraLeft-.5),\r\n        InToPt(paraY),\r\n        InToPt(wFinal),\r\n        InToPt(hFinal)\r\n        //InToPt(graphWidth),\r\n        //InToPt(graphWidth*h/w)\r\n      );\r\n      // paraY = paraY + 5*lineHeight;\r\n      \r\n      paraY = paraY + 12* lineHeight;\r\n      paragraph = OUTPUTTEXT[lang].pgAppendixP2;\r\n      insertPara(pdf, paragraph, paraLeft, paraY, paraWidth);\r\n      paraY = paraY + 1.5* lineHeight;\r\n     \r\n      h= document.getElementById(\"barShortfall\").clientHeight\r\n      w= document.getElementById(\"barShortfall\").clientWidth\r\n      hFinal=graphWidth*h/w>maxH?maxH:graphWidth*h/w\r\n      wFinal=graphWidth*h/w>maxH?maxH*w/h:graphWidth\r\n      pdf.AddChart(\r\n        \"barShortfall\",\r\n        InToPt(paraLeft-.5),\r\n        InToPt(paraY),\r\n        InToPt(wFinal),\r\n        InToPt(hFinal)\r\n      );\r\n      \r\n      h= document.getElementById(\"pieAssets\").clientHeight\r\n      w= document.getElementById(\"pieAssets\").clientWidth\r\n      hFinal=graphWidth*h/w>maxH2?maxH2:graphWidth*h/w\r\n      wFinal=graphWidth*h/w>maxH2?2*maxH2*w/h:graphWidth/2\r\n      \r\n      paraY = paraY + 13 * lineHeight;\r\n      paragraph = OUTPUTTEXT[lang].pgAppendixP3;\r\n      insertPara(pdf, paragraph, paraLeft, paraY, paraWidth);\r\n      paraY = paraY + 1.5* lineHeight;\r\n      pdf.AddChart(\r\n        \"pieAssets\",\r\n        InToPt(paraLeft-1),\r\n        InToPt(paraY),\r\n        /* InToPt(wFinal),\r\n        InToPt(.8*hFinal) */\r\n        InToPt(graphWidth/2),\r\n        InToPt(graphWidth*h/w)\r\n      );\r\n     // paraY = paraY + 10 * lineHeight;\r\n     h= document.getElementById(\"pieLiabs\").clientHeight\r\n     w= document.getElementById(\"pieLiabs\").clientWidth\r\n     hFinal=graphWidth*h/w>maxH2?maxH2:graphWidth*h/w\r\n     wFinal=graphWidth*h/w>maxH2?2*maxH2*w/h:graphWidth/2\r\n      pdf.AddChart(\r\n        \"pieLiabs\",\r\n        InToPt(paraLeft+graphWidth/2-.5),\r\n        InToPt(paraY),\r\n        /* InToPt(wFinal),\r\n        InToPt(.8*hFinal) */\r\n        InToPt(graphWidth/2),\r\n        InToPt(graphWidth*h/w)\r\n      );\r\n\r\n      pdf.Footer(OUTPUTTEXT[lang].pgFooter);\r\n\r\n      const LE = props.LE; //- props.assetProjections[0].grid.dataProjection[1][0];\r\n      const lastRow=props.aggregateGrid.dataProjection[0].length\r\n      paragraph = OUTPUTTEXT[lang].pgAppendix + \": \" + OUTPUTTEXT[lang].pgAppendixT;\r\n    /* \r\n      insertGrid2(\r\n        pdf,\r\n        props.aggregateGrid,\r\n        LE,\r\n        paraLeft - 0.2,\r\n        1.65 * paraWidth,\r\n        lang,\r\n        true,\r\n        \"landscape\",\r\n        0,\r\n        GRID_AGGREGATE,\r\n        lastRow\r\n      ); */\r\n      insertGrid(\r\n        pdf,\r\n        props.aggregateGrid,\r\n        LE,\r\n        paraLeft - 0.2,\r\n        1.65 * paraWidth,\r\n        lang,\r\n        true,\r\n        \"landscape\",\r\n        0,\r\n        lastRow,        \r\n        GRID_AGGREGATE,\r\n        .65,\r\n        paragraph, \"\", \"\", \"\", OUTPUTTEXT[lang].pgFooter\r\n      )  \r\n\r\n      // if too long add another page\r\n      if (\r\n        lastRow > LINES_PER_PAGE_LANDSCAPE &&\r\n        lastRow < 2 * LINES_PER_PAGE_LANDSCAPE\r\n      )\r\n        insertGrid(\r\n          pdf,\r\n          props.aggregateGrid,\r\n          LE,\r\n          paraLeft - 0.2,\r\n          1.65 * paraWidth,\r\n          lang,\r\n          true,\r\n          \"landscape\",\r\n          LINES_PER_PAGE_LANDSCAPE,\r\n          lastRow,\r\n          GRID_AGGREGATE,.65,\r\n          paragraph, \"\", \"\", \"\", OUTPUTTEXT[lang].pgFooter\r\n          );\r\n      else if (lastRow > 2 * LINES_PER_PAGE_LANDSCAPE) {\r\n        insertGrid(\r\n          pdf,\r\n          props.aggregateGrid,\r\n          LE,\r\n          paraLeft - 0.2,\r\n          1.65 * paraWidth,\r\n          lang,\r\n          true,\r\n          \"landscape\",\r\n          LINES_PER_PAGE_LANDSCAPE,\r\n          lastRow,  \r\n          GRID_AGGREGATE,.65,\r\n          paragraph, \"\", \"\", \"\", OUTPUTTEXT[lang].pgFooter\r\n        );\r\n        insertGrid(\r\n          pdf,\r\n          props.aggregateGrid,\r\n          LE,\r\n          paraLeft - 0.2,\r\n          1.65 * paraWidth,\r\n          lang,\r\n          true,\r\n          \"landscape\",\r\n          2 * LINES_PER_PAGE_LANDSCAPE,\r\n          lastRow,  \r\n          GRID_AGGREGATE,.65,\r\n          paragraph, \"\", \"\", \"\", OUTPUTTEXT[lang].pgFooter\r\n        );\r\n      }\r\n\r\n      pdf.Footer(OUTPUTTEXT[lang].pgFooter);\r\n    \r\n          /*/*-Appendix\t\tgrids // Page 8*/\r\n    \r\n          // add a landscape page for aggregate grid\r\n    \r\n/*           const LE = props.LE; //- props.assetProjections[0].grid.dataProjection[1][0];\r\n          insertGrid2(\r\n            pdf,\r\n            props.aggregateGrid,\r\n            LE,\r\n            paraLeft - 0.2,\r\n            1.65 * paraWidth,\r\n            lang,\r\n            true,\r\n            \"landscape\",\r\n            0,\r\n            GRID_AGGREGATE\r\n          );\r\n          // if too long add another page\r\n          if (\r\n            LE + 3 > LINES_PER_PAGE_LANDSCAPE &&\r\n            LE + 3 < 2 * LINES_PER_PAGE_LANDSCAPE\r\n          )\r\n            insertGrid2(\r\n              pdf,\r\n              props.aggregateGrid,\r\n              LE,\r\n              paraLeft - 0.2,\r\n              1.65 * paraWidth,\r\n              lang,\r\n              true,\r\n              \"landscape\",\r\n              LINES_PER_PAGE_LANDSCAPE,\r\n              GRID_AGGREGATE\r\n            );\r\n          else if (LE + 3 > 2 * LINES_PER_PAGE_LANDSCAPE) {\r\n            insertGrid2(\r\n              pdf,\r\n              props.aggregateGrid,\r\n              LE,\r\n              paraLeft - 0.2,\r\n              1.65 * paraWidth,\r\n              lang,\r\n              true,\r\n              \"landscape\",\r\n              LINES_PER_PAGE_LANDSCAPE,\r\n              GRID_AGGREGATE\r\n            );\r\n            insertGrid2(\r\n              pdf,\r\n              props.aggregateGrid,\r\n              LE,\r\n              paraLeft - 0.2,\r\n              1.65 * paraWidth,\r\n              lang,\r\n              true,\r\n              \"landscape\",\r\n              2 * LINES_PER_PAGE_LANDSCAPE,\r\n              GRID_AGGREGATE\r\n            );\r\n          }\r\n          for (let j = 0; j < props.assetProjections.length; ++j)\r\n            insertGrid2(\r\n              pdf,\r\n              props.assetProjections[j].grid,\r\n              LE,\r\n              paraLeft,\r\n              paraWidth,\r\n              lang,\r\n              true,\r\n              \"portrait\",\r\n              0,\r\n              GRID_INDIVIDUAL\r\n            );\r\n    \r\n          //end ofPage 8\r\n          pdf.addFooterAndHeader(headerOffset, footerText, headerText);\r\n    \r\n          //-Using Life Insurance to Preserve Your Estate\t\t// Page 6\r\n          // logo if asked for\r\n          //    pdf.addCustomImage(\"EPOtherPagesLogo\", pg1TitleY, image);\r\n          result =\r\n            result &&\r\n            pdf.addCustomImage(IMAGE_LOGO_OTHERPAGES, pg1TitleY, image, false, top);\r\n    \r\n          paraY = 8 * lineHeight;\r\n          setFontForTitle(pdf, lang);\r\n          pdf.Text(OUTPUTTEXTEP[lang].pg9T, InToPt(paraLeft), InToPt(paraY));\r\n          setFontForParas(pdf);\r\n    \r\n          paraY = paraY + 2 * lineHeight;\r\n          insertPara(pdf, OUTPUTTEXTEP[lang].pg9P1, paraLeft, paraY, paraWidth);\r\n          paraY = paraY + (lang === \"fr\" ? 7 : 6) * lineHeight;\r\n          insertPara(pdf, OUTPUTTEXTEP[lang].pg9P2, paraLeft, paraY, paraWidth);\r\n    \r\n          //pdf.Footer(OUTPUTTEXTEP[lang].pgFooter);\r\n          // pdf.showOnPage();\r\n*/\r\n          var data = pdf.showOnPage();\r\n    \r\n//        // Done\r\n          pdf.Save(\"INA_Appendix_PDF.pdf\");\r\n          return data;\r\n        }\r\n    \r\n  \r\n}\r\n\r\n    function setFontForTitle(pdf, lang, size) {\r\n      pdf.SetFont(HELVETICA, NORMAL);\r\n      if (size === undefined) {\r\n        if (lang === \"en\") pdf.SetFontSize(PxToPt(25));\r\n        else pdf.SetFontSize(PxToPt(20));\r\n      } else {\r\n        pdf.SetFont(HELVETICA, BOLD);\r\n        if (lang === \"en\") pdf.SetFontSize(PxToPt(size));\r\n        else pdf.SetFontSize(PxToPt(size - 1));\r\n      }\r\n    \r\n      pdf.SetTextColor(0x45, 0x55, 0x60);\r\n    }\r\n    \r\n    function addNote(pdf, para, left, paraY, paraWidth) {\r\n      setFontForParas(pdf);\r\n      pdf.SetTextColor(150, 150, 150);\r\n      pdf.SetFontSize(PxToPt(12));\r\n      insertPara(pdf, para, left, paraY, paraWidth);\r\n      setFontForParas(pdf);\r\n    }\r\n    \r\n    function setFontForParas(pdf) {\r\n      pdf.SetFont(TIMES, NORMAL);\r\n      pdf.SetFontSize(PxToPt(16));\r\n      pdf.SetTextColor(0x45, 0x55, 0x60);\r\n    }\r\n    \r\n    function insertBullet(pdf, bullet, left, y, size) {\r\n      pdf.SetTextColor(115, 153, 198);\r\n      pdf.SetFontSize(PxToPt(size));\r\n      pdf.SetFont(TIMES, BOLD);\r\n      pdf.Text(\r\n        bullet,\r\n        InToPt(left + (size === BULLET_FONT_SIZE ? 0.02 : 0)),\r\n        InToPt(y - (size === BULLET_FONT_SIZE ? 0.03 : 0))\r\n      );\r\n      pdf.SetFont(TIMES, NORMAL);\r\n      pdf.SetFontSize(PxToPt(16));\r\n      pdf.SetTextColor(0x45, 0x55, 0x60);\r\n    }\r\n    \r\n    function insertPara(pdf, para, left, paraY, paraWidth) {\r\n      pdf.MultilineText(para, InToPt(left), InToPt(paraY), InToPt(paraWidth));\r\n    }\r\n    \r\n    function insertTableTitle(\r\n      pdf,\r\n      paraLeft,\r\n      paraY,\r\n      values,\r\n      height,\r\n      paraWidths,\r\n      fillColor\r\n    ) {\r\n      pdf.SetFontSize(PxToPt(12));\r\n      const fill = fillColor === undefined ? [115, 153, 198] : fillColor;\r\n      const textColor = [255, 255, 255];\r\n      pdf.SetFont(TIMES, BOLD);\r\n      const h = pdf.tableRow(\r\n        fill,\r\n        textColor,\r\n        paraLeft,\r\n        paraY,\r\n        values,\r\n        height,\r\n        paraWidths,\r\n        false,\r\n        false,\r\n        true\r\n      );\r\n      return h;\r\n    }\r\n    \r\n    function insertTableRow(\r\n      pdf,\r\n      paraLeft,\r\n      paraY,\r\n      values,\r\n      height,\r\n      paraWidths,\r\n      bold,\r\n      fillColor,\r\n      align\r\n    ) {\r\n      pdf.SetTextColor(0x45, 0x55, 0x60);\r\n      const fill = fillColor === undefined ? [249, 249, 249] : fillColor;\r\n      const textColor = [0x45, 0x55, 0x60];\r\n      pdf.SetFont(TIMES, bold ? BOLD : NORMAL);\r\n      pdf.tableRow(\r\n        fill,\r\n        textColor,\r\n        paraLeft,\r\n        paraY,\r\n        values,\r\n        height,\r\n        paraWidths,\r\n        true,\r\n        align\r\n      );\r\n    }\r\n    /* function insertTableRowBold(pdf, paraLeft, paraY, values, height, paraWidths,align) {\r\n      pdf.SetTextColor(0x45, 0x55, 0x60);\r\n      const fill = [235, 235, 235];\r\n      const textColor = [0x45, 0x55, 0x60];\r\n      pdf.SetFont(TIMES, BOLD);\r\n      pdf.tableRow(\r\n        fill,\r\n        textColor,\r\n        paraLeft,\r\n        paraY,\r\n        values,\r\n        height,\r\n        paraWidths,\r\n        true,\r\n        align\r\n      );\r\n    }\r\n     */\r\n    \r\n    /* function pdf.addCustomImage( id,pg1TitleY,image,firstPage){\r\n     \r\n    pdf.AddImageFitWidthOnly(\r\n      id,\r\n      InToPt(pg1TitleY - 3 + image.left*HEADER_RECT_IN_W/100), //1.51),\r\n      InToPt(firstPage?1.06:.29),\r\n      InToPt(6.04*image.size/100),\r\n      InToPt(firstPage?2.76:.38) // max height\r\n    );\r\n    } */\r\n\r\n\r\n    \r\n\r\nexport function insertGrid (\r\n  pdf,\r\n  grid,\r\n  LE,\r\n  paraLeft,\r\n  paraWidth,\r\n  lang,\r\n  wrappedTitleBar,\r\n  orientation,\r\n  startYr,\r\n  lastRow,\r\n  mode,\r\n  titleY,\r\n  title1,title2,para1,para2,pgFooter\r\n){\r\n  let i;\r\n  let j;\r\n  let cols = grid.dataColTitles.length;\r\n  const height = 0.2;\r\n  let paraY =titleY;// 2.2 * height;\r\n  let max =\r\n    orientation === \"landscape\"\r\n      ? startYr === 0\r\n        ? LINES_PER_PAGE_LANDSCAPE\r\n        : 2 * LINES_PER_PAGE_LANDSCAPE\r\n      : LINES_PER_PAGE_PORTRAIT;\r\n  const decimalChar = lang === \"en\" ? \".\" : \",\";\r\n  const thousands = lang === \"en\" ? \",\" : \" \";\r\n // const formatFr = lang === \"fr\" ? true : false;\r\n  let Widths = [];\r\n\r\n  pdf.AddPage(orientation);\r\n\r\n  // Appendix title\r\n  setFontForTitle(pdf, lang, 16);\r\n  let paragraph = title1 + \": \" + para1;\r\n  insertPara(pdf, paragraph, paraLeft, paraY, paraWidth);\r\n\r\n  // Appendix para\r\n  setFontForParas(pdf);\r\n  paraY = paraY + 1.6 * height;\r\n  paragraph =\r\n    (mode === GRID_AGGREGATE\r\n      ? title2\r\n      : para2) +\r\n    (mode === GRID_AGGREGATE ? (startYr === 0 ? \"\" : \"\") : \"\");\r\n  insertPara(pdf, paragraph, paraLeft, paraY, paraWidth);\r\n\r\n  paraY = paraY + 0.5 * height;\r\n\r\n  // grid name and title\r\n  // grid col widths\r\n  Widths.push(paraWidth / (cols + 5)); // year\r\n  Widths.push(paraWidth / (cols + 5)); // age\r\n  for (i = 2; i < cols; ++i) {\r\n    Widths.push((paraWidth - (2 * paraWidth) / (cols + 4)) / (cols - 2));\r\n  }\r\n\r\n  // max of 8 columns in portrait\r\n  let totalGridWidth = paraWidth;\r\n  if (mode === GRID_INDIVIDUAL) totalGridWidth = (cols * paraWidth) / 8;\r\n\r\n  let values = grid.dataColTitles;\r\n  let goodWidth = [];\r\n  let totalGoodWidth = 0;\r\n  for (i = 0; i < cols; ++i) {\r\n    goodWidth.push(pdf.textWidth(values[i]));\r\n    totalGoodWidth += goodWidth[i];\r\n  }\r\n  // aportion grid title\r\n  for (i = 0; i < cols; ++i) {\r\n    Widths[i] = goodWidth[i] + 0.15;\r\n  }\r\n  let widthTotal = 0;\r\n  for (i = 2; i < cols; ++i) widthTotal += Widths[i];\r\n\r\n  // now check multilines\r\n  let goodWidthMultiLine = [];\r\n  let totalGoodWidthMultiLine = 0;\r\n\r\n  let addMore =\r\n    (totalGridWidth - widthTotal - Widths[0] - Widths[1]) / (cols - 2);\r\n  if (mode === GRID_INDIVIDUAL) {\r\n    for (i = 2; i < cols; ++i) Widths[i] += addMore;\r\n  } else if (mode === GRID_AGGREGATE) {\r\n    addMore =\r\n      (totalGridWidth - widthTotal - Widths[0] - Widths[1]) / (cols - 3);\r\n    for (i = 2; i < cols; ++i) if (i !== 4) Widths[i] += addMore;\r\n  }\r\n\r\n  for (i = 0; i < cols; ++i) {\r\n    goodWidthMultiLine.push(pdf.textWidthMultiLine(values[i], Widths[i]));\r\n    totalGoodWidthMultiLine += goodWidthMultiLine[i];\r\n  }\r\n  // aportion grid title\r\n\r\n  /*  for (i = 0; i < cols; ++i)\r\n  if(Widths[i]<.9*goodWidthMultiLine[i])\r\n      Widths[i]=goodWidthMultiLine[i]/.9\r\n*/\r\n  //for (i = 0; i < cols; ++i)\r\n  //console.log(values[i],goodWidth[i],goodWidthMultiLine[i],Widths[i])\r\n  // for (i = 0; i < cols; ++i)\r\n  //  Widths[i]=goodWidthMultiLine[i]/.9*totalGridWidth/totalGoodWidthMultiLine\r\n\r\n  // if(mode===GRID_AGGREGATE)\r\n  {\r\n    paraY = paraY + 0.8 * height;\r\n    paragraph = grid.gridTitle;\r\n    pdf.SetFontSize(PxToPt(12));\r\n    pdf.SetTextColor(0x45, 0x55, 0x60);\r\n    insertPara(pdf, paragraph, paraLeft, paraY, paraWidth);\r\n    paraY = paraY + 0.4 * height;\r\n  }\r\n\r\n  // headers\r\n  //console.log(values)\r\n  const height2 = insertTableTitle(\r\n    pdf,\r\n    paraLeft,\r\n    paraY,\r\n    values,\r\n    height,\r\n    Widths,\r\n    [51, 77, 124]\r\n  );\r\n\r\n  // grid rows\r\n  let rows = startYr;\r\n  let fillColor;\r\n  if (wrappedTitleBar) paraY = paraY + height2;\r\n  // 40 rows per page\r\n  while (rows < lastRow) {\r\n    //grid.dataProjection[0].length) {\r\n\r\n    if (\r\n      rows === max &&\r\n      ((startYr === 0 && lastRow - rows > 6) ||\r\n        (startYr === LINES_PER_PAGE_LANDSCAPE &&\r\n          lastRow + LINES_PER_PAGE_LANDSCAPE - rows > 6))\r\n    ) {\r\n      if (mode === GRID_AGGREGATE) {\r\n        insertPara(\r\n          pdf,\r\n          \"\",\r\n          paraLeft,\r\n          paraY + (3 * height) / 2 + 0.1,\r\n          paraWidth\r\n        );\r\n        pdf.FooterLandscape(pgFooter);\r\n        return rows;\r\n      }\r\n\r\n      rows = lastRow - 6;\r\n      paraY = paraY + height;\r\n      pdf.SetFont(TIMES, BOLD);\r\n      insertPara(pdf, \"......\", paraLeft, paraY + height / 2, paraWidth);\r\n      pdf.SetFont(TIMES, NORMAL);\r\n    }\r\n    values = [];\r\n\r\n    let align = [];\r\n    for (i = 0; i < cols; ++i) {\r\n      //if(i===0) console.log(grid.dataProjection[i][rows])\r\n      values.push(\r\n        (i === 0 && rows === 0) || i === 1\r\n          ? String(grid.dataProjection[i][rows])\r\n          :(i === 11?\r\n          parseFloat(grid.dataProjection[i][rows], lang).toString()\r\n          : formatMoney(\r\n              parseFloat(cleanFormat(grid.dataProjection[i][rows], lang)),\r\n              0,\r\n              decimalChar,\r\n              thousands\r\n            ).toString())\r\n      );\r\n      align.push(2);\r\n    }\r\n    paraY = paraY + height;\r\n    fillColor = rows % 2 ? [249, 249, 249] : [228, 229, 230];\r\n    if (rows == LE) {\r\n      fillColor = [208, 215, 230];\r\n      insertPara(\r\n        pdf,\r\n        lang === \"en\" ? \"LE\" : \"EV\",\r\n        paraLeft + totalGridWidth + 0.15,\r\n        paraY + height / 2 + 0.01,\r\n        paraWidth\r\n      );\r\n    }\r\n    //console.log(values)\r\n    insertTableRow(\r\n      pdf,\r\n      paraLeft,\r\n      paraY,\r\n      values,\r\n      height,\r\n      Widths,\r\n      false,\r\n      fillColor,\r\n      align\r\n    );\r\n\r\n    rows++;\r\n  }\r\n\r\n  if (orientation === \"landscape\")\r\n    pdf.FooterLandscape(pgFooter);\r\n  else pdf.Footer(pgFooter);\r\n}\r\n","import React from \"react\";\r\nimport { Pie, Bar } from \"react-chartjs-2\";\r\n//import \"./Output.css\";\r\nimport \"./Output.css\";\r\nimport {\r\n  getAssetsCategoryTotal,\r\n  getLiabsCategoryTotal,\r\n  cleanFormat, formatMoney,\r\n  familyProjectionYears,\r\n  getInsNeedLine,\r\n  isSingleFamily,\r\n} from \"../utils/helper\";\r\nimport {\r\n  ASSETS,\r\n  LIABILITIES,\r\n  CONTROLTITLE,\r\n  DISPLAY_RETIREMENT,\r\nDISPLAY_LIFEEXP,\r\nDISPLAY_ENDAGE,\r\nDISPLAY_LIFEEXP_PLUS_3\r\n} from \"../definitions/generalDefinitions\";\r\nimport {GRAPHS_LABLES \r\n} from \"../definitions/outputDefinitions\";\r\nimport {\r\n  getInfoINA,\r\n} from \"../definitions/infoIconsDefinitions\";\r\nimport { Info } from \"./Info\";\r\nimport { doSavePdfINAAppendixAction } from \"./OutputPDFINAAppendix\";\r\nimport { versionDetails } from \"../utils/helper\";\r\n\r\nexport default class OutputGraphs extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n\r\n\r\n  doPDF = () => {\r\n    doSavePdfINAAppendixAction(this.props);\r\n  };\r\n  \r\n\r\n  render() {\r\n    //if (this.props.dataCashFlowGov !== undefined)\r\n    const lang=this.props.dataInput.Presentations[0].language\r\n    const negNeed = this.props.dataCashFlowNeeds.map(x => -x);\r\n\r\n  const mobile=  ( window.innerWidth <= 840 ) && ( window.innerHeight <= 840 );\r\n // console.log(window.innerWidth, window.innerHeight)\r\n    const maxYScale =\r\n      10000 *\r\n      Math.ceil(\r\n        1 +\r\n          Math.max(\r\n            Math.max(...this.props.dataCashFlowGov),\r\n            Math.max(...this.props.dataCashFlowNeeds),\r\n            Math.max(...this.props.dataShortfall),\r\n            Math.max(...this.props.dataCashFlowPersonal)\r\n          ) /\r\n            10000\r\n      );\r\n    //\tconst negNeedMax = negNeed.map(x => -maxYScale*1.05);\r\n    //\tnegNeedMax.push(- maxYScale * 1.05);\r\n    //\tnegNeedMax.push(- maxYScale * 1.05)\r\n \r\n    const options = {\r\n      responsive: true,\r\n      maintainAspectRatio: false,\r\n      legend: {\r\n        display: true,\r\n        labels: {\r\n          fontColor: \"#333\",\r\n          fontSize: mobile?10:14//16\r\n        }\r\n      },\r\n      scales: {\r\n        xAxes: [\r\n          {\r\n            stacked: true,\r\n            ticks: {\r\n              fontSize:  mobile?10:14,\r\n              beginAtZero: true\r\n            }\r\n          }\r\n        ],\r\n        yAxes: [\r\n          {\r\n            stacked: true,\r\n            ticks: {\r\n              fontSize:  mobile?10:14,\r\n              beginAtZero: true,\r\n                beginAtZero: true,\r\n                steps: 10,\r\n                stepValue: 5,\r\n                max: maxYScale,\r\n    callback: function (value, index, values) {\r\n                  let result =\r\n                    value < 1000 && value > -1000\r\n                      ? value\r\n                      : lang === \"en\"\r\n                      ? Intl.NumberFormat().format(value / 1000) + \"K\"\r\n                      : (Intl.NumberFormat().format(value / 1000) + \"K\").replace(\r\n                          \",\",\r\n                          \" \"\r\n                        );\r\n                  return result;\r\n                },\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    };\r\n    const labelsBilingual=GRAPHS_LABLES[lang]\r\n    const decimalChar = lang === \"en\" ? \".\" : \",\"\r\n    const thousands = lang === \"en\" ? \",\" : \" \"\r\n    const formatFr=lang===\"fr\"? true:false\r\n    \r\n    const clients=this.props.dataInput.Clients\r\n    const singleFamily = isSingleFamily(clients);\r\n    const PDFTopMargin=singleFamily?0:-37  \r\n\r\n    const data = {\r\n      labels: this.props.dataNAAges,\r\n      datasets: [\r\n        {\r\n          label: labelsBilingual.persCF,\r\n          data: this.props.dataCashFlowPersonal,\r\n          fill: false,\r\n          borderColor: \"LightSteelBlue\", // Line color\r\n          backgroundColor: \"LightSteelBlue\"\r\n        },\r\n        {\r\n          label:\r\n          labelsBilingual.govCF,\r\n          data: this.props.dataCashFlowGov,\r\n          fill: false, // Don't fill area under the line\r\n          borderColor: \"#FAD7A0\", // Line color\r\n          backgroundColor: \"#FAD7A0\"\r\n        },\r\n        {\r\n          label:\r\n          labelsBilingual.incomeNeeds,\r\n          data: negNeed,\r\n          fill: false, // Don't fill area under the line\r\n          borderColor: \"#2B3856\", // Line color\r\n          backgroundColor: \"#2B3856\"\r\n        }\r\n        \r\n      ]\r\n    };\r\n\r\n    var dataFutureINA = [];\r\n    let i;\r\n    let j;\r\n    var pv;\r\n    var totalLiab = 0;\r\n    for (i = 0; i < this.props.dataInput.Liabilitys.length; i++) {\r\n      totalLiab += this.props.dataInput.Liabilitys[i].currValue;\r\n    }\r\n\r\n    let shortfallNeg=[]\r\n     \r\n    for (i = 0; i < this.props.dataShortfall.length; ++i) {\r\n      shortfallNeg.push(-this.props.dataShortfall[i])\r\n      pv = 0;\r\n      for (j = i; j < this.props.dataShortfall.length; ++j)\r\n        pv += this.props.dataShortfall[j] / Math.pow(1.03, j - i);\r\n\r\n      if (i > 0 && i < 20) pv += totalLiab * Math.pow(1.02, i);\r\n      dataFutureINA.push(pv);\r\n    }\r\n    // console.log(totalLiab, dataFutureINA);\r\n\r\n/*     let dataPositiveShortfall = [];\r\n    for (j = 0; j < this.props.dataShortfall.length; ++j)\r\n        dataPositiveShortfall[j]= this.props.dataShortfall[j]>0?this.props.dataShortfall[j]:0;\r\n     \r\n\r\n\r\n\r\n */   \r\n      \r\n      const dataShortfall = {\r\n      labels: this.props.dataNAAges, // [39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84],\r\n      datasets: [\r\n        {\r\n          label: labelsBilingual.shortfall,\r\n          data: shortfallNeg,//this.props.dataShortfall,\r\n          //[10964, 13734, 14008, 14288, 14574, 14866, 15163, 15466, 15776, 16091, 16413, 16741, 17076, 17417, 17766, 18121, 18484, 18853, 19230, 19615, 20007, 20407, 20815, 21232, 21656, 22090, 27632, 28184, 28748, 29323, 29910, 30508, 31118, 31740, 32375, 33023, 33683, 34357, 35044, 35745, 36460, 37189, 37933, 38691, 39465, 40254],\r\n          fill: false, // Don't fill area under the line\r\n          borderColor: \"darkred\", // Line color\r\n          backgroundColor: \"darkred\"\r\n        }\r\n      ]\r\n    };\r\n\r\n    var optionsPie = {\r\n      responsive: true,\r\n      title: {\r\n        display: true,\r\n        position: \"top\",\r\n        text: labelsBilingual.assetsBrk,//\"Assets Breakdown Today\",\r\n        fontSize:  mobile?10:14,//8,\r\n        fontColor: \"#111\"\r\n      },\r\n      legend: {\r\n        display: true,\r\n        position: \"right\",\r\n        labels: {\r\n          fontColor: \"#333\",\r\n          fontSize: mobile?10:12//16\r\n        }\r\n      }\r\n    };\r\n     \r\n    let optionsPieLiabs = JSON.parse(JSON.stringify(optionsPie));\r\n\r\n    \r\n    optionsPieLiabs.title.text= labelsBilingual.liabsBrk//\"Liabilities Breakdown\" \r\n     \r\n    const dataPieAssets = {\r\n      labels: [\r\n        labelsBilingual.cashLike,labelsBilingual.RRSP,labelsBilingual.shares,labelsBilingual.realEstate,labelsBilingual.otherAssets\r\n      ],\r\n      datasets: [\r\n        {\r\n             data: [\r\n            getAssetsCategoryTotal(this.props.dataInput,ASSETS.CASH.Key)+\r\n            getAssetsCategoryTotal(this.props.dataInput,ASSETS.LIFE_INSURANCE.Key)+\r\n            getAssetsCategoryTotal(this.props.dataInput,ASSETS.CHARITABLE_GIFTS_TAX_CREDIT.Key)\r\n            +getAssetsCategoryTotal(this.props.dataInput,ASSETS.TFSA.Key)\r\n            , \r\n            getAssetsCategoryTotal(this.props.dataInput,ASSETS.RRSP_RRIF.Key), \r\n            getAssetsCategoryTotal(this.props.dataInput,ASSETS.SMALL_BUSINESS_SHARES.Key)+\r\n            getAssetsCategoryTotal(this.props.dataInput,ASSETS.STOCKS_BONDS.Key),\r\n            getAssetsCategoryTotal(this.props.dataInput,ASSETS.REAL_ESTATE.Key)+\r\n            getAssetsCategoryTotal(this.props.dataInput,ASSETS.PERSONAL_RESIDENCE.Key),\r\n            getAssetsCategoryTotal(this.props.dataInput,ASSETS.OTHER_ASSETS.Key)\r\n          ],\r\n          backgroundColor: [\"#F7464A\", \"#46BFBD\", \"#FDB45C\", \"#949FB1\", \"#4D5360\"]\r\n        }\r\n      ]\r\n    }\r\n\r\n    const dataPieLiabs = {\r\n      labels: [\r\n        labelsBilingual.loans, labelsBilingual.taxes, labelsBilingual.emergency, labelsBilingual.otherLiabs,labelsBilingual.atDeath\r\n        \r\n      ],\r\n      datasets: [\r\n        {\r\n             data: [\r\n            getLiabsCategoryTotal(this.props.dataInput,LIABILITIES.OUTSTANDING_LOANS.Key)+\r\n            getLiabsCategoryTotal(this.props.dataInput,LIABILITIES.MORTGAGE_REDEMPTION.Key)+\r\n            getLiabsCategoryTotal(this.props.dataInput,LIABILITIES.CREDIT_CARDS.Key)+\r\n            getLiabsCategoryTotal(this.props.dataInput,LIABILITIES.CLIENT_TAX_LIABILITY.Key)\r\n            , \r\n            getLiabsCategoryTotal(this.props.dataInput,LIABILITIES.INCOME_TAXES.Key), \r\n            getLiabsCategoryTotal(this.props.dataInput,LIABILITIES.EMERGENCY_FUND.Key),\r\n            getLiabsCategoryTotal(this.props.dataInput,LIABILITIES.OTHER.Key)+\r\n            getLiabsCategoryTotal(this.props.dataInput,LIABILITIES.CHILD_HOME_CARE.Key),\r\n            getLiabsCategoryTotal(this.props.dataInput,LIABILITIES.LAST_EXPENSES.Key)+\r\n        getLiabsCategoryTotal(this.props.dataInput,LIABILITIES.LEGAL_AND_EXECUTOR_FEES.Key)+\r\n        getLiabsCategoryTotal(this.props.dataInput,LIABILITIES.LEGACY_FOR_CHILDREN.Key)+\r\n        getLiabsCategoryTotal(this.props.dataInput,LIABILITIES.CHARITABLE_GIFTS.Key)+\r\n        getLiabsCategoryTotal(this.props.dataInput,LIABILITIES.PROBATE.Key)\r\n          ],\r\n          backgroundColor: [\"#F7464A\", \"#46BFBD\", \"#FDB45C\", \"#949FB1\", \"#4D5360\"]\r\n        }\r\n      ]\r\n    }\r\n/* \r\n    let needToE =\r\n      this.props.periodOption === 0 ? labels.insNeedsRet: labels.insNeedsRetLE\r\n      /*   ? \"Insurance Needs to retirement (age \"\r\n        : \"Insurance Needs to life expectancy (age \";\r\n    let needToF =\r\n      this.props.periodOption === 0\r\n        ? \"Besoins en assurance jusqu'à la retraite(âge \"\r\n        : \"Besoins en assurance jusqu'à l'espérance de vie (âge \"; \r\n    let needTo = lang === \"en\" ? needToE : needToF;\r\n */\r\n    /* let needTo =\r\n      this.props.periodOption ===DISPLAY_RETIREMENT ? labelsBilingual.insNeedsRet: (this.props.periodOption === DISPLAY_ENDAGE?labelsBilingual.insNeeds100:labelsBilingual.insNeedsRetLE)\r\n    if(this.props.periodOption !== DISPLAY_ENDAGE)\r\n      needTo += +this.props.projectEnd + \")\";\r\n */\r\n/* \r\n      const clients=this.props.dataInput.Clients\r\n      const projYears = familyProjectionYears(\r\n        clients,\r\n        this.props.dataInput.Presentations[0].periodOption,\r\n        this.props.LE,\r\n        this.props.LE\r\n      );\r\n      //const projectEnd = projYears.projectionEnd;\r\n      const protectionPeriod = projYears.noProjectionYrs;\r\n     // const minAge = projYears.survivorAge;\r\n      const singleFamily = isSingleFamily(clients);\r\n      const noSurvivor = clients.length===1;  \r\n      const insNeedLine= getInsNeedLine(this.props.dataInput.Presentations[0], this.props.projectEnd, lang,noSurvivor,singleFamily,protectionPeriod)\r\n     */const needTo=this.props.insNeedLine\r\n\r\n    \r\n/*     const assetsPie= this.props.dataInput.Assets.length>0 &&\r\n    <article className=\"canvas-container\" style={{height: \"450px\" }}>\r\n     <div style={{overflow:'hidden', float: 'left', width: '50%',height: \"400px\" }}><Pie data={dataPieAssets} options={optionsPie} /></div>\r\n    </article>\r\n */\r\n\r\nconst assetsPie= this.props.dataInput.Assets.length>0 &&\r\n    <article id=\"pieAssets\" \r\n\r\n/* style={{ position: \"relative\", left: \"20px\", height: \"400px\"}} */\r\n>\r\n\r\n<div className=\"INAPie\">\r\n<Pie  data={dataPieAssets} options={optionsPie}  />\r\n</div>\r\n</article>\r\n\r\n\r\n/* \r\nconst liabsPie= this.props.dataInput.Liabilitys.length>0 &&\r\n   <article className=\"canvas-container\" style={{height: \"450px\" }}>\r\n   <div style={{overflow:'hidden', float: 'left', width: '50%',height: \"400px\" }}><Pie data={dataPieLiabs} options={optionsPieLiabs} /></div>\r\n </article>\r\n */\r\nconst liabsPie= this.props.dataInput.Liabilitys.length>0 &&\r\n    <article   id=\"pieLiabs\" \r\n/* style={{ position: \"relative\", height: \"400px\"}} */\r\n>\r\n\r\n<div className=\"INAPie\">\r\n<Pie data={dataPieLiabs} options={optionsPieLiabs} />\r\n</div>\r\n</article>\r\n\r\nconst singlePerson = this.props.dataInput.Clients.length === 1 ? true : false;\r\nconst noSurvivor = singlePerson && versionDetails().versionNumeric<=10014\r\n\r\nif (noSurvivor) {\r\n  return (\r\n    <div>\r\n      <h3 className=\"ppi1\">{needTo}</h3>\r\n    </div>\r\n  );\r\n}else {\r\n    return (\r\n      <div>\r\n        \r\n        <div style={{ width: \"100%\", float: \"left\", clear: \"left\" }}>\r\n            \r\n            <input\r\n              className=\"roundedCornerCmd\"\r\n              style={{\r\n             //   width: \"80px\",\r\n                marginTop: PDFTopMargin +\"px\",\r\n                marginRight: \"0px\",\r\n                paddingRight: \"8px\",\r\n                float: \"right\",\r\n              }}\r\n              onClick={this.doPDF}\r\n              type=\"button\"\r\n              value={CONTROLTITLE[lang].pdfINAAppendix}\r\n            />\r\n          </div>\r\n        <h3 className=\"ppi1\">\r\n          {needTo}{/* : ${formatMoney(cleanFormat(this.props.insuranceNeed,formatFr), 0, decimalChar, thousands)} */} \r\n          <Info\r\n              infoIcon={getInfoINA(lang)}\r\n          />\r\n        </h3>\r\n\r\n        <br />\r\n        <div style={{ width: \"90%\" }}>\r\n          <div style={{ width: \"100%\" }}>\r\n          <article  id=\"barNeeds\" className=\"canvas-containerINAGraphs\">\r\n              <Bar data={data} options={options} />\r\n            </article>\r\n            <article  id=\"barShortfall\" className=\"canvas-containerINAGraphs\">\r\n              <Bar  data={dataShortfall} options={options} />\r\n            </article>\r\n            <br />\r\n            <h3 className=\"ppi1\">\r\n                {labelsBilingual.currFins}\r\n                \r\n            </h3>\r\n            {\r\n               <div>\r\n                 {assetsPie}<br/><br/>{liabsPie}\r\n              </div> \r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n}\r\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// Imports\r\nimport React, { Component } from \"react\";\r\nimport jsPDF from \"jspdf\";\r\n\r\n// Constants\r\nconst PORTRAIT = \"portrait\";\r\nconst PT = \"pt\";\r\nconst LETTER = \"letter\";\r\n\r\nconst PNG = \"png\";\r\n\r\nexport const HELVETICA = \"Helvetica\";\r\nexport const TIMES = \"Times\";\r\n\r\nexport const NORMAL = \"normal\";\r\nexport const BOLD = \"bold\";\r\nexport const ITALIC = \"italic\";\r\n\r\nexport const HEADER_RECT_IN_X: number = 1;\r\nexport const HEADER_RECT_IN_Y: number = 0.48;\r\nexport const HEADER_RECT_IN_W: number = 6.4;\r\nexport const HEADER_RECT_IN_H: number = 0.45;\r\nexport const HEADER_RECT_R: number = 148;\r\nexport const HEADER_RECT_G: number = 148;\r\nexport const HEADER_RECT_B: number = 148;\r\n\r\nexport const HEADER_TEXT_PT_SIZE: number = 10;\r\nexport const HEADER_TEXT_IN_X: number = 1;\r\nexport const HEADER_TEXT_IN_Y: number = 0.75;\r\nexport const HEADER_TEXT_IN_W: number = 6;\r\nexport const HEADER_TEXT_R: number = 0xff;\r\nexport const HEADER_TEXT_G: number = 0xff;\r\nexport const HEADER_TEXT_B: number = 0xff;\r\n\r\nexport const FOOTER_TEXT_PT_SIZE: number = 8;\r\nexport const FOOTER_TEXT_IN_X: number = 1.5;\r\nexport const FOOTER_TEXT_IN_Y: number = 11 - 3 * 0.125;\r\nexport const FOOTER_TEXT_IN_Y_L: number = 8 - 3 * 0.125;\r\n\r\nexport const TEXT_R: number = 0x45;\r\nexport const TEXT_G: number = 0x55;\r\nexport const TEXT_B: number = 0x60;\r\n\r\nexport const MAX_LOGO_HEIGHT = 0.38;\r\n// Functions\r\nexport const InToPt = (in_) => {\r\n  return in_ * 25;\r\n};\r\n\r\nexport const PxToPt = (px) => {\r\n  return (px / 96) * 72;\r\n};\r\n\r\nconst fontName = HELVETICA;\r\nconst fontStyle = NORMAL;\r\nconst fontSize = 16;\r\n\r\nconst textRed = 0x00;\r\nconst textGreen = 0x00;\r\nconst textBlue = 0x00;\r\n\r\nconst fillRed = 0xff;\r\nconst fillGreen = 0xff;\r\nconst fillBlue = 0xff;\r\n\r\nconst showGrids = true;\r\n\r\nconst PAGE_WIDTH = 8.4;\r\nexport const PAGE_HEIGHT = 11;\r\nconst PAGE_USED_AREA_LEFT = 1.2;\r\nconst PAGE_USED_AREA_RIGHT = 7.24;\r\n\r\n// Classes\r\nexport class PDF extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    this.pdf = new jsPDF();\r\n  }\r\n\r\n  AddImage = (imageID, x, y, w, h) => {\r\n    if (this.pdf === null) return;\r\n    const imgData = document.getElementById(imageID);\r\n    const imgProps = this.pdf.getImageProperties(imgData);\r\n    const pdfHeight = (imgProps.height * w) / imgProps.width;\r\n    if (pdfHeight > h) {\r\n      w = (imgProps.width * h) / imgProps.height;\r\n    } else h = pdfHeight;\r\n    this.pdf.addImage(document.getElementById(imageID), PNG, x, y, w, h);\r\n  };\r\n\r\n  AddImageFitWidthOnly = (imageID, x, y, w, maxHeight) => {\r\n    if (this.pdf === null) return;\r\n    let imgData = document.getElementById(imageID);\r\n\r\n    if (imgData !== null) {\r\n      try {\r\n        const imgProps = this.pdf.getImageProperties(imgData);\r\n\r\n        //const pdfWidth = this.pdf.internal.pageSize.getWidth();\r\n        let pdfHeight = (imgProps.height * w) / imgProps.width;\r\n\r\n        if (pdfHeight > maxHeight) {\r\n          if (x + w > (3 * InToPt(PAGE_WIDTH)) / 4)\r\n            x += w - (w * maxHeight) / pdfHeight;\r\n          else if (x + (w * maxHeight) / pdfHeight / 2 > InToPt(PAGE_WIDTH) / 4)\r\n            x += w / 2 - (w * maxHeight) / pdfHeight / 2;\r\n\r\n          /*  else if(x+w/2>InToPt(PAGE_WIDTH/4))\r\n          x-=(w-w*maxHeight / pdfHeight)/2 */\r\n\r\n          w *= maxHeight / pdfHeight;\r\n          pdfHeight = maxHeight;\r\n        }\r\n        this.pdf.addImage(imgData, PNG, x, y, w, pdfHeight);\r\n        return true;\r\n      } catch (error) {\r\n        return false;\r\n      }\r\n    }\r\n  };\r\n\r\n  addCustomImage = (id, pg1TitleY, image, firstPage, top) => {\r\n     const left =\r\n      image === null || image === undefined\r\n        ? 0\r\n        : (image.left * HEADER_RECT_IN_W) / 100;\r\n    const result = this.AddImageFitWidthOnly(\r\n      id,\r\n      InToPt(pg1TitleY - 3 + left), //1.51),\r\n      InToPt(\r\n        firstPage\r\n          ? top\r\n            ? 1.06\r\n            : FOOTER_TEXT_IN_Y + 0.25\r\n          : top\r\n          ? 0.29\r\n          : FOOTER_TEXT_IN_Y + 0.25\r\n      ),\r\n      InToPt((6.04 * image.size) / 100),\r\n      InToPt(firstPage ? (top ? 2.76 : MAX_LOGO_HEIGHT) : MAX_LOGO_HEIGHT) // max height\r\n    );\r\n    return result;\r\n  };\r\n\r\n  AddChart = (containerID, x, y, w, h) => {\r\n    if (this.pdf === null) return;\r\n\r\n    const CANVAS_CLASS_NAME = \"chartjs-render-monitor\";\r\n\r\n    let containerElement = document.getElementById(containerID);\r\n    let canvasElement = null;\r\n\r\n    if (containerElement !== null)\r\n      if (\r\n        containerElement.getElementsByClassName(CANVAS_CLASS_NAME).length === 1\r\n      )\r\n        canvasElement = containerElement.getElementsByClassName(\r\n          CANVAS_CLASS_NAME\r\n        )[0];\r\n\r\n    let dataUrl = canvasElement.toDataURL();\r\n\r\n    if (dataUrl !== null) this.pdf.addImage(dataUrl, \"JPEG\", x, y, w, h);\r\n  };\r\n\r\n  AddCanvas = (canvasID, x, y, w, h) => {\r\n    if (this.pdf === null) return;\r\n\r\n    let canvasElement = null;\r\n    let dataUrl = null;\r\n\r\n    canvasElement = document.getElementById(canvasID);\r\n\r\n    if (canvasElement !== null) dataUrl = canvasElement.toDataURL();\r\n\r\n    if (dataUrl !== null) this.pdf.addImage(dataUrl, \"JPEG\", x, y, w, h);\r\n  };\r\n\r\n  AddPage = (mode) => {\r\n    if (this.pdf === null) return;\r\n\r\n    this.pdf.addPage(\"\", mode);\r\n  };\r\n\r\n  Create = () => {\r\n    if (this.pdf !== null) return;\r\n\r\n    this.pdf = new jsPDF({\r\n      orientation: PORTRAIT,\r\n      unit: PT,\r\n      format: LETTER,\r\n    });\r\n  };\r\n\r\n  ShowGrids = () => {\r\n    return this.showGrids;\r\n  };\r\n\r\n  ShowGrids = (showGrids) => {\r\n    this.showGrids = showGrids;\r\n  };\r\n\r\n  Grid = () => {\r\n    if (this.pdf === null) return;\r\n\r\n    if (this.showGrids === false) return;\r\n\r\n    const FONT_SIZE = 12;\r\n    const LARGE_FONT_SIZE = 16;\r\n\r\n    this.pdf.setFontSize(12);\r\n    this.pdf.setFont(HELVETICA, NORMAL);\r\n    this.pdf.setTextColor(0x00, 0x88, 0x00);\r\n\r\n    let x;\r\n    let y;\r\n\r\n    this.pdf.text(\"0\", 0, FONT_SIZE);\r\n\r\n    for (x = 1; x <= 8; x++) this.pdf.text(\"\" + x, InToPt(x), FONT_SIZE);\r\n\r\n    for (y = 1; y <= 11; y++) this.pdf.text(\"\" + y, 0, InToPt(y));\r\n\r\n    for (x = 0.25; x <= 8.5; x += 0.25)\r\n      for (y = 0.25; y <= 11; y += 0.25)\r\n        this.pdf.text(\".\", InToPt(x), InToPt(y));\r\n\r\n    this.pdf.setFont(HELVETICA, BOLD);\r\n    this.pdf.setFontSize(LARGE_FONT_SIZE);\r\n    for (x = 1; x <= 8; x += 1)\r\n      for (y = 1; y <= 11; y += 1) this.pdf.text(\".\", InToPt(x), InToPt(y));\r\n\r\n    if (this.fontSize !== null) this.pdf.setFontSize(this.fontSize);\r\n\r\n    if (\r\n      this.textRed !== null &&\r\n      this.textGreen !== null &&\r\n      this.textBlue !== null\r\n    )\r\n      this.pdf.setTextColor(this.textRed, this.textGreen, this.textBlue);\r\n\r\n    if (this.fontName !== null && this.fontStyle !== null)\r\n      this.pdf.setFont(this.fontName, this.fontStyle);\r\n  };\r\n\r\n  MultilineText = (text, x, y, w) => {\r\n    if (this.pdf === null) return;\r\n\r\n    let textLines = [];\r\n\r\n    textLines = this.pdf.splitTextToSize(text, w, {\r\n      fontName: this.fontName,\r\n      fontSize: this.fontSize,\r\n    });\r\n\r\n    this.pdf.text(textLines, x, y);\r\n  };\r\n\r\n  DrawLine = (x, y, w) => {\r\n    this.pdf.line(x, y, x + w, y);\r\n  };\r\n\r\n  Reset = () => {\r\n    this.pdf = null;\r\n  };\r\n\r\n  SetFont = (fontName, fontStyle) => {\r\n    if (this.pdf === null) return;\r\n\r\n    this.pdf.setFont(fontName, fontStyle);\r\n\r\n    this.fontName = fontName;\r\n    this.fontStyle = fontStyle;\r\n  };\r\n\r\n  SetFontSize = (fontSize) => {\r\n    if (this.pdf === null) return;\r\n\r\n    this.pdf.setFontSize(fontSize);\r\n\r\n    this.fontSize = fontSize;\r\n  };\r\n\r\n  Save = (fileName) => {\r\n    if (this.pdf === null) return;\r\n\r\n    this.pdf.save(fileName);\r\n  };\r\n\r\n  SetTextColor = (red, green, blue) => {\r\n    if (this.pdf === null) return;\r\n\r\n    this.pdf.setTextColor(red, green, blue);\r\n\r\n    this.textRed = red;\r\n    this.textGreen = green;\r\n    this.textBlue = blue;\r\n  };\r\n\r\n  SetFillColor = (red, green, blue) => {\r\n    if (this.pdf === null) return;\r\n\r\n    this.pdf.setFillColor(red, green, blue);\r\n\r\n    this.fillRed = red;\r\n    this.fillGreen = green;\r\n    this.fillBlue = blue;\r\n  };\r\n\r\n  showOnPage = () => {\r\n    //this.pdf.output('datauri');\r\n    //window.open(this.pdf.output('bloburl'))\r\n    //this.pdf.output('dataurlnewwindow');\r\n    //return this.pdf.output('datauri')\r\n    var blob = this.pdf.output(\"bloburl\");\r\n    return blob;\r\n  };\r\n  Rectangle = (x, y, w, h) => {\r\n    if (this.pdf === null) return;\r\n\r\n    this.pdf.roundedRect(x, y, w, h, 0, 0, \"F\");\r\n  };\r\n\r\n  textWidth = (text) => {\r\n    var arrayText = text.split(\" \");\r\n    let minWidth = 0;\r\n    //console.log(arrayText)\r\n    for (let i = 0; i < arrayText.length; i++) {\r\n      minWidth = Math.max(minWidth, this.pdf.getTextWidth(arrayText[i]));\r\n    }\r\n    return minWidth / 25; // pt to int\r\n  };\r\n  textWidthMultiLine = (text, width) => {\r\n    let arrayText = this.pdf.splitTextToSize(text, InToPt(width));\r\n    let minWidth = 0;\r\n    for (let i = 0; i < arrayText.length; i++) {\r\n      minWidth = Math.max(minWidth, this.pdf.getTextWidth(arrayText[i]));\r\n    }\r\n    return minWidth / 25; // pt to int\r\n  };\r\n\r\n  adjustTextWidth = (arrayText) => {\r\n    let minWidth = 0;\r\n    for (let i = 0; i < arrayText.length; i++) {\r\n      minWidth = Math.max(minWidth, this.pdf.getTextWidth(arrayText[i]));\r\n    }\r\n    return minWidth / 25; // pt to int\r\n  };\r\n\r\n  tableRow = (\r\n    fill,\r\n    textColor,\r\n    x,\r\n    y,\r\n    values,\r\n    height,\r\n    Widths,\r\n    box,\r\n    align,\r\n    title\r\n  ) => {\r\n    const lines2Fac = 1.75;\r\n    const lines3Fac = 2.7;\r\n    const cols = values.length;\r\n    let textY = y + height / 2 + 0.05;\r\n    // wrap if needed\r\n    let h = height;\r\n    for (i = 1; i <= cols; i++) {\r\n      if (\r\n        this.pdf.getTextWidth(values[i - 1]) > 2 * InToPt(Widths[i - 1]) &&\r\n        h < parseFloat(lines3Fac * height)\r\n      ) {\r\n        //console.log(values[i - 1],this.pdf.getTextWidth(values[i - 1]),.8*InToPt(Widths[i - 1]))\r\n        h = lines3Fac * height;\r\n        textY = y + height / 2 + 0.07;\r\n      } else if (\r\n        this.pdf.getTextWidth(values[i - 1]) > InToPt(Widths[i - 1]) &&\r\n        h < parseFloat(lines2Fac * height)\r\n      ) {\r\n        //console.log(values[i - 1],this.pdf.getTextWidth(values[i - 1]),.8*InToPt(Widths[i - 1]))\r\n        h = lines2Fac * height;\r\n        textY = y + height / 2 + 0.07;\r\n      }\r\n      let textOut;\r\n      if (h > height) {\r\n        textOut = this.pdf.splitTextToSize(\r\n          values[i - 1],\r\n          InToPt(Widths[i - 1] - 0.1)\r\n        );\r\n        // adjust width if necessary\r\n        //console.log(textOut,h,height)\r\n        if (title === true) {\r\n          if (textOut.length > 2 && h < parseFloat(lines3Fac * height))\r\n            h = lines3Fac * height;\r\n          else if (textOut.length > 1 && h < parseFloat(lines2Fac * height))\r\n            h = lines2Fac * height;\r\n          textY = y + height / 2 + 0.07;\r\n          // console.log(textOut,h,height)\r\n        }\r\n      }\r\n    }\r\n    this.SetTextColor(textColor[0], textColor[1], textColor[2]);\r\n    //this.SetFontSize(12);\r\n    var i;\r\n    let rightAlign;\r\n    let xi = x;\r\n    for (i = 1; i <= cols; i++) {\r\n      // wrap if needed\r\n      let textOut;\r\n      if (h > height) {\r\n        textOut = this.pdf.splitTextToSize(\r\n          values[i - 1],\r\n          InToPt(Widths[i - 1] - 0.1)\r\n        );\r\n      } else {\r\n        textOut = values[i - 1];\r\n        if (align !== undefined) {\r\n          if (align[i - 1] !== undefined) {\r\n            if (align[i - 1] === 2) rightAlign = true;\r\n          }\r\n        }\r\n      }\r\n      this.SetFillColor(fill[0], fill[1], fill[2]);\r\n      this.Rectangle(\r\n        InToPt(xi),\r\n        InToPt(y),\r\n        InToPt(Widths[i - 1] + 0.1),\r\n        InToPt(h)\r\n      );\r\n      if (box) {\r\n        this.pdf.setDrawColor(155, 155, 155);\r\n        this.pdf.rect(\r\n          InToPt(xi),\r\n          InToPt(y),\r\n          InToPt(Widths[i - 1] + 0.1),\r\n          InToPt(h)\r\n        );\r\n      }\r\n      if (rightAlign)\r\n        this.RightText(\r\n          values[i - 1],\r\n          InToPt(xi - 0.05),\r\n          InToPt(textY),\r\n          InToPt(Widths[i - 1])\r\n        );\r\n      else this.pdf.text(textOut, InToPt(xi + 0.1), InToPt(textY));\r\n\r\n      //  this.MultilineText(values[i - 1], InToPt(xi + .1), InToPt(y + .25), InToPt(3));\r\n      xi += Widths[i - 1];\r\n    }\r\n    //pdf.SetFillColor(fill[0], fill[1], fill[2]);\r\n    //pdf.Rectangle(InToPt(x), InToPt(y), InToPt(w), InToPt(height));\r\n    //pdf.Text(\"Family Profile\", InToPt(x[0] + .1), InToPt(y + .25));\r\n    //pdf.SetFillColor(115, 153, 198);\r\n    //pdf.Rectangle(InToPt(x[1]), InToPt(y), InToPt(w), InToPt(0.4));\r\n    //pdf.Text(\"Income\", InToPt(x[1] + .1), InToPt(y + .25));\r\n    //pdf.SetFillColor(115, 153, 198);\r\n    //pdf.Rectangle(InToPt(x[2]), InToPt(y), InToPt(w), InToPt(0.4));\r\n    //pdf.Text(\"Retirement Age\", InToPt(x[2] + .1), InToPt(y + .25));\r\n\r\n    return h - height; // excess height from here\r\n  };\r\n\r\n  Text = (text, x, y) => {\r\n    if (this.pdf === null) return;\r\n\r\n    this.pdf.text(text, x, y);\r\n  };\r\n\r\n  CenterText = (text, x, y, w) => {\r\n    if (this.pdf === null) return;\r\n\r\n    let tw = this.pdf.getTextWidth(text);\r\n\r\n    this.pdf.text(text, x + (w - tw) / 2, y);\r\n  };\r\n\r\n  RightText = (text, x, y, w) => {\r\n    if (this.pdf === null) return;\r\n\r\n    let tw = this.pdf.getTextWidth(text);\r\n\r\n    this.pdf.text(text, x + (w - tw) + 0.1, y);\r\n  };\r\n\r\n  Header = (textH, headerOffset) => {\r\n    if (headerOffset === undefined) headerOffset = 0;\r\n    this.SetFillColor(HEADER_RECT_R, HEADER_RECT_G, HEADER_RECT_B);\r\n\r\n    this.Rectangle(\r\n      InToPt(HEADER_RECT_IN_X),\r\n      InToPt(HEADER_RECT_IN_Y + headerOffset),\r\n      InToPt(HEADER_RECT_IN_W),\r\n      InToPt(HEADER_RECT_IN_H)\r\n    );\r\n\r\n    this.SetTextColor(HEADER_TEXT_R, HEADER_TEXT_G, HEADER_TEXT_B);\r\n    this.SetFont(HELVETICA, NORMAL);\r\n    this.SetFontSize(HEADER_TEXT_PT_SIZE);\r\n    this.CenterText(\r\n      textH,\r\n      InToPt(HEADER_TEXT_IN_X),\r\n      InToPt(HEADER_TEXT_IN_Y + headerOffset),\r\n      InToPt(HEADER_TEXT_IN_W)\r\n    );\r\n  };\r\n\r\n  addFooterAndHeader = (headerOffset, footerText, headerText) => {\r\n    this.Footer(footerText);\r\n    this.AddPage();\r\n    this.Header(headerText, headerOffset);\r\n  };\r\n\r\n  Footer = (textF) => {\r\n    this.SetTextColor(TEXT_R, TEXT_G, TEXT_B);\r\n    this.SetFont(TIMES, NORMAL);\r\n    this.SetFontSize(FOOTER_TEXT_PT_SIZE);\r\n    this.Text(textF, InToPt(FOOTER_TEXT_IN_X), InToPt(FOOTER_TEXT_IN_Y));\r\n  };\r\n\r\n  FooterLandscape = (textF) => {\r\n    this.SetTextColor(TEXT_R, TEXT_G, TEXT_B);\r\n    this.SetFont(TIMES, NORMAL);\r\n    this.SetFontSize(FOOTER_TEXT_PT_SIZE);\r\n    this.Text(textF, InToPt(FOOTER_TEXT_IN_X), InToPt(FOOTER_TEXT_IN_Y_L));\r\n  };\r\n\r\n  drawRect(paraLeft, paraY, paraWidth, height, color) {\r\n    this.SetFillColor(color[0], color[1], color[2]);\r\n    this.pdf.rect(\r\n      InToPt(paraLeft),\r\n      InToPt(paraY),\r\n      InToPt(paraWidth),\r\n      InToPt(height),\r\n      \"F\"\r\n    );\r\n  }\r\n\r\n  addFooter = (footer, title) => {\r\n    this.Footer(footer);\r\n    this.AddPage();\r\n    this.Header(title);\r\n  };\r\n\r\n  addHeaderNoFooter = (headerOffset, headerText) => {\r\n    this.AddPage();\r\n    this.Header(headerText, headerOffset);\r\n  };\r\n\r\n  tableRowSingle = (\r\n    fill,\r\n    textColor,\r\n    x,\r\n    y,\r\n    values2,\r\n    height,\r\n    Widths,\r\n    coloured\r\n  ) => {\r\n    const values = [values2];\r\n\r\n    if (coloured)\r\n      // has colour\r\n      this.tableRow(fill, textColor, x, y + 0.1, values, height - 0.1, [1.2]);\r\n    else this.tableRow(fill, textColor, x, y, values, height, Widths);\r\n  };\r\n\r\n}"],"sourceRoot":""}