(this.webpackJsonptoolkitdirect=this.webpackJsonptoolkitdirect||[]).push([[18],{277:function(e,r,a){"use strict";a.r(r),a.d(r,"default",(function(){return f}));var s=a(18),t=a(19),o=a(21),u=a(20),p=a(0),n=a.n(p),i=a(119),l=a(61),d=a(3),c=(a(33),a(1)),h=a(60),b=a(15),f=function(e){Object(o.a)(a,e);var r=Object(u.a)(a);function a(e){var t,o;Object(s.a)(this,a),(t=r.call(this,e)).displayName=a.name,t.handleDoRemove=function(e){!1===t.props.disableAddRemove&&t.props.handleRemoveSource(e)},t.isSourceGovNonOrphanBenefit=function(e){return e===c.fb.GOV_SURVIVORS_PENSION.Key||e===c.fb.GOV_DEATH_BENEFIT.Key},t.isDividendIncome=function(e){return e===c.fb.DIVIDEND_INCOME.Key},t.isSourceGovOrphansBenefit=function(e){return e===c.fb.GOV_ORPHANS_BENEFIT.Key},t.handleDoAdd=function(){if(!1===t.props.disableAddRemove){var e=t.props.sourcesNo>t.dataValues.DD[0].Values.length-1?t.dataValues.DD[0].Values.length-1:t.props.sourcesNo;e>t.dataValues.DD[0].Values.length-1&&(e-=1);for(var r=Object(d.q)(c.fb,t.dataValues.DD[0].Values[e].label);r===c.fb.GOV_DEATH_BENEFIT.Key||r===c.fb.GOV_SURVIVORS_PENSION.Key||r===c.fb.GOV_ORPHANS_BENEFIT.Key&&!1===t.props.includeGovOrphanBenefit;)e+=1,r=Object(d.q)(c.fb,t.dataValues.DD[0].Values[e].label);for(;r===t.props.sourceCurr.sourceTypeKey&&t.props.sourceCurr.sourceTypeKey!==c.fb.OTHER.Key;)e+=1,r=Object(d.q)(c.fb,t.dataValues.DD[0].Values[e].label);var a={id:t.props.sourcesNo+1,sourceTypeKey:r,amount:0,startYear:0};r===c.fb.DIVIDEND_INCOME.Key&&(a.taxRate=c.B),t.props.handleAddSource(a)}},t.updateDDown=function(e,r){var a={id:t.props.sourceCurr.id,sourceTypeKey:t.props.sourceCurr.sourceTypeKey,amount:t.props.sourceCurr.amount,startYear:t.props.sourceCurr.startYear,duration:t.props.sourceCurr.duration,taxRate:t.props.sourceCurr.taxRate,annualGrowth:t.props.sourceCurr.annualGrowth};1===e?a.sourceTypeKey=Object(d.q)(c.fb,r):2===e&&(a.ownerID=r),t.props.handleUpdate(a)},t.handleUpdateInput=function(e,r){var a={id:t.props.sourceCurr.id,sourceTypeKey:t.props.sourceCurr.sourceTypeKey,amount:t.props.sourceCurr.amount,startYear:t.props.sourceCurr.startYear,duration:t.props.sourceCurr.duration,ownerID:t.props.sourceCurr.ownerID,taxRate:t.props.sourceCurr.taxRate,annualGrowth:t.props.sourceCurr.annualGrowth},s=!1,o=t.props.language,u=Object(d.b)(r,o),p=parseInt(u);1===e?(s=a.amount!==p,a.amount=p):2===e?(s=a.startYear!==r,a.startYear=r):3===e?(s=a.duration!==r,a.duration=r):4===e?(s=a.taxRate!==parseInt(100*u)/100,a.taxRate=parseInt(100*u)/100):5===e&&(s=a.annualGrowth!==parseInt(100*u)/100,a.annualGrowth=parseInt(100*u)/100),s&&(t.props.handleUpdate(a),t.setState({loading:t.props.disableAddRemove}))};var u=[],p=Object(d.s)(c.fb);for(o=0;o<p.length;++o)u.push({label:p[o].value[t.props.language],value:o+1});return t.state={},t.dataValues={DD:[{id:1,Title:c.u[t.props.language].type,defValue:Object(d.r)(c.fb,t.props.sourceCurr.sourceTypeKey,t.props.language),disableOptionValue:Object(d.m)(c.fb),Values:u}]},t.dataValues.DD[0].disableOptionValue[c.fb.GOV_DEATH_BENEFIT.ID]=!0,t.dataValues.DD[0].disableOptionValue[c.fb.GOV_SURVIVORS_PENSION.ID]=!0,t.dataValues.DD[0].disableOptionValue[c.fb.GOV_ORPHANS_BENEFIT.ID]=!0,t}return Object(t.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.sourceCurr===this.props.sourceCurr&&e.id===this.props.id&&e.sourcesNo===this.props.sourcesNo||(this.dataValues.DD[0].defValue=Object(d.r)(c.fb,e.sourceCurr.sourceTypeKey,this.props.language))}},{key:"render",value:function(){var e,r=this,a=this.isSourceGovNonOrphanBenefit(this.props.sourceCurr.sourceTypeKey),s=this.isSourceGovOrphansBenefit(this.props.sourceCurr.sourceTypeKey),t=this.isDividendIncome(this.props.sourceCurr.sourceTypeKey),o=this.props.sourceCurr.sourceTypeKey===c.fb.RRIF.Key;return o&&(e=[]).push({label:c.fb.RRIF.value[this.props.language],value:1}),!0===this.state.loading&&!0===this.props.disableAddRemove?"":n.a.createElement("div",{className:"inputRow"},this.dataValues.DD.map((function(a){return n.a.createElement(i.a,{key:a.id,id:a.id,Count:r.props.sourcesNo,Title:a.Title,width:c.V,language:r.props.language,defValue:a.defValue,Values:a.Values,disableOption:a.disableOptionValue,unlistedGreyedOption:e,updateDDown:r.updateDDown})})),!o&&n.a.createElement(h.a,{format:2,id:1,key:"amt",inputName:c.u[this.props.language].amountGross,readOnly:a,Count:this.props.sourcesNo,language:this.props.language,infoIcon:a||s?Object(b.C)(this.props.language):void 0,maxValue:s?this.props.sourceCurr.maxOrphan:void 0,inputValue:this.props.sourceCurr.amount,inputTitle:this.props.sourceCurr.id,handleUpdateInput:this.handleUpdateInput}),a||s?"":n.a.createElement(h.a,{format:1,id:2,inputName:o?c.u[this.props.language].RRIFAge:c.u[this.props.language].startYear,Count:this.props.sourcesNo,language:this.props.language,inputValue:this.props.sourceCurr.startYear,infoIcon:Object(b.p)(this.props.language),readOnly:o,inputTitle:this.props.sourceCurr.id,handleUpdateInput:this.handleUpdateInput}),a||o?"":n.a.createElement(h.a,{format:1,id:3,inputName:c.u[this.props.language].dur,Count:this.props.sourcesNo,language:this.props.language,inputValue:this.props.sourceCurr.duration,maxValue:s?this.props.sourceCurr.maxOrphanDur:void 0,inputTitle:this.props.sourceCurr.id,handleUpdateInput:this.handleUpdateInput}),t&&n.a.createElement(h.a,{id:4,inputName:c.u[this.props.language].dividendTaxRate,format:3,Count:this.props.sourcesNo,language:this.props.language,inputValue:this.props.sourceCurr.taxRate,inputTitle:this.props.sourceCurr.id,handleUpdateInput:this.handleUpdateInput}),n.a.createElement(l.a,{currentID:this.props.sourceCurr.id,numberComps:this.props.sourcesNo,handleDoAdd:this.handleDoAdd,handleDoRemove:this.handleDoRemove,disabled:this.props.disableAddRemove,disabledRemove:a||s}))}}]),a}(p.Component)}}]);
//# sourceMappingURL=18.97dc03b6.chunk.js.map