{"version":3,"sources":["components/OutputPDF.js","components/outputPresentation.js","../node_modules/process/browser.js","components/PDF.js"],"names":["getSpouseINA","props","a","data","spouseInsRet","dataOutput","dataInsuranceNeeds","Value","spouseInsLE","LESpouse","lifeExpectancy","spouse","dataInput","Clients","Age","formattedMoneyString","value","lang","formatted","toString","pdf","PDF","Create","output","getOutputValues","Presentations","language","provinceKey","getListItemKeyFromName","PROVINCE","province","maxDur","MAX_ORPHAN_DUR_QC","MAX_ORPHAN_DUR_NON_QC","orphAge","ORPHAN_AGE_QC","ORPHAN_AGE_NON_QC","clients","Assets","singleFamily","isSingleFamily","labelsBilingual","OUTPUTTEXT","singlePerson","length","thereAfterText","pgTabRowThereAfter_1","pgTabRowThereAfter","thereAfterTextSF","pg5TabRow7_1","pg5TabRow7","decimalChar","thousands","twoNeedPercents","percent2","pg1TitleY","SetFont","HELVETICA","NORMAL","SetFontSize","PxToPt","SetTextColor","Text","INAOption","TITLES","appletINA","appletEP","InToPt","image","adviserLogo","top","ID","appletImage","result","addCustomImage","IMAGE_LOGO","AddImage","IMAGE_APPLET_INA","pg1P1","designedFor","pg1P2","designedBy","pg1P3","dateApplet","pg1P4","headerOffset","topToTitle_Y","titleToPara_Y","HEADER_RECT_IN_Y","footerText","pgFooter","headerText","pg1T","addFooterAndHeader","IMAGE_LOGO_OTHERPAGES","OUTPUTTITLE","Values","TIMES","x","y","incY","incColourdRowsY","incTableY","height","val","pg2TabT4Alt","pg2TabT4","values","pg2TabT1_1","pg2TabT1","pg2TabT2","pg2TabT3","pg2TabT5","fill","textColor","Widths","tableRow","forEach","element","len","getListItemNameFromKey","MEMBER","memberKey","getName","name","age","income","CLIENT","Key","ret","id","avgTaxRate","values2","pg2T3","pg2P5","totalAssetExcludeInsurance","pg2P6","totalLiabExcludeDeathRelated","pg2P7","tableRowSingle","allDB","totalAssetInsurance","govDB","pg2P8","replace","pg2P9","totalLiab","DrawLine","pg2P10","Name","pg8TabRow3","LE","insNeedLE","pg8TabRow4Alt","pg8TabRow4","insNeedRet","spouseSwitched","cleanFormat","pg2P12","pg2P11","totalAssetInsuranceIfSpouse","pg2T2","pg7TabRow4","infRate","pg7TabRow5_1","pg7TabRow5","invRate","pg2TabT6","parseFloat","taxRate","toFixed","paragraph","pg2Tab2_1","pg2Tab2","MultilineText","pg2Tab3","pg3T_1","pg3T","pg3P1_1","pg3P1","pg3TabT","liabilities","pg3TabRTot","pg4TabT","pg4TabRow1_1","pg4TabRow1","Income","Income2","pg4TabRow2_1","pg4TabRow2","pgTabRowMoreIncome","percent1","map","item","pg4TabRow5","percentNeed1","percentNeed2","reduce","b","pg5T_1","pg5T","pg5TabT","pg5TabT2","pg5TabT3","pg5TabRow1","assets","disposeValue","pg5TabRow3","totalAsset","totalDisposeAsset","pg5TabRow4_1","pg5TabRow4","pg5TabRow5_1","pg5TabRow5","pg6T_1","pg6T","pg6TabT","sources","valueAtDeath","pg6TabRow1","pg6Net","totalSourceATaxAtDeath","totalSourceAtDeath","totalSource2ATaxAtDeath","totalSource2AtDeath","formatMoney","Math","max","pg8T","pg8TabT_1","pg8TabT","pg8TabRow1","pg8TabRow2","hasChild","ygChild","pg8TabRow5","youngestChildEndAge","insNeedYgChild25","pg8TabRow6","insNeedYgChild18","AddChart","pg9T","pg9P1","addHeaderNoFooter","pg10T","pg10P1","yOffset","pg10TabRow1","pg10TabRow11","pg10TabRow2","pg10TabRow3","Footer","alert","Save","OutputPresentation","doPDF","doSavePdfAction","doLIFO","window","parent","postMessage","encryptedInputLife1","doWL","doEP","encryptedInputLife1AndSpouse","doCompuLife","FA","insuranceNeed","today","Date","birthYr","getFullYear","birthMth","getMonth","birthDay","getDate","provinceCode","url","parseInt","AB","BC","MB","NB","NF","NS","NT","NU","ON","PE","QC","SK","YU","sexKey","SEX","MALE","smokerKey","SMOKING","NON_SMOKER","min","innerHeight","externalWindow","open","containerEl","document","createElement","body","appendChild","state","pdfRef","React","createRef","this","projYears","familyProjectionYears","periodOption","projectionEnd","noProjectionYrs","survivorAge","noSurvivor","versionDetails","versionNumeric","options","legend","display","responsive","maintainAspectRatio","scales","xAxes","stacked","yAxes","ticks","beginAtZero","callback","index","Intl","NumberFormat","format","dataLabels","dColor","filter","retirementAge","dataValues2","dataInsurance2","labels","datasets","label","borderColor","backgroundColor","needTo","insNeedLine","images","getLogoAndAppletImage","imageRemove","imageAdjust","logoTop","logoBottom","PDFTopMargin","className","ref","style","width","float","clear","marginTop","marginRight","paddingRight","onClick","type","CONTROLTITLE","Info","infoIcon","getInfoPDF","compulife","ep","lifo","wl","getInfoINA","logo1stPage","applet","overflowX","overflowY","marginLeft","key","SPOUSE","CHILD","DEPENDENT_ADULT","numFormat","QUOTE_CLIENT","QUOTE_SPOUSE","textAlign","pg4TabRow3","pg4TabRow4","border","colSpan","pg6TabRow2","fontSize","pg6TabRow4","insuranceNeedLE","insuranceNeedRet","color","paddingLeft","Component","cachedSetTimeout","cachedClearTimeout","process","module","exports","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","call","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","run","marker","runClearTimeout","Item","array","noop","nextTick","args","Array","arguments","i","push","prototype","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","BOLD","in_","px","imageID","w","h","imgData","getElementById","imgProps","getImageProperties","pdfHeight","addImage","AddImageFitWidthOnly","maxHeight","error","firstPage","left","undefined","FOOTER_TEXT_IN_Y","size","containerID","containerElement","canvasElement","getElementsByClassName","dataUrl","toDataURL","AddCanvas","canvasID","AddPage","mode","addPage","jsPDF","orientation","unit","ShowGrids","showGrids","Grid","setFontSize","setFont","setTextColor","text","textRed","textGreen","textBlue","fontName","fontStyle","textLines","splitTextToSize","line","Reset","fileName","save","red","green","blue","SetFillColor","setFillColor","fillRed","fillGreen","fillBlue","showOnPage","Rectangle","roundedRect","textWidth","arrayText","split","minWidth","getTextWidth","textWidthMultiLine","adjustTextWidth","box","align","rightAlign","cols","textY","textOut","xi","setDrawColor","rect","RightText","CenterText","tw","Header","textH","textF","FooterLandscape","addFooter","footer","coloured","paraLeft","paraY","paraWidth"],"mappings":"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","file":"static/js/14.eb030250.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {\r\n  OUTPUTTITLE,\r\n  TITLES,\r\n  MEMBER,\r\n  MAX_ORPHAN_DUR_QC,\r\n  MAX_ORPHAN_DUR_NON_QC,\r\n  ORPHAN_AGE_QC,\r\n  ORPHAN_AGE_NON_QC,\r\n  PROVINCE,\r\n  IMAGE_LOGO,\r\n  IMAGE_LOGO_OTHERPAGES,\r\n  IMAGE_APPLET_INA\r\n} from \"../definitions/generalDefinitions\";\r\nimport { OUTPUTTEXT } from \"../definitions/outputDefinitions\";\r\nimport {\r\n  getListItemNameFromKey,\r\n  formatMoney,\r\n  getListItemKeyFromName,\r\n  cleanFormat,\r\n  isSingleFamily,\r\n  getName,\r\n  formatted\r\n} from \"../utils/helper\";\r\nimport { getOutputValues } from \"../data/dataExchange\";\r\n\r\nimport {\r\n  PDF,\r\n  InToPt,\r\n  PxToPt,\r\n  HELVETICA,\r\n  TIMES,\r\n  NORMAL,\r\n  BOLD,\r\n  ITALIC,\r\n} from \"./PDF\";\r\n\r\nconst DISPLAY_INCOME = 1;\r\nconst DISPLAY_TAXLIAB = 2;\r\n\r\nconst LINE_CHART_DIV_ID = \"bar1\";\r\nconst LINE_CHART_DIV2_ID = \"lineChartDiv2\";\r\n\r\nconst LINE_CHART_DIV_STYLE = {\r\n  marginTop: \"65px\",\r\n  marginLeft: \"64px\",\r\n  marginBottom: \"64px\",\r\n  height: \"192px\",\r\n  width: \"384px\",\r\n};\r\n\r\nconst LINE_CHART_DIV2_STYLE = {\r\n  marginTop: \"65px\",\r\n  marginLeft: \"64px\",\r\n  marginBottom: \"64px\",\r\n  height: \"192px\",\r\n  width: \"384px\",\r\n};\r\n\r\nconst TOP_MARGIN = 0.48;\r\nconst PARA_WIDTH = 5.5;\r\n\r\n\r\nasync function getSpouseINA(props)\r\n{\r\n  let data;\r\n  data= await props.getSpouseINA();\r\n  const spouseInsRet=data.dataOutput.dataInsuranceNeeds[0].Value;\r\n  const spouseInsLE=data.dataOutput.dataInsuranceNeeds[1].Value;\r\n  const LESpouse=data.dataOutput.lifeExpectancy.spouse+data.dataInput.Clients[1].Age\r\n\r\n  return {spouseInsRet:spouseInsRet,spouseInsLE:spouseInsLE, LESpouse:LESpouse};\r\n}\r\n\r\nfunction formattedMoneyString(value,lang){\r\n  return formatted(value,lang).toString()\r\n}\r\n\r\n\r\n\r\nexport async function doSavePdfAction(props) {\r\n  let pdf = new PDF();\r\n  pdf.Create();\r\n\r\n  // pdf.ShowGrids = false;\r\n\r\n  var htmlElement;\r\n  var paragraph;\r\n\r\n  // pdf output shared with presentation\r\n  let output = getOutputValues(props);\r\n  const lang = props.dataInput.Presentations[0].language;\r\n  const provinceKey = getListItemKeyFromName(PROVINCE, output.province);\r\n  let maxDur = provinceKey === \"QC\" ? MAX_ORPHAN_DUR_QC : MAX_ORPHAN_DUR_NON_QC;\r\n  let orphAge = provinceKey === \"QC\" ? ORPHAN_AGE_QC : ORPHAN_AGE_NON_QC;\r\n  const clients = props.dataInput.Clients;\r\n  const assets = props.dataInput.Assets;\r\n  const singleFamily = isSingleFamily(clients);\r\n  const labelsBilingual = OUTPUTTEXT[lang];\r\n\r\n  const singlePerson = props.dataInput.Clients.length === 1 ? true : false;\r\n  const thereAfterText=singlePerson ? OUTPUTTEXT[lang].pgTabRowThereAfter_1:OUTPUTTEXT[lang].pgTabRowThereAfter;\r\n  const thereAfterTextSF= singlePerson ? OUTPUTTEXT[lang].pg5TabRow7_1:OUTPUTTEXT[lang].pg5TabRow7\r\n\r\n  const decimalChar = lang === \"en\" ? \".\" : \",\";\r\n  const thousands = lang === \"en\" ? \",\" : \" \";\r\n  const formatFr = lang === \"fr\" ? true : false;\r\n\r\n\r\n  // are there two need periods eg when children this or that\r\n  const twoNeedPercents = output.percent2.length > 0 ? true : false;\r\n  const pg1TitleY = 4.2;\r\n  // Page 1\r\n  pdf.SetFont(HELVETICA, NORMAL);\r\n  if (lang === \"en\") pdf.SetFontSize(PxToPt(36));\r\n  else pdf.SetFontSize(PxToPt(24));\r\n  pdf.SetTextColor(0x45, 0x55, 0x60);\r\n  pdf.Text(\r\n    props.INAOption === DISPLAY_INCOME\r\n      ? TITLES[lang].appletINA\r\n      : TITLES[lang].appletEP,\r\n    InToPt(1.5),\r\n    InToPt(pg1TitleY) //3.5)\r\n  );\r\n  /* \r\n  pdf.AddImageFitWidthOnly(\r\n    \"INAPage1Logo\",\r\n    InToPt(1.51), //1.51),\r\n    InToPt(1.06),\r\n    InToPt(5.54),\r\n    InToPt(2.76) // max height\r\n  ); */\r\n  const image = props.dataInput.Presentations[0].adviserLogo;\r\n  const top = props.dataInput.Presentations[0].adviserLogo.top;\r\n  const pg1ImageID=props.dataInput.Presentations[0].adviserLogo.ID;\r\n\r\n  const imageApp = props.dataInput.Presentations[0].appletImage;\r\n  \r\n  let result;\r\n  result=pdf.addCustomImage(IMAGE_LOGO, pg1TitleY, image, true,top);\r\n\r\n  //result=pdf.addCustomImage(IMAGE_APPLET_INA, InToPt(pg1TitleY + 0.5), imageApp, true,top);\r\n    pdf.AddImage(\r\n    IMAGE_APPLET_INA,\r\n    InToPt(1.51),\r\n    InToPt(pg1TitleY + 0.5), //4.06),\r\n    InToPt(5.54),\r\n    InToPt(2.75)\r\n  ); \r\n   //\tconsole.log(output.clients);\r\n  //\tconsole.log(OUTPUTTEXT[lang].pg1P1);\r\n\r\n  pdf.SetFont(HELVETICA, NORMAL);\r\n  pdf.SetFontSize(PxToPt(18));\r\n  pdf.SetTextColor(0x45, 0x55, 0x60);\r\n  pdf.Text(\r\n    OUTPUTTEXT[lang].pg1P1 + output.designedFor,\r\n    InToPt(1.52),\r\n    InToPt(pg1TitleY + 3.63) //7.13\r\n  );\r\n  pdf.Text(\r\n    OUTPUTTEXT[lang].pg1P2 + output.designedBy,\r\n    InToPt(1.52),\r\n    InToPt(pg1TitleY + 4.13) //7.63)\r\n  );\r\n  pdf.Text(\r\n    OUTPUTTEXT[lang].pg1P3 + output.dateApplet,\r\n    InToPt(1.52),\r\n    InToPt(pg1TitleY + 4.42) //7.92)\r\n  );\r\n  pdf.Text(\r\n    OUTPUTTEXT[lang].pg1P4 + output.province,\r\n    InToPt(1.52),\r\n    InToPt(pg1TitleY + 4.69) //8.19)\r\n  );\r\n\r\n  \r\n\r\n  const headerOffset = image.image === null ? 0 : 0.25;\r\n  const topToTitle_Y  =1.35\r\n  const titleToPara_Y  =1.6\r\n  \r\n  const topMargin = pdf.HEADER_RECT_IN_Y + headerOffset;\r\n  {\r\n    /*---}\t\t\t// Page 2*/\r\n    const footerText = OUTPUTTEXT[lang].pgFooter;\r\n    const headerText = OUTPUTTEXT[lang].pg1T;\r\n    \r\n    pdf.addFooterAndHeader(headerOffset, footerText, headerText);\r\n\r\n    result=result && pdf.addCustomImage(IMAGE_LOGO_OTHERPAGES, pg1TitleY, image,false,top);\r\n\r\n    pdf.SetFont(HELVETICA, NORMAL);\r\n    if (lang === \"en\") pdf.SetFontSize(PxToPt(25));\r\n    else pdf.SetFontSize(PxToPt(20));\r\n    pdf.SetTextColor(0x45, 0x55, 0x60);\r\n    pdf.Text(\r\n      OUTPUTTITLE[lang].Values[0],\r\n      InToPt(1.5),\r\n      InToPt(headerOffset + topToTitle_Y)\r\n    );\r\n\r\n    pdf.SetFont(TIMES, NORMAL);\r\n    pdf.SetFontSize(PxToPt(16));\r\n    pdf.SetTextColor(0x45, 0x55, 0x60);\r\n\r\n    // profile table\r\n    let x = 1.5;\r\n    let y = headerOffset + titleToPara_Y;\r\n    let incY = 0.4;\r\n    let incTableY = 0.25;\r\n    const incColourdRowsY= incTableY + 0.08;\r\n    let height = 0.35;\r\n    const val = singleFamily\r\n      ? labelsBilingual.pg2TabT4Alt\r\n      : labelsBilingual.pg2TabT4;\r\n    let values = [\r\n     (singlePerson? OUTPUTTEXT[lang].pg2TabT1_1:OUTPUTTEXT[lang].pg2TabT1),\r\n      OUTPUTTEXT[lang].pg2TabT2,\r\n      OUTPUTTEXT[lang].pg2TabT3,\r\n      val,\r\n      OUTPUTTEXT[lang].pg2TabT5,\r\n    ];\r\n    let fill = [115, 153, 198];\r\n    let textColor = [255, 255, 255];\r\n    let Widths = [2.3, 0.5, .9, .9,.8]; // add up to PARA_WIDTH=5.5\r\n    if(lang===\"fr\") Widths = [2.0, 0.4, .85, .75,1.4];\r\n    pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n\r\n    \r\n    y += incY+.2;\r\n    fill = [255, 255, 255];\r\n    textColor = [0x45, 0x55, 0x60];\r\n    output.clients.forEach(function (element) {\r\n      \r\n      const len=(getListItemNameFromKey(MEMBER, element.memberKey, lang) + getName(element.name,lang)).length\r\n      values = [\r\n        len>26?getListItemNameFromKey(MEMBER, element.memberKey, lang) :getListItemNameFromKey(MEMBER, element.memberKey, lang) + getName(element.name,lang),\r\n        element.age.toString(),\r\n        formattedMoneyString(element.income,lang)\r\n        /* \"$\" +\r\n          formatMoney(\r\n           element.income,\r\n            0,\r\n            decimalChar,\r\n            thousands\r\n          ) */,\r\n        (singleFamily\r\n          ? (element.memberKey === MEMBER.CLIENT.Key\r\n            ? \"-\"\r\n            : element.ret-element.age) //protectionPeriod\r\n          : element.ret).toString(),\r\n        (clients[element.id - 1].avgTaxRate + \"%\").toString(),\r\n      ];\r\n      pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n      y += incTableY;\r\n      if(len>26){\r\n        values= [\r\n          getName(element.name,lang),\r\n          \"\",\r\n          \"\",\r\n          \"\",\r\n          \"\",\r\n        ];\r\n        pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n        y += incTableY;\r\n    \r\n      }\r\n    });\r\n\r\n    // fin. summary table\r\n    pdf.SetFont(TIMES, NORMAL);\r\n    pdf.SetFontSize(PxToPt(16));\r\n    pdf.SetTextColor(0x45, 0x55, 0x60);\r\n\r\n    y += incTableY-.05;\r\n    fill = [115, 153, 198];\r\n    textColor = [255, 255, 255];\r\n    Widths = [4.3, 1.2]; // add up to PARA_WIDTH=5.5\r\n    let values2 = [OUTPUTTEXT[lang].pg2T3, \"\"];\r\n\r\n    pdf.tableRow(fill, textColor, x, y, values2, height, Widths);\r\n\r\n    fill = [255, 255, 255];\r\n    textColor = [0x45, 0x55, 0x60];\r\n    values2 = [\r\n      OUTPUTTEXT[lang].pg2P5,\r\n      (\r\n        formattedMoneyString(output.totalAssetExcludeInsurance,lang)\r\n        /* \"$\" +\r\n        formatMoney(\r\n          output.totalAssetExcludeInsurance,\r\n          0,\r\n          decimalChar,\r\n          thousands\r\n        ) */\r\n      ),\r\n    ];\r\n    y += incY;\r\n    pdf.tableRow(fill, textColor, x, y, values2, height, Widths);\r\n    values2 = [\r\n      OUTPUTTEXT[lang].pg2P6,\r\n      (\r\n        formattedMoneyString(output.totalLiabExcludeDeathRelated,lang)\r\n        /* \r\n        \"$\" +\r\n        formatMoney(\r\n          output.totalLiabExcludeDeathRelated,\r\n          0,\r\n          decimalChar,\r\n          thousands\r\n        ) */\r\n      ),\r\n    ];\r\n    y += incTableY;\r\n    pdf.tableRow(fill, textColor, x, y, values2, height, Widths);\r\n    values2 = OUTPUTTEXT[lang].pg2P7;\r\n    y += incTableY;\r\n    pdf.tableRowSingle(fill, textColor, x+2.8, y, values2, height, Widths,false);\r\n    \r\n    values2 =\r\n      (\r\n        formattedMoneyString(output.totalAssetExcludeInsurance -\r\n          output.totalLiabExcludeDeathRelated,lang)\r\n        \r\n        /* \"$\" +\r\n        formatMoney(\r\n          output.totalAssetExcludeInsurance -\r\n            output.totalLiabExcludeDeathRelated,\r\n          0,\r\n          decimalChar,\r\n          thousands\r\n        ) */\r\n      );\r\n    fill = [196, 223, 224];\r\n    pdf.tableRowSingle(fill, textColor, x+4.3, y, values2, height, Widths, true);\r\n    \r\n    //pdf.tableRow(fill, textColor, x+4.3, y+.065, values2, height-.10, [1.2]);\r\n    fill = [255, 255, 255];\r\n    const allDB=formattedMoneyString(output.totalAssetInsurance+output.govDB,lang);\r\n    const govDB=formattedMoneyString(output.govDB,lang);\r\n    values2 = [\r\n      OUTPUTTEXT[lang].pg2P8.replace(\"yyy\",govDB), \r\n      (\r\n        allDB\r\n      ),\r\n    ];\r\n    y += incColourdRowsY;\r\n    pdf.tableRow(fill, textColor, x, y, values2, height, Widths);\r\n\r\n    values2 = [\r\n      OUTPUTTEXT[lang].pg2P9,\r\n      (\r\n        formattedMoneyString(output.totalLiab - output.totalLiabExcludeDeathRelated,lang)\r\n        \r\n        /* \"$\" +\r\n        formatMoney(\r\n          output.totalLiab - output.totalLiabExcludeDeathRelated,\r\n          0,\r\n          decimalChar,\r\n          thousands\r\n        ) */\r\n      ),\r\n    ];\r\n    y += incTableY;\r\n    pdf.tableRow(fill, textColor, x, y, values2, height, Widths);\r\n    pdf.DrawLine(InToPt(1.5), InToPt(y + incY), InToPt(PARA_WIDTH));\r\n\r\n    // ins\r\n    y += 1.2*incY;\r\n    values2 =  OUTPUTTEXT[lang].pg2P10 + getName(clients[0].Name,lang) +\":\"\r\n    pdf.tableRowSingle(fill, textColor, x, y, values2, height, [PARA_WIDTH],false);\r\n    \r\n    if(!singleFamily)\r\n    {\r\n    values2 = [\r\n      OUTPUTTEXT[lang].pg8TabRow3 + props.LE + \")\",\r\n      \"\"\r\n    ];\r\n    y += incColourdRowsY;\r\n    pdf.tableRow(fill, textColor, x, y, values2, height, Widths);\r\n\r\n    values2 = (\r\n      formattedMoneyString(output.insNeedLE,lang)\r\n        \r\n      /* \"$\" + formatMoney(output.insNeedLE, 0, decimalChar, thousands) */)\r\n    fill = [196, 223, 224];\r\n    pdf.tableRowSingle(fill, textColor, x+4.3, y, values2, height, Widths, true);\r\n\r\n  }\r\n   \r\n  //pdf.tableRow(fill, textColor, x+4.3, y+.065, values2, height-.10, [1.2]);\r\n    fill = [255, 255, 255];\r\n    \r\n    values2 = [\r\n      singleFamily? OUTPUTTEXT[lang].pg8TabRow4Alt.replace(\"A. \",\"\"): OUTPUTTEXT[lang].pg8TabRow4\r\n      \r\n      ,\r\n      \"\",\r\n    ];\r\n    y += incColourdRowsY;\r\n    pdf.tableRow(fill, textColor, x, y, values2, height, Widths);\r\n    \r\n    values2 =(\r\n      formattedMoneyString(output.insNeedRet,lang)\r\n        /* \"$\" + formatMoney(output.insNeedRet, 0, decimalChar, thousands) */)\r\n    fill = [196, 223, 224];\r\n    pdf.tableRowSingle(fill, textColor, x+4.3, y, values2, height, Widths, true);\r\n    fill = [255, 255, 255];\r\n    \r\n    // spouse ins\r\n    if(!singleFamily)\r\n    {\r\n        const spouseSwitched= await getSpouseINA(props)\r\n        const spouseInsRet=cleanFormat(spouseSwitched.spouseInsRet, lang);\r\n        const spouseInsLE=cleanFormat(spouseSwitched.spouseInsLE, lang);\r\n        const LESpouse=spouseSwitched.LESpouse\r\n        pdf.DrawLine(InToPt(1.5), InToPt(y + incY), InToPt(PARA_WIDTH));\r\n    \r\n\r\n        y += 1.2*incY;\r\n        pdf.tableRow(fill, textColor, x, y, [OUTPUTTEXT[lang].pg2P12], height, Widths);\r\n   \r\n        y += 1.35*incY;\r\n        \r\n        values2 =  [OUTPUTTEXT[lang].pg2P11.replace(lang===\"en\"?\" NAME\":\" NOM\", getName(clients[1].Name,lang)) ,\r\n          (\r\n            formattedMoneyString(output.totalAssetInsuranceIfSpouse+output.govDB,lang)\r\n            /*  \"$\" +\r\n            formatMoney(\r\n              output.totalAssetInsuranceIfSpouse+output.govDB,              \r\n              0,\r\n              decimalChar,\r\n              thousands\r\n            ) */\r\n          )]\r\n\r\n          pdf.tableRow(fill, textColor, x, y, values2, height, Widths);\r\n        \r\n        values2 = [\r\n          OUTPUTTEXT[lang].pg8TabRow3 + LESpouse + \")\",\r\n          \"\"\r\n        ];\r\n        y += incColourdRowsY;\r\n        pdf.tableRow(fill, textColor, x, y, values2, height, Widths);\r\n    \r\n        values2 = (\r\n          formattedMoneyString(spouseInsLE,lang)\r\n        /* \"$\" + formatMoney( spouseInsLE, 0, decimalChar, thousands) */)\r\n        fill = [196, 223, 224];\r\n        pdf.tableRowSingle(fill, textColor, x+4.3, y, values2, height, Widths, true);\r\n    \r\n      \r\n      //pdf.tableRow(fill, textColor, x+4.3, y+.065, values2, height-.10, [1.2]);\r\n        fill = [255, 255, 255];\r\n        \r\n        values2 = [\r\n          OUTPUTTEXT[lang].pg8TabRow4\r\n          ,\r\n          \"\",\r\n        ];\r\n        y += incColourdRowsY;\r\n        pdf.tableRow(fill, textColor, x, y, values2, height, Widths);\r\n        \r\n        values2 =(\r\n          formattedMoneyString(spouseInsRet,lang)\r\n        /* \"$\" + formatMoney( spouseInsRet, 0, decimalChar, thousands) */)\r\n        fill = [196, 223, 224];\r\n        pdf.tableRowSingle(fill, textColor, x+4.3, y, values2, height, Widths, true);\r\n        fill = [255, 255, 255];\r\n      \r\n\r\n    }\r\n\r\n\r\n\r\n    // if more than 5 clients move\r\n    if(output.clients.length>lang===\"en\"?4:3){\r\n      pdf.addFooterAndHeader(headerOffset, footerText, headerText);\r\n      /* extra assump PAGE */\r\n      result=result && pdf.addCustomImage(IMAGE_LOGO_OTHERPAGES, pg1TitleY, image,false,top);\r\n      pdf.SetFont(HELVETICA, NORMAL);\r\n      if (lang === \"en\") pdf.SetFontSize(PxToPt(25));\r\n      else pdf.SetFontSize(PxToPt(20));\r\n      pdf.SetFont(TIMES, NORMAL);\r\n      pdf.SetFontSize(PxToPt(16));\r\n      x = 1.5;\r\n      y = headerOffset + titleToPara_Y-.3;\r\n      incY = 0.44;\r\n      height = 0.35;\r\n\r\n    }\r\n    else\r\n      y += 2*incTableY;\r\n    \r\n    // assump table\r\n    pdf.SetFont(TIMES, NORMAL);\r\n    pdf.SetFontSize(PxToPt(16));\r\n    pdf.SetTextColor(0x45, 0x55, 0x60);\r\n\r\n    //  pdf.DrawLine(InToPt(1.5), InToPt(y - 0.13), InToPt(PARA_WIDTH));\r\n    // y += .3*incY;\r\n    fill = [115, 153, 198];\r\n    textColor = [255, 255, 255];\r\n    Widths = [4.9, 0.6]; // add up to PARA_WIDTH=5.5\r\n    values2 = [OUTPUTTEXT[lang].pg2T2, \"\"];\r\n\r\n    pdf.tableRow(fill, textColor, x, y, values2, height, Widths);\r\n\r\n    fill = [255, 255, 255];\r\n    textColor = [0x45, 0x55, 0x60];\r\n    values2 = [OUTPUTTEXT[lang].pg7TabRow4, (output.infRate + \"%\").toString()];\r\n    y += incY;\r\n    pdf.tableRow(fill, textColor, x, y, values2, height, Widths);\r\n    values2 = [singlePerson?OUTPUTTEXT[lang].pg7TabRow5_1:OUTPUTTEXT[lang].pg7TabRow5, (output.invRate + \"%\").toString()];\r\n    y += incTableY;\r\n    pdf.tableRow(fill, textColor, x, y, values2, height, Widths);\r\n\r\n    values2 = [\r\n      OUTPUTTEXT[lang].pg2TabT6,\r\n      (\r\n        parseFloat(props.dataInput.Presentations[0].taxRate).toFixed(2) + \"%\"\r\n      ).toString(),\r\n    ];\r\n    y += incTableY;\r\n    pdf.tableRow(fill, textColor, x, y, values2, height, Widths);\r\n\r\n    pdf.SetFont(TIMES, NORMAL);\r\n    pdf.SetFontSize(PxToPt(16));\r\n    pdf.SetTextColor(0x45, 0x55, 0x60);\r\n\r\n    y += 2 * incY-.07;\r\n    pdf.DrawLine(InToPt(1.5), InToPt(y - 0.35), InToPt(PARA_WIDTH));\r\n   // y += 0.7 * incY;\r\n\r\n    paragraph = singlePerson?OUTPUTTEXT[lang].pg2Tab2_1: OUTPUTTEXT[lang].pg2Tab2;\r\n    pdf.MultilineText(paragraph, InToPt(1.5), InToPt(y), InToPt(5.6));\r\n\r\n    y += incY -.05;\r\n    paragraph = OUTPUTTEXT[lang].pg2Tab3;\r\n    pdf.MultilineText(paragraph, InToPt(1.5), InToPt(y), InToPt(5.6));\r\n    \r\n    /* // notes\r\n    pdf.SetFont(TIMES, NORMAL);\r\n    pdf.SetFontSize(PxToPt(16));\r\n    pdf.SetTextColor(0x45, 0x55, 0x60);\r\n\r\n    y += 2.8 * incY;\r\n    fill = [115, 153, 198];\r\n    textColor = [255, 255, 255];\r\n    Widths = [4.9, 0.6]; // add up to PARA_WIDTH=5.5\r\n    values2 = [OUTPUTTEXT[lang].pg9T, \"\"];\r\n\r\n    pdf.tableRow(fill, textColor, x, y, values2, height, Widths);\r\n\r\n    y += 1.6 * incY;\r\n    paragraph = OUTPUTTEXT[lang].pg9P1;\r\n    pdf.SetFont(TIMES, NORMAL);\r\n    pdf.SetFontSize(PxToPt(16));\r\n    pdf.SetTextColor(0x45, 0x55, 0x60);\r\n    pdf.MultilineText(paragraph, InToPt(1.5), InToPt(y), InToPt(PARA_WIDTH));\r\n */\r\n    /* \tvalues = [\"Client\", \"$70,000\", \"65\"];\r\n\t\t\ty += incY;\t\r\n\t\t\tpdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n\t\t\tvalues = [\"Spouse\", \"$50,000\", \"65\"];\r\n\t\t\ty +=incY;\r\n\t\t\tpdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n\t\t  */\r\n\r\n    //pdf.SetFillColor(255, 255, 255);\r\n    //pdf.SetTextColor(0x45, 0x55, 0x60);\r\n    //pdf.Rectangle(InToPt(1.5), InToPt(2), InToPt(1.8), InToPt(0.4));\r\n    //pdf.Text(\"Client\", InToPt(1.61), InToPt(2.25));\r\n    //pdf.SetFillColor(255, 255, 255);\r\n    //pdf.Rectangle(InToPt(3.32), InToPt(2), InToPt(1.8), InToPt(0.4));\r\n    //pdf.Text(\"$70,000\", InToPt(3.43), InToPt(2.25));\r\n    //pdf.SetFillColor(255, 255, 255);\r\n    //pdf.Rectangle(InToPt(5.14), InToPt(2), InToPt(1.8), InToPt(0.4));\r\n    //pdf.Text(\"65\", InToPt(5.25), InToPt(2.25));\r\n\r\n    //pdf.SetFillColor(255, 255, 255);\r\n    //pdf.Rectangle(InToPt(1.5), InToPt(2.5), InToPt(1.8), InToPt(0.4));\r\n    //pdf.Text(\"Spouse\", InToPt(1.61), InToPt(2.75));\r\n    //pdf.SetFillColor(255, 255, 255);\r\n    //pdf.Rectangle(InToPt(3.32), InToPt(2.5), InToPt(1.8), InToPt(0.4));\r\n    //pdf.Text(\"$50,000\", InToPt(3.43), InToPt(2.75));\r\n    //pdf.SetFillColor(255, 255, 255);\r\n    //pdf.Rectangle(InToPt(5.14), InToPt(2.5), InToPt(1.8), InToPt(0.4));\r\n    //pdf.Text(\"65\", InToPt(5.25), InToPt(2.75));\r\n\r\n    //\t// Page 3\r\n//    pdf.AddPage();\r\n  //  pdf.Header(headerText, headerOffset);\r\n\r\n    pdf.addFooterAndHeader(headerOffset, footerText, headerText);\r\n\r\n    {\r\n      /* PAGE 3 Family Cash Needs at Death*/\r\n    }\r\n\r\n    // combine 2 and 3\r\n    // logo if asked for\r\n    result=result && pdf.addCustomImage(IMAGE_LOGO_OTHERPAGES, pg1TitleY, image,false,top);\r\n\r\n    pdf.SetFont(HELVETICA, NORMAL);\r\n    if (lang === \"en\") pdf.SetFontSize(PxToPt(25));\r\n    else pdf.SetFontSize(PxToPt(20));\r\n\r\n    pdf.SetTextColor(0x45, 0x55, 0x60);\r\n    pdf.Text(singlePerson?OUTPUTTEXT[lang].pg3T_1:OUTPUTTEXT[lang].pg3T, InToPt(1.5), InToPt(headerOffset + topToTitle_Y\r\n  ));\r\n\r\n    paragraph =singlePerson?OUTPUTTEXT[lang].pg3P1_1:OUTPUTTEXT[lang].pg3P1;\r\n    pdf.SetFont(TIMES, NORMAL);\r\n    pdf.SetFontSize(PxToPt(16));\r\n    pdf.SetTextColor(0x45, 0x55, 0x60);\r\n    pdf.MultilineText(\r\n      paragraph,\r\n      InToPt(1.5),\r\n      InToPt(headerOffset + 1.8),\r\n      InToPt(PARA_WIDTH)\r\n    );\r\n\r\n    x = 1.5;\r\n    y = headerOffset + 2.5;\r\n    incY = 0.4;\r\n    height = 0.35;\r\n    Widths = [4.3, 1.2]; // add up to PARA_WIDTH=5.5\r\n\r\n    values = [OUTPUTTEXT[lang].pg3TabT];\r\n    fill = [115, 153, 198];\r\n    textColor = [255, 255, 255];\r\n    pdf.tableRow(fill, textColor, x, y, values, height, [PARA_WIDTH]);\r\n\r\n    fill = [255, 255, 255];\r\n    textColor = [0x45, 0x55, 0x60];\r\n\r\n    y += incY;\r\n    output.liabilities.forEach(function (element) {\r\n      values = [\r\n        element.name,\r\n        (\r\n          formattedMoneyString(element.value,lang)\r\n        /* \"$\" + formatMoney(element.value, 0, decimalChar, thousands) */\r\n        ),\r\n      ];\r\n      pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n      y += incTableY;\r\n    });\r\n    y -= incTableY;\r\n    values = [\r\n      OUTPUTTEXT[lang].pg3TabRTot,\r\n      (\r\n        formattedMoneyString(output.totalLiab,lang)\r\n        /* \"$\" + formatMoney(output.totalLiab, 0, decimalChar, thousands) */\r\n      ),\r\n    ];\r\n    y += incY;\r\n    pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n    pdf.DrawLine(InToPt(1.5), InToPt(y), InToPt(PARA_WIDTH));\r\n\r\n    // pdf.addFooterAndHeader(headerOffset,footerText, headerText);\r\n\r\n    {\r\n      /* PAGE 4 Family Income Needs at Death*/\r\n    }\r\n    // pdf.addCustomImageIMAGE_LOGO_OTHERPAGES, pg1TitleY, image);\r\n\r\n    // combined with page 3\r\n    /*    pdf.SetFont(HELVETICA, NORMAL);\r\n    if (lang === \"en\") pdf.SetFontSize(PxToPt(25));\r\n    else pdf.SetFontSize(PxToPt(20));\r\n\r\n     pdf.SetTextColor(0x45, 0x55, 0x60);\r\n    pdf.Text(OUTPUTTEXT[lang].pg4T, InToPt(1.5), InToPt(topToTitle_Y\r\n  ));\r\n    \r\n    paragraph = OUTPUTTEXT[lang].pg4P1;\r\n    pdf.SetFont(TIMES, NORMAL);\r\n    pdf.SetFontSize(PxToPt(16));\r\n    pdf.SetTextColor(0x45, 0x55, 0x60);\r\n    pdf.MultilineText(paragraph, InToPt(1.5), InToPt(headerOffset+topToTitle_Y\r\n  ), InToPt(PARA_WIDTH));\r\n/ / this is already in pg 3 so no para here\r\n*/\r\n    x = 1.5;\r\n    //   y = headerOffset+1.65;//2.3; don't go down\r\n    y += incY;\r\n    //incY = 0.44;\r\n    height = 0.35;\r\n    //const Widths = 5;\r\n\r\n    values = [OUTPUTTEXT[lang].pg4TabT];\r\n    fill = [115, 153, 198];\r\n    textColor = [255, 255, 255];\r\n    pdf.tableRow(fill, textColor, x, y, values, height, [PARA_WIDTH]);\r\n\r\n    fill = [255, 255, 255];\r\n    textColor = [0x45, 0x55, 0x60];\r\n\r\n    values = [\r\n      (singlePerson?OUTPUTTEXT[lang].pg4TabRow1_1: OUTPUTTEXT[lang].pg4TabRow1),\r\n      (\r\n        formattedMoneyString(output.Income + output.Income2,lang)\r\n        /* \"$\" +\r\n        formatMoney(output.Income + output.Income2, 0, decimalChar, thousands) */\r\n      ),\r\n    ];\r\n    y += incY;\r\n    pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n\r\n    y += incY;\r\n    pdf.MultilineText(\r\n     singlePerson? OUTPUTTEXT[lang].pg4TabRow2_1:OUTPUTTEXT[lang].pg4TabRow2,\r\n      InToPt(x + 0.1),\r\n      InToPt(y + incY),\r\n      InToPt(3)\r\n    );\r\n\r\n    //values = [OUTPUTTEXT[lang].pg4TabRow2,\"\"];\r\n    y += incY - 0.3;\r\n    pdf.DrawLine(InToPt(1.5), InToPt(y - 0.13), InToPt(PARA_WIDTH));\r\n\r\n    //pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n\r\n    if (twoNeedPercents) {\r\n      values = [\r\n        OUTPUTTEXT[lang].pgTabRowMoreIncome,\r\n        (output.percent1 + \"%\").toString(),\r\n      ];\r\n      y += 2.1 * incY;\r\n      pdf.DrawLine(InToPt(1.5), InToPt(y), InToPt(PARA_WIDTH));\r\n      pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n\r\n      values = [\r\n        thereAfterText,\r\n        //(output.percent2 + \"%\").toString(),\r\n        (output.percent2.map((item) => item + \"% \")).toString(),\r\n      ];\r\n      y += incTableY;\r\n      pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n      //    pdf.DrawLine(InToPt(1.5), InToPt(y), InToPt(PARA_WIDTH));\r\n    } else {\r\n      values = [\r\n        thereAfterText,\r\n        (output.percent1 + \"%\").toString(),\r\n      ];\r\n      y += 2.1 * incY;\r\n      pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n      //  pdf.DrawLine(InToPt(1.5), InToPt(y), InToPt(PARA_WIDTH));\r\n    }\r\n    values = [OUTPUTTEXT[lang].pg4TabRow5, \"\"];\r\n    y += 1.5 * incY;\r\n    pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n    //pdf.DrawLine(InToPt(1.5), InToPt(y), InToPt(PARA_WIDTH));\r\n\r\n    if (twoNeedPercents) {\r\n      values = [\r\n        OUTPUTTEXT[lang].pgTabRowMoreIncome,\r\n        (\r\n          formattedMoneyString(output.percentNeed1,lang)\r\n        /* \"$\" + formatMoney(output.percentNeed1, 0, decimalChar, thousands) */\r\n        ),\r\n      ];\r\n      y += incY;\r\n      pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n      pdf.DrawLine(InToPt(1.5), InToPt(y), InToPt(PARA_WIDTH));\r\n\r\n      values = [\r\n        thereAfterText,\r\n        (\r\n          formattedMoneyString(output.percentNeed2.reduce((a, b) => a + b, 0),lang)\r\n        /* \"$\" + formatMoney(output.percentNeed2.reduce((a, b) => a + b, 0), 0, decimalChar, thousands) */\r\n        ),\r\n      ];\r\n    } else\r\n      values = [\r\n        thereAfterText,\r\n        (\r\n          formattedMoneyString(output.percentNeed1,lang)\r\n        /* \"$\" + formatMoney(output.percentNeed1, 0, decimalChar, thousands) */\r\n        ),\r\n      ];\r\n\r\n    y += incTableY;\r\n    pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n    //pdf.DrawLine(InToPt(1.5), InToPt(y), InToPt(PARA_WIDTH));\r\n    //pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n    //y += incY;\r\n    //pdf.DrawLine(InToPt(1.5), InToPt(y), InToPt(PARA_WIDTH));\r\n\r\n    pdf.addFooterAndHeader(headerOffset, footerText, headerText);\r\n\r\n    {\r\n      /* PAGE 5 Family Cash Sources at Death*/\r\n    }\r\n    result=result && pdf.addCustomImage(IMAGE_LOGO_OTHERPAGES, pg1TitleY, image,false,top);\r\n\r\n    Widths =  lang === \"en\"?[3.35, 1.1, 1.1]:[3.65, .95, .95]; // add up to PARA_WIDTH=5.5\r\n    pdf.SetFont(HELVETICA, NORMAL);\r\n    if (lang === \"en\") pdf.SetFontSize(PxToPt(25));\r\n    else pdf.SetFontSize(PxToPt(20));\r\n\r\n    pdf.SetTextColor(0x45, 0x55, 0x60);\r\n    pdf.Text(singlePerson?OUTPUTTEXT[lang].pg5T_1:OUTPUTTEXT[lang].pg5T, InToPt(1.5), InToPt(headerOffset + topToTitle_Y\r\n  ));\r\n\r\n    pdf.SetFont(TIMES, NORMAL);\r\n\r\n    pdf.SetFontSize(PxToPt(16));\r\n\r\n    x = 1.5;\r\n    y = headerOffset + titleToPara_Y;\r\n    incY = 0.44;\r\n    height = 0.35;\r\n    //const Widths = 5;\r\n    values = [\r\n      OUTPUTTEXT[lang].pg5TabT,\r\n      OUTPUTTEXT[lang].pg5TabT2,\r\n      OUTPUTTEXT[lang].pg5TabT3,\r\n    ];\r\n    fill = [115, 153, 198];\r\n    textColor = [255, 255, 255];\r\n    pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n\r\n    fill = [255, 255, 255];\r\n    textColor = [0x45, 0x55, 0x60];\r\n    pdf.SetTextColor(0x45, 0x55, 0x60);\r\n\r\n    /* if (lang === \"fr\") {\r\n      y += incY;\r\n      y += 0.3;\r\n      pdf.MultilineText(\r\n        OUTPUTTEXT[lang].pg5TabRow1,\r\n        InToPt(x + 0.1),\r\n        InToPt(y),\r\n        InToPt(3)\r\n      );\r\n      pdf.Text(\r\n        \"$\" + formatMoney(output.govDB, 0, decimalChar, thousands),\r\n        InToPt(x + 3.35),\r\n        InToPt(y)\r\n      );\r\n      pdf.Text(\r\n        \"$\" + formatMoney(output.govDB, 0, decimalChar, thousands),\r\n        InToPt(x + 4.45),\r\n        InToPt(y)\r\n      );\r\n    } else */ {\r\n      values = [\r\n        OUTPUTTEXT[lang].pg5TabRow1,\r\n        (\r\n          formattedMoneyString(output.govDB,lang)\r\n        /* \"$\" + formatMoney(output.govDB, 0, decimalChar, thousands) */),\r\n        (\r\n          formattedMoneyString(output.govDB,lang)\r\n        /* \"$\" + formatMoney(output.govDB, 0, decimalChar, thousands) */),\r\n          \r\n      ];\r\n      y += incY;\r\n      pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n    }\r\n\r\n    y += incY;\r\n    output.assets.forEach(function (element) {\r\n      values = [\r\n        element.name,\r\n        (\r\n          formattedMoneyString(element.value,lang)\r\n        /* \"$\" + formatMoney(element.value, 0, decimalChar, thousands) */\r\n        ),\r\n        element.disposeValue > 0\r\n          ? (\r\n            formattedMoneyString(element.disposeValue,lang)\r\n            /* \"$\" + formatMoney(element.disposeValue, 0, decimalChar, thousands) */\r\n            )\r\n          : \"\",\r\n      ];\r\n      pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n      y += incTableY;\r\n    });\r\n\r\n    values = [\r\n      OUTPUTTEXT[lang].pg5TabRow3,\r\n      (\r\n        formattedMoneyString(output.totalAsset,lang)\r\n        /* \"$\" + formatMoney(output.totalAsset, 0, decimalChar, thousands) */\r\n      ),\r\n      (\r\n        formattedMoneyString(output.totalDisposeAsset,lang)\r\n        /* \"$\" + formatMoney(output.totalDisposeAsset, 0, decimalChar, thousands) */\r\n      ),\r\n    ];\r\n    y += incY;\r\n    pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n\r\n   /*  if (lang === \"fr\") {\r\n      y += 0.73 * incY;\r\n      pdf.MultilineText(\r\n        OUTPUTTEXT[lang].pg5TabRow4,\r\n        InToPt(x + 0.1),\r\n        InToPt(y + 0.4),\r\n        InToPt(3)\r\n      );\r\n      pdf.Text(\r\n        \"$\" +\r\n          formatMoney(output.totalLiab, 0, decimalChar, thousands),\r\n        InToPt(x + 4.45),\r\n        InToPt(y + 0.41)\r\n      );\r\n      y += 0.73 * incY;\r\n    } else */ {\r\n      values = [\r\n        singlePerson?OUTPUTTEXT[lang].pg5TabRow4_1: OUTPUTTEXT[lang].pg5TabRow4,\r\n        \"\",\r\n        (\r\n          formattedMoneyString(output.totalLiab,lang)\r\n        /* \"$\" + formatMoney(output.totalLiab, 0, decimalChar, thousands) */\r\n        ),\r\n      ];\r\n      y += incY;\r\n      pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n    }\r\n\r\n    y += incY;\r\n    /* pdf.MultilineText(\r\n      OUTPUTTEXT[lang].pg5TabRow5,\r\n      InToPt(x + 0.1),\r\n      InToPt(y + 0.4),\r\n      InToPt(3)\r\n    ); */\r\n    values = [\r\n      singlePerson?OUTPUTTEXT[lang].pg5TabRow5_1: OUTPUTTEXT[lang].pg5TabRow5,\r\n      \"\",\r\n      (\r\n        formattedMoneyString(output.totalDisposeAsset - output.totalLiab,lang)\r\n        /* \"$\" + formatMoney(output.totalDisposeAsset - output.totalLiab, 0, decimalChar, thousands) */\r\n      ),\r\n    ];\r\n    //y += incY;\r\n    pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n    \r\n    /* pdf.Text(\r\n      \"$\" +\r\n        formatMoney(\r\n          output.totalDisposeAsset - output.totalLiab,\r\n          0,\r\n          decimalChar,\r\n          thousands\r\n        ),\r\n      InToPt(x + 4.45),\r\n      InToPt(y + 0.41)\r\n    ); */\r\n\r\n    y += incY;\r\n    pdf.DrawLine(InToPt(1.5), InToPt(y - 0.43), InToPt(PARA_WIDTH));\r\n\r\n    pdf.addFooterAndHeader(headerOffset, footerText, headerText);\r\n\r\n   \r\n   \r\n   \r\n   \r\n    {\r\n      /* PAGE 6 Family Income Sources at Death*/\r\n    }\r\n    result=result && pdf.addCustomImage(IMAGE_LOGO_OTHERPAGES, pg1TitleY, image,false,top);\r\n    Widths = [4.4, 1.1]; // add up to PARA_WIDTH=5.5\r\n    Widths = [3.0,1.6, .9]; // add up to PARA_WIDTH=5.5\r\n    pdf.SetFont(HELVETICA, NORMAL);\r\n    if (lang === \"en\") pdf.SetFontSize(PxToPt(25));\r\n    else pdf.SetFontSize(PxToPt(20));\r\n\r\n    pdf.SetTextColor(0x45, 0x55, 0x60);\r\n    pdf.Text(singlePerson?OUTPUTTEXT[lang].pg6T_1: OUTPUTTEXT[lang].pg6T, InToPt(1.5), InToPt(headerOffset + topToTitle_Y\r\n  ));\r\n\r\n    pdf.SetFont(TIMES, NORMAL);\r\n\r\n    pdf.SetFontSize(PxToPt(16));\r\n\r\n    x = 1.5;\r\n    y = headerOffset + titleToPara_Y;\r\n    incY = 0.44;\r\n    height = 0.35;\r\n    //const Widths = 5;\r\n    /* values = [OUTPUTTEXT[lang].pg6TabT];\r\n    fill = [115, 153, 198];\r\n    textColor = [255, 255, 255];\r\n    pdf.tableRow(fill, textColor, x, y, values, height, [PARA_WIDTH]); */\r\n\r\n    values = [\r\n      OUTPUTTEXT[lang].pg6TabT,\r\n      OUTPUTTEXT[lang].pg5TabT2,\r\n      OUTPUTTEXT[lang].pg5TabT3,\r\n    ];\r\n    fill = [115, 153, 198];\r\n    textColor = [255, 255, 255];\r\n    pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n\r\n\r\n\r\n    fill = [255, 255, 255];\r\n    textColor = [0x45, 0x55, 0x60];\r\n\r\n    y += incY;\r\n    output.sources.forEach(function (element) {\r\n      values = [\r\n        element.name,\r\n        (\r\n          formattedMoneyString(element.value,lang)\r\n        /* \"$\" + formatMoney(element.value, 0, decimalChar, thousands) */\r\n        ),\r\n        formattedMoneyString(element.valueAtDeath,lang),\r\n      ];\r\n      pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n      y += incTableY;\r\n    });\r\n    y += incY;\r\n    pdf.MultilineText(\r\n      OUTPUTTEXT[lang].pg6TabRow1,\r\n      InToPt(x + 0.1),\r\n      InToPt(y + 0.35),\r\n      InToPt(3)\r\n    );\r\n    y += incY + 0.3;\r\n    pdf.DrawLine(InToPt(1.5), InToPt(y - 0.04), InToPt(PARA_WIDTH));\r\n    //y += incY+.1;\r\n\r\n    // Widths = [3.1, 1.2, 1.2]; // add up to PARA_WIDTH=5.5\r\n    Widths = [4.8, .8]; // add up to PARA_WIDTH=5.5\r\n  \r\n    if (twoNeedPercents) {\r\n      y += incY - 0.27;\r\n\r\n      pdf.tableRow(\r\n        fill,\r\n        textColor,\r\n        x,\r\n        y,\r\n        [OUTPUTTEXT[lang].pgTabRowMoreIncome],\r\n        height,\r\n        Widths\r\n      );\r\n\r\n      pdf.SetFontSize(PxToPt(12));\r\n      pdf.tableRow(\r\n        fill,\r\n        textColor,\r\n        x + 3.6,\r\n        y,\r\n        [\r\n          \"(\" +\r\n            labelsBilingual.pg6Net +\r\n            (\r\n              formattedMoneyString(output.totalSourceATaxAtDeath,lang)\r\n        /* \"  $\" +\r\n              formatMoney(output.totalSourceATax, 0, decimalChar, thousands) */\r\n            ).toString() +\r\n            \")\",\r\n        ],\r\n        height,\r\n        Widths\r\n      );\r\n      pdf.SetFontSize(PxToPt(16));\r\n      pdf.tableRow(\r\n        fill,\r\n        textColor,\r\n        x + 4.6,\r\n        y,\r\n        [\r\n          (\r\n            formattedMoneyString(output.totalSourceAtDeath,lang)\r\n        /* \"$\" + formatMoney(output.totalSource, 0, decimalChar, thousands) */\r\n          ),\r\n        ],\r\n        height,\r\n        Widths\r\n      );\r\n\r\n      // y += incY;\r\n      y += incColourdRowsY;\r\n\r\n      pdf.tableRow(\r\n        fill,\r\n        textColor,\r\n        x,\r\n        y,\r\n        [!singleFamily?thereAfterText: (thereAfterTextSF)],\r\n        height,\r\n        Widths\r\n      );\r\n\r\n      pdf.SetFontSize(PxToPt(12));\r\n      pdf.tableRow(\r\n        fill,\r\n        textColor,\r\n        x + 3.6,\r\n        y,\r\n        [\r\n          \"(\" +\r\n            labelsBilingual.pg6Net +\r\n            (\r\n              formattedMoneyString(output.totalSource2ATaxAtDeath,lang)\r\n        /* \"  $\" +\r\n              formatMoney(output.totalSource2ATax, 0, decimalChar, thousands) */\r\n            ).toString() +\r\n            \")\",\r\n        ],\r\n        height,\r\n        Widths\r\n      );\r\n      pdf.SetFontSize(PxToPt(16));\r\n      pdf.tableRow(\r\n        fill,\r\n        textColor,\r\n        x + 4.6,\r\n        y,\r\n        [\r\n          (\r\n            formattedMoneyString(output.totalSource2AtDeath,lang)\r\n        /* \"$\" + formatMoney(output.totalSource2, 0, decimalChar, thousands) */\r\n          ),\r\n        ],\r\n        height,\r\n        Widths\r\n      );\r\n\r\n      /* values = [\r\n        OUTPUTTEXT[lang].pgTabRowMoreIncome,\r\n        (\r\n          \"$\" + formatMoney(output.totalSource, 0, decimalChar, thousands)\r\n        ),\r\n      ];\r\n      y += incY - 0.27;\r\n      pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n */\r\n      /*     values = [\r\n        thereAfterText,\r\n        (\r\n          \"$\" + formatMoney(output.totalSource2, 0, decimalChar, thousands)\r\n        ),\r\n      ];\r\n      y += incY;\r\n      pdf.SetFontSize(PxToPt(16));\r\n      pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n\r\n      values = [\r\n        \"(\" + (\"$\" + formatMoney(output.totalSourceATax, 0, decimalChar, thousands)\r\n      ) + \" \" + labelsBilingual.pg6Net + \")\",\r\n    ];\r\n    pdf.SetFontSize(PxToPt(12));\r\n    pdf.tableRow(fill, textColor, x+3, y, values, height, Widths); */\r\n      pdf.SetFontSize(PxToPt(16));\r\n    } else {\r\n      /*    values = [\r\n        thereAfterText,\r\n        (\r\n          \"$\" + formatMoney(output.totalSource1, 0, decimalChar, thousands)\r\n        )\r\n        +\r\n        \"          (\" + (\"$\" + formatMoney(output.totalSource2ATax, 0, decimalChar, thousands)\r\n      ) + \" \" + labelsBilingual.pg6Net + \")\",\r\n      ]; */\r\n      y += incY;\r\n      pdf.tableRow(\r\n        fill,\r\n        textColor,\r\n        x,\r\n        y,\r\n        [!singleFamily?thereAfterText: (thereAfterTextSF)],\r\n        height,\r\n        Widths\r\n      );\r\n\r\n      pdf.SetFontSize(PxToPt(12));\r\n      pdf.tableRow(\r\n        fill,\r\n        textColor,\r\n        x + 3.6,\r\n        y,\r\n        [\r\n          \"(\" +\r\n            labelsBilingual.pg6Net +\r\n            (\r\n              formattedMoneyString(output.totalSourceATaxAtDeath,lang)\r\n        /* \"  $\" +\r\n              formatMoney(output.totalSourceATax, 0, decimalChar, thousands) */\r\n            ) +\r\n            \")\",\r\n        ],\r\n        height+.1,\r\n        Widths\r\n      );\r\n      pdf.SetFontSize(PxToPt(16));\r\n      pdf.tableRow(\r\n        fill,\r\n        textColor,\r\n        x + 4.6,\r\n        y,\r\n        [\r\n          (\r\n            formattedMoneyString(output.totalSourceAtDeath,lang)\r\n        /* \"$\" + formatMoney(output.totalSource, 0, decimalChar, thousands) */\r\n          ),\r\n        ],\r\n        height+.1,\r\n        Widths\r\n      );\r\n\r\n      /*      pdf.tableRow(fill, textColor, x, y, values, height, Widths); */\r\n    }\r\n    y += incY + 0.5;\r\n    pdf.MultilineText(\r\n      OUTPUTTEXT[lang].pgTabRowMoreIncome,\r\n      InToPt(x + 0.1),\r\n      InToPt(y),\r\n      InToPt(3)\r\n    );\r\n    y += incY - 0.13;\r\n    pdf.DrawLine(InToPt(1.5), InToPt(y + 0.26), InToPt(PARA_WIDTH));\r\n\r\n    //values = [OUTPUTTEXT[lang].pgTabRowMoreIncome, (\"$\"+ formatMoney(output.percentNeed1-output.totalSource, 0,decimalChar,thousands))];\r\n    //y += incY;\r\n    //pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n\r\n    //\tvalues = [thereAfterText, (\"$\"+ formatMoney(output.percentNeed2-output.totalSource2, 0,decimalChar,thousands))];\r\n    //\ty += incY;\r\n    //pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n    //#7399C6\r\n    //pdf.Text(thereAfterText,  x, y);\r\n    //pdf.tableRow(fill, textColor, x, y, thereAfterText, [1]);\r\n\r\n    values = [OUTPUTTEXT[lang].pgTabRowMoreIncome];\r\n    y += incY;\r\n    //Widths = [3.1,1.2, 1.2]; // add up to PARA_WIDTH=5.5\r\n    pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n\r\n    if (twoNeedPercents) {\r\n      pdf.SetFontSize(PxToPt(12));\r\n      pdf.tableRow(\r\n        fill,\r\n        textColor,\r\n        x + 3.6,\r\n        y,\r\n        [\r\n          \"(\" +\r\n            (\r\n              formatMoney(output.percentNeed1, 0, decimalChar, thousands)\r\n            ).toString() +\r\n            \"-\" +\r\n            (\r\n              \r\n              formatMoney(output.totalSourceATaxAtDeath, 0, decimalChar, thousands)\r\n            ).toString() +\r\n            \")\",\r\n        ],\r\n        height+.1,\r\n        [1.2]\r\n      );\r\n\r\n      pdf.SetFontSize(PxToPt(16));\r\n      fill = [196, 223, 224];\r\n      \r\n      values2=(\r\n        formattedMoneyString(Math.max(0, output.percentNeed1 - output.totalSourceATaxAtDeath),lang)\r\n        /* \"$\" +\r\n        formatMoney(\r\n          Math.max(0, output.percentNeed1 - output.totalSourceATax),\r\n          0,\r\n          decimalChar,\r\n          thousands\r\n        ) */\r\n      )\r\n      pdf.tableRowSingle(fill, textColor, x+4.6, y, values2, height, Widths, true);\r\n      /* pdf.tableRow(\r\n        fill,\r\n        textColor,\r\n        x + 4.4,\r\n        y,\r\n        [\r\n          (\r\n            \"$\" +\r\n            formatMoney(\r\n              Math.max(0, output.percentNeed1 - output.totalSourceATax),\r\n              0,\r\n              decimalChar,\r\n              thousands\r\n            )\r\n          ),\r\n        ],\r\n        height,\r\n        [1]\r\n      );\r\n */\r\n      fill = [255, 255, 255];\r\n      values = [!singleFamily?thereAfterText:(thereAfterTextSF)];\r\n      //y += incY;\r\n      y += incColourdRowsY;\r\n      pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n\r\n      pdf.SetFontSize(PxToPt(12));\r\n      pdf.tableRow(\r\n        fill,\r\n        textColor,\r\n        x + 3.6,\r\n        y,\r\n        [\r\n          \"(\" +\r\n            (\r\n              formatMoney(output.percentNeed2.reduce((a, b) => a + b, 0), 0, decimalChar, thousands)\r\n            ).toString() +\r\n            \"-\" +\r\n            (\r\n              formatMoney(output.totalSource2ATaxAtDeath, 0, decimalChar, thousands)\r\n            ).toString() +\r\n            \")\",\r\n        ],\r\n        height+.1,\r\n        [1.2]\r\n      );\r\n\r\n      pdf.SetFontSize(PxToPt(16));\r\n      fill = [196, 223, 224];\r\n      values2=(\r\n        formattedMoneyString(Math.max(0, output.percentNeed2.reduce((a, b) => a + b, 0) - output.totalSource2ATaxAtDeath),lang)\r\n        /* \"$\" +\r\n        formatMoney(\r\n          Math.max(0, output.percentNeed2.reduce((a, b) => a + b, 0) - output.totalSource2ATax),          \r\n          0,\r\n          decimalChar,\r\n          thousands\r\n        ) */\r\n      )\r\n      pdf.tableRowSingle(fill, textColor, x+4.6, y, values2, height, Widths, true);\r\n/* \r\n      pdf.tableRow(\r\n        fill,\r\n        textColor,\r\n        x + 4.4,\r\n        y,\r\n        [\r\n          (\r\n            \"$\" +\r\n            formatMoney(\r\n              Math.max(0, output.percentNeed2 - output.totalSource2ATax),\r\n              0,\r\n              decimalChar,\r\n              thousands\r\n            )\r\n          ),\r\n        ],\r\n        height,\r\n        [1]\r\n      ); */\r\n    } else {\r\n      fill = [255, 255, 255];\r\n      pdf.SetFontSize(PxToPt(12));\r\n      pdf.tableRow(\r\n        fill,\r\n        textColor,\r\n        x + 3.6,\r\n        y,\r\n        [\r\n          \"(\" +\r\n            (\r\n              formatMoney(output.percentNeed1, 0, decimalChar, thousands)\r\n            ).toString() +\r\n            \"-\" +\r\n            (\r\n              \r\n              formatMoney(output.totalSourceATaxAtDeath, 0, decimalChar, thousands)\r\n            ).toString() +\r\n            \")\",\r\n        ],\r\n        height+.1,\r\n        [1.2]\r\n      );\r\n      pdf.SetFontSize(PxToPt(16));\r\n      fill = [196, 223, 224];\r\n      \r\n      values2=(\r\n        formattedMoneyString(Math.max(0, output.percentNeed1 - output.totalSourceATaxAtDeath),lang)\r\n        /* \"$\" +\r\n        formatMoney(\r\n          Math.max(0, output.percentNeed1 - output.totalSourceATax),\r\n          0,\r\n          decimalChar,\r\n          thousands\r\n        ) */\r\n      )\r\n      pdf.tableRowSingle(fill, textColor, x+4.6, y, values2, height, Widths, true);\r\n      \r\n    }\r\n\r\n    pdf.SetFontSize(PxToPt(16));\r\n    /*       fill = [196, 223, 224];\r\n\r\n\r\n    pdf.tableRow(\r\n        fill,\r\n        textColor,\r\n        x + 4.4,\r\n        y,\r\n        [\r\n          (\r\n            \"$\" +\r\n            formatMoney(\r\n              Math.max(0, output.percentNeed1 - output.totalSource),\r\n              0,\r\n              decimalChar,\r\n              thousands\r\n            )\r\n          ),\r\n        ],\r\n        height,\r\n        [1]\r\n      ); */\r\n\r\n    pdf.addFooterAndHeader(headerOffset, footerText, headerText);\r\n\r\n   \r\n   \r\n   \r\n   \r\n   \r\n   \r\n   \r\n   \r\n   \r\n    {\r\n      // remove this page\r\n      /* PAGE 7 Life info anal*/\r\n    } /* \r\n    pdf.addCustomImage(IMAGE_LOGO_OTHERPAGES, pg1TitleY, image);\r\n\r\n    Widths = [4.3, 1.2];\r\n    pdf.SetFont(HELVETICA, NORMAL);\r\n    if (lang === \"en\") pdf.SetFontSize(PxToPt(25));\r\n    else pdf.SetFontSize(PxToPt(20));\r\n\r\n    pdf.SetTextColor(0x45, 0x55, 0x60);\r\n    pdf.Text(OUTPUTTEXT[lang].pg7T, InToPt(1.5), InToPt(headerOffset+topToTitle_Y\r\n  ));\r\n\r\n    pdf.SetFont(TIMES, NORMAL);\r\n\r\n    pdf.SetFontSize(PxToPt(16));\r\n\r\n    x = 1.5;\r\n    y = headerOffset+titleToPara_Y;\r\n    incY = 0.42;\r\n    height = 0.35;\r\n    //const Widths = 5;\r\n    values = [OUTPUTTEXT[lang].pg7TabT];\r\n    fill = [115, 153, 198];\r\n    textColor = [255, 255, 255];\r\n    pdf.tableRow(fill, textColor, x, y, values, height, [PARA_WIDTH]);\r\n\r\n    fill = [255, 255, 255];\r\n    textColor = [0x45, 0x55, 0x60];\r\n    pdf.SetTextColor(0x45, 0x55, 0x60);\r\n\r\n    y += incY + 0.2;\r\n    pdf.MultilineText(\r\n      OUTPUTTEXT[lang].pg7TabRow1,\r\n      InToPt(x + 0.1),\r\n      InToPt(y),\r\n      InToPt(3)\r\n    );\r\n    y += incY / 2;\r\n\r\n    //if (output.hasChild) {\r\n    //\tif (output.ygChild < 18) {\r\n    if (twoNeedPercents) {\r\n      values = [\r\n        OUTPUTTEXT[lang].pg7TabRow2,\r\n        (\r\n          \"$\" +\r\n          formatMoney(\r\n            Math.max(0, output.percentNeed1 - output.totalSource),\r\n            0,\r\n            decimalChar,\r\n            thousands\r\n          )\r\n        ),\r\n      ];\r\n      y += incY;\r\n      pdf.tableRow(fill, textColor, x + 0.1, y, values, height, Widths);\r\n\r\n      values = [\r\n        thereAfterText,\r\n        (\r\n          \"$\" +\r\n          formatMoney(\r\n            Math.max(0, output.percentNeed2 - output.totalSource2),\r\n            0,\r\n            decimalChar,\r\n            thousands\r\n          )\r\n        ),\r\n      ];\r\n    } else\r\n      values = [\r\n        thereAfterText,\r\n        (\r\n          \"$\" +\r\n          formatMoney(\r\n            Math.max(0, output.percentNeed1 - output.totalSource),\r\n            0,\r\n            decimalChar,\r\n            thousands\r\n          )\r\n        ),\r\n      ];\r\n\r\n    y += incY;\r\n    pdf.tableRow(fill, textColor, x + 0.1, y, values, height, Widths);\r\n\r\n    values = [OUTPUTTEXT[lang].pg7TabRow4, (output.infRate + \"%\")];\r\n    y += incY;\r\n    pdf.tableRow(fill, textColor, x + 0.1, y, values, height, Widths);\r\n\r\n    y += incY + 0.22;\r\n    pdf.MultilineText(\r\n      OUTPUTTEXT[lang].pg7TabRow5,\r\n      InToPt(x + 0.2),\r\n      InToPt(y),\r\n      InToPt(3)\r\n    );\r\n    pdf.Text(\r\n      (output.invRate + \"%\"),\r\n      InToPt(x + 4.25),\r\n      InToPt(y + 0.21)\r\n    );\r\n\r\n    y += incY + 0.3;\r\n    pdf.DrawLine(InToPt(1.5), InToPt(y - 0.23), InToPt(PARA_WIDTH));\r\n    y += incY - 0.2;\r\n    pdf.MultilineText(\r\n      OUTPUTTEXT[lang].pg7TabRow6,\r\n      InToPt(x + 0.2),\r\n      InToPt(y),\r\n      InToPt(3)\r\n    );\r\n    y += incY - 0.2;\r\n    values = [\r\n      OUTPUTTEXT[lang].pg7TabRow7 + props.LE + \")\",\r\n      (\r\n        \"$\" +\r\n        formatMoney(\r\n          Math.max(0, output.insNeedLE + output.totalAsset - output.totalLiab),\r\n          0,\r\n          decimalChar,\r\n          thousands\r\n        )\r\n      ),\r\n    ];\r\n    y += incY + 0.1;\r\n    pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n\r\n    values = [\r\n      OUTPUTTEXT[lang].pg7TabRow8,\r\n      (\r\n        \"$\" +\r\n        formatMoney(\r\n          Math.max(0, output.insNeedRet + output.totalAsset - output.totalLiab),\r\n          0,\r\n          decimalChar,\r\n          thousands\r\n        )\r\n      ),\r\n    ];\r\n    y += incY;\r\n    pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n\r\n    if (output.hasChild) {\r\n      if (output.ygChild < maxDur) {\r\n        values = [\r\n          OUTPUTTEXT[lang].pg7TabRow9,\r\n          (\r\n            \"$\" +\r\n            formatMoney(\r\n              Math.max(\r\n                0,\r\n                output.insNeedYgChild25 + output.totalAsset - output.totalLiab\r\n              ),\r\n              0,\r\n              decimalChar,\r\n              thousands\r\n            )\r\n          ),\r\n        ];\r\n        y += incY;\r\n        pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n      }\r\n\r\n      if (output.ygChild < orphAge) {\r\n        values = [\r\n          OUTPUTTEXT[lang].pg7TabRow10,\r\n          (\r\n            \"$\" +\r\n            formatMoney(\r\n              Math.max(\r\n                0,\r\n                output.insNeedYgChild18 + output.totalAsset - output.totalLiab\r\n              ),\r\n              0,\r\n              decimalChar,\r\n              thousands\r\n            )\r\n          ),\r\n        ];\r\n        y += incY;\r\n        pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n      }\r\n    }\r\n    //  pdf.AddChart(\"bar1\", InToPt(1.5), InToPt(y + 0.7), InToPt(4), InToPt(2));\r\n\r\n    pdf.addFooterAndHeader(headerOffset,footerText, headerText);\r\n */\r\n    {\r\n      /* PAGE 8 Life info anal 2 */\r\n    }\r\n    result=result && pdf.addCustomImage(IMAGE_LOGO_OTHERPAGES, pg1TitleY, image,false,top);\r\n\r\n    Widths = [4.3, 1.2];\r\n    pdf.SetFont(HELVETICA, NORMAL);\r\n    if (lang === \"en\") pdf.SetFontSize(PxToPt(25));\r\n    else pdf.SetFontSize(PxToPt(20));\r\n\r\n    pdf.SetTextColor(0x45, 0x55, 0x60);\r\n    pdf.Text(OUTPUTTEXT[lang].pg8T, InToPt(1.5), InToPt(headerOffset + topToTitle_Y\r\n  ));\r\n\r\n    pdf.SetFont(TIMES, NORMAL);\r\n\r\n    pdf.SetFontSize(PxToPt(16));\r\n\r\n    x = 1.5;\r\n    y = headerOffset + titleToPara_Y;\r\n    incY = 0.42;\r\n    height = 0.35;\r\n    //const Widths = 5;\r\n    values = [singlePerson?OUTPUTTEXT[lang].pg8TabT_1: OUTPUTTEXT[lang].pg8TabT];\r\n    fill = [115, 153, 198];\r\n    textColor = [255, 255, 255];\r\n    pdf.tableRow(fill, textColor, x, y, values, height, [PARA_WIDTH]);\r\n\r\n    fill = [255, 255, 255];\r\n    textColor = [0x45, 0x55, 0x60];\r\n    pdf.SetTextColor(0x45, 0x55, 0x60);\r\n\r\n    /* values = [OUTPUTTEXT[lang].pg8TabRow1, (\"$\"+ formatMoney(totalAsset-output.totalLiab, 0,decimalChar,thousands))];\r\n\t  y += incY;\t\r\n\t  pdf.tableRow(fill, textColor, x, y, values, height, Widths); */\r\n\r\n    y += incY + 0.2;\r\n    pdf.MultilineText(\r\n      OUTPUTTEXT[lang].pg8TabRow1,\r\n      InToPt(x),\r\n      InToPt(y),\r\n      InToPt(3)\r\n    );\r\n    pdf.Text(\r\n      (\r\n        formattedMoneyString(output.totalDisposeAsset - output.totalLiab,lang)\r\n        /* \"$\" +\r\n        formatMoney(\r\n          output.totalDisposeAsset - output.totalLiab,\r\n          0,\r\n          decimalChar,\r\n          thousands\r\n        ) */\r\n      ),\r\n      InToPt(x + 4.42),\r\n      InToPt(y + 0.21)\r\n    );\r\n\r\n    y += incY + 0.3;\r\n    pdf.MultilineText(\r\n      OUTPUTTEXT[lang].pg8TabRow2,\r\n      InToPt(x),\r\n      InToPt(y),\r\n      InToPt(3)\r\n    );\r\n    y += incY - 0.1;\r\n\r\n    if(!singleFamily)\r\n    {\r\n    values = [\r\n      OUTPUTTEXT[lang].pg8TabRow3 + props.LE + \")\",\r\n      (\r\n        formattedMoneyString(output.insNeedLE,lang)\r\n        /* \"$\" + formatMoney(output.insNeedLE, 0, decimalChar, thousands) */\r\n      ),\r\n    ];\r\n    y += incY + 0.1;\r\n    pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n  }\r\n\r\n    values = [\r\n      singleFamily? OUTPUTTEXT[lang].pg8TabRow4Alt.replace(\"A. \",\"\"): OUTPUTTEXT[lang].pg8TabRow4,\r\n      (\r\n        formattedMoneyString(output.insNeedRet,lang)\r\n        /* \"$\" + formatMoney(output.insNeedRet, 0, decimalChar, thousands) */\r\n      ),\r\n    ];\r\n    y += incY;\r\n    pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n\r\n    if (output.hasChild) {\r\n      if (output.ygChild < maxDur) {\r\n        values = [\r\n          singleFamily?OUTPUTTEXT[lang].pg8TabRow5.replace(\"C.\",\"B.\").replace(\"25\",output.youngestChildEndAge): OUTPUTTEXT[lang].pg8TabRow5.replace(\"25\",output.youngestChildEndAge),\r\n          (\r\n            formattedMoneyString(output.insNeedYgChild25,lang)\r\n        /* \"$\" +\r\n            formatMoney(output.insNeedYgChild25, 0, decimalChar, thousands) */\r\n          ),\r\n        ];\r\n        y += incY;\r\n        pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n      }\r\n\r\n      if (output.ygChild < orphAge) {\r\n        values = [\r\n          singleFamily?OUTPUTTEXT[lang].pg8TabRow6.replace(\"D.\",\"C.\"): OUTPUTTEXT[lang].pg8TabRow6,\r\n          (\r\n            formattedMoneyString(output.insNeedYgChild18,lang)\r\n        /* \"$\" +\r\n            formatMoney(output.insNeedYgChild18, 0, decimalChar, thousands) */\r\n          ),\r\n        ];\r\n        y += incY;\r\n        pdf.tableRow(fill, textColor, x, y, values, height, Widths);\r\n      }\r\n    }\r\n    pdf.AddChart(\"bar2\", InToPt(1.5), InToPt(y + 0.7), InToPt(4), InToPt(2));\r\n\r\n    pdf.addFooterAndHeader(headerOffset, footerText, headerText);\r\n\r\n    {\r\n      /* Nptes*/\r\n    }\r\n    result=result && pdf.addCustomImage(IMAGE_LOGO_OTHERPAGES, pg1TitleY, image,false,top);\r\n\r\n    pdf.SetFont(HELVETICA, NORMAL);\r\n    if (lang === \"en\") pdf.SetFontSize(PxToPt(25));\r\n    else pdf.SetFontSize(PxToPt(20));\r\n\r\n    pdf.SetTextColor(0x45, 0x55, 0x60);\r\n    pdf.Text(OUTPUTTEXT[lang].pg9T, InToPt(1.5), InToPt(headerOffset+topToTitle_Y\r\n  ));\r\n\r\n    paragraph = OUTPUTTEXT[lang].pg9P1;\r\n    pdf.SetFont(TIMES, NORMAL);\r\n    pdf.SetFontSize(PxToPt(16));\r\n    pdf.SetTextColor(0x45, 0x55, 0x60);\r\n    pdf.MultilineText(paragraph, InToPt(1.5), InToPt(headerOffset+1.8), InToPt(PARA_WIDTH));\r\n\r\n    //pdf.addFooterAndHeader(headerOffset,footerText, headerText);\r\n    pdf.addHeaderNoFooter(headerOffset,headerText);\r\n    {\r\n      /* Acknow*/\r\n    }\r\n    result=result && pdf.addCustomImage(IMAGE_LOGO_OTHERPAGES, pg1TitleY, image,false,top);\r\n\r\n    pdf.SetFont(HELVETICA, NORMAL);\r\n    if (lang === \"en\") pdf.SetFontSize(PxToPt(25));\r\n    else pdf.SetFontSize(PxToPt(20));\r\n\r\n    pdf.SetTextColor(0x45, 0x55, 0x60);\r\n    pdf.Text(OUTPUTTEXT[lang].pg10T, InToPt(1.5), InToPt(headerOffset + topToTitle_Y\r\n  ));\r\n\r\n    paragraph = OUTPUTTEXT[lang].pg10P1;\r\n    pdf.SetFont(TIMES, NORMAL);\r\n    pdf.SetFontSize(PxToPt(16));\r\n    pdf.SetTextColor(0x45, 0x55, 0x60);\r\n    pdf.MultilineText(\r\n      paragraph,\r\n      InToPt(1.5),\r\n      InToPt(headerOffset + 1.8),\r\n      InToPt(PARA_WIDTH)\r\n    );\r\n\r\n    pdf.SetFont(TIMES, NORMAL);\r\n\r\n    pdf.SetFontSize(PxToPt(16));\r\n\r\n    x = 1.5;\r\n    y = headerOffset + 3.6;\r\n    incY = 0.42;\r\n    height = 0.35;\r\n    //const Widths = 5;\r\n    fill = [255, 255, 255];\r\n    textColor = [0x45, 0x55, 0x60];\r\n    pdf.SetTextColor(0x45, 0x55, 0x60);\r\n\r\n    let yOffset = props.lang === \"fr\" ? 3 : 4;\r\n    y += incY + 0.2;\r\n    pdf.MultilineText(\r\n      OUTPUTTEXT[lang].pg10TabRow1,\r\n      InToPt(x),\r\n      InToPt(y),\r\n      InToPt(4)\r\n    );\r\n    pdf.Text(OUTPUTTEXT[lang].pg10TabRow11, InToPt(x + yOffset), InToPt(y));\r\n\r\n    y += incY;\r\n    pdf.MultilineText(\r\n      OUTPUTTEXT[lang].pg10TabRow2,\r\n      InToPt(x),\r\n      InToPt(y),\r\n      InToPt(4)\r\n    );\r\n    pdf.Text(OUTPUTTEXT[lang].pg10TabRow11, InToPt(x + yOffset), InToPt(y));\r\n\r\n    y += incY;\r\n    pdf.MultilineText(\r\n      OUTPUTTEXT[lang].pg10TabRow3,\r\n      InToPt(x),\r\n      InToPt(y),\r\n      InToPt(4)\r\n    );\r\n    pdf.Text(OUTPUTTEXT[lang].pg10TabRow11, InToPt(x + yOffset), InToPt(y));\r\n\r\n    pdf.Footer(OUTPUTTEXT[lang].pgFooter);\r\n\r\n    if(result===false)\r\n      alert(lang===\"en\"? \"PDF image error, SVG extension is not supported\":\"Erreur d’image PDF, l’extension SVG n’est pas prise en charge\")  \r\n\r\n    // Done\r\n    pdf.Save(\"INA_PDF.pdf\");\r\n  }\r\n}\r\n\r\n","import React, { Component } from \"react\";\r\nimport \"./Output.css\";\r\nimport { Table } from \"react-bootstrap\";\r\nimport {\r\n  CONTROLTITLE,\r\n  DISPLAY_RETIREMENT,\r\n  DISPLAY_LIFEEXP,\r\n  DISPLAY_ENDAGE,\r\n  MAX_ORPHAN_DUR_QC,\r\n  MAX_ORPHAN_DUR_NON_QC,\r\n  ORPHAN_AGE_QC,\r\n  ORPHAN_AGE_NON_QC,\r\n  PROVINCE,\r\n  SEX,\r\n  SMOKING,\r\n  MEMBER,\r\n  QUOTE_CLIENT,\r\n  QUOTE_SPOUSE,\r\n  OUTPUT_WIDTH_PCT,\r\n  IMAGE_APPLET_INA,\r\n  IMAGE_LOGO,\r\n  IMAGE_LOGO_OTHERPAGES,\r\n  APPLET_INA,\r\n} from \"../definitions/generalDefinitions\";\r\nimport { MAX_LOGO_HEIGHT, PAGE_HEIGHT } from \"./PDF\";\r\nimport { getName, getLogoAndAppletImage,formatted,isMobileDevice, extractCSS, versionDetails } from \"../utils/helper\";\r\nimport { setUIDataToAPI } from \"../data/dataExchange\";\r\nimport { handleFetchQueryStringSave } from \"../utils/FetchAPIs\";\r\nimport { OUTPUTTEXT } from \"../definitions/outputDefinitions\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport { doSavePdfAction } from \"./OutputPDF\";\r\n//import { AdjustibleImage } from \"./AdjustibleImage\";\r\n//import jsPDF from 'jspdf';\r\n//import * as jsPDF from 'jspdf';\r\nimport {\r\n  cleanFormat,\r\n  formatMoney,\r\n  getListItemKeyFromName,\r\n  numFormat,\r\n  familyProjectionYears,\r\n  isSingleFamily,\r\n  \r\n} from \"../utils/helper\";\r\nimport { getOutputValues } from \"../data/dataExchange\";\r\nimport { getInfoINA, getInfoPDF  } from \"../definitions/infoIconsDefinitions\";\r\nimport { Info } from \"./Info\";\r\n\r\nexport default class OutputPresentation extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      image: this.props.dataInput.Presentations[0].adviserLogo,\r\n    };\r\n    this.dateApplet = \"\";\r\n    this.pdfRef = React.createRef();\r\n  }\r\n\r\n  doPDF = () => {\r\n    doSavePdfAction(this.props);\r\n  };\r\n\r\n  doLIFO = async () => {\r\n    //window.top.location.href = 'localhost:8086';\r\n    //window.parent.changeLogo();\r\n\r\n    await window.parent.postMessage(\r\n      \"LIFO_\" +\r\n        this.props.dataInput.Presentations[0].language +\r\n        \"_\" +\r\n        this.props.encryptedInputLife1,\r\n      \"*\"\r\n    );\r\n  };\r\n  doWL = async () => {\r\n    //window.top.location.href = 'localhost:8086';\r\n    //window.parent.changeLogo();\r\n    await window.parent.postMessage(\r\n      \"WL_\" +\r\n        this.props.dataInput.Presentations[0].language +\r\n        \"_\" +\r\n        this.props.encryptedInputLife1,\r\n      \"*\"\r\n    );\r\n  };\r\n  doEP = async () => {\r\n    \r\n  \r\n\r\n    await window.parent.postMessage(\r\n      \"EP_\" +\r\n        this.props.dataInput.Presentations[0].language +\r\n        \"_\" +\r\n        this.props.encryptedInputLife1AndSpouse,\r\n      \"*\"\r\n    );\r\n    // send notif to remove spinner\r\n    window.parent.postMessage(\"FRAME_LOADED\",\t\"*\");\r\n  };\r\n\r\n  doCompuLife = () => {\r\n    const lang = this.props.dataInput.Presentations[0].language;\r\n   // const formatFr = lang === \"fr\" ? true : false;\r\n    const FA = parseFloat(cleanFormat(this.props.insuranceNeed, lang));\r\n    const province = this.props.dataInput.Presentations[0].provinceKey;\r\n    var today = new Date();\r\n    const birthYr = today.getFullYear() - this.props.dataInput.Clients[0].Age;\r\n    const birthMth = today.getMonth() + 1;\r\n    const birthDay = today.getDate();\r\n    let provinceCode = 2;\r\n    let url = \"http://quotes.ppi.ca/canmain.html?comp=so\";\r\n\r\n    //console.log(url);\r\n    url =\r\n      url +\r\n      \"&lang=\" +\r\n      lang +\r\n      \"&ID=\" +\r\n      \"TKD\" +\r\n      \"&ORIGIN=\" +\r\n      \"TKD\" +\r\n      \"&face=\" +\r\n      parseInt(FA) +\r\n      \"&prepby=\" +\r\n      this.props.dataInput.Presentations[0].designedBy +\r\n      \"&prov=\";\r\n\r\n    if (province === PROVINCE.AB) provinceCode = \"1\";\r\n    else if (province === PROVINCE.BC) provinceCode = \"2\";\r\n    else if (province === PROVINCE.MB) provinceCode = \"3\";\r\n    else if (province === PROVINCE.NB) provinceCode = \"4\";\r\n    else if (province === PROVINCE.NF) provinceCode = \"5\";\r\n    else if (province === PROVINCE.NS) provinceCode = \"6\";\r\n    else if (province === PROVINCE.NT) provinceCode = \"7\";\r\n    else if (province === PROVINCE.NU) provinceCode = \"8\";\r\n    else if (province === PROVINCE.ON) provinceCode = \"9\";\r\n    else if (province === PROVINCE.PE) provinceCode = \"10\";\r\n    else if (province === PROVINCE.QC) provinceCode = \"11\";\r\n    else if (province === PROVINCE.SK) provinceCode = \"12\";\r\n    else if (province === PROVINCE.YU) provinceCode = \"13\";\r\n\r\n    url = url + provinceCode;\r\n   \r\n    {\r\n      url =\r\n        url + \"&prepfor=\" + this.props.dataInput.Presentations[0].designedFor;\r\n      url =\r\n        url + \"&byear=\" + birthYr + \"&bmonth=\" + birthMth + \"&bday=\" + birthDay;\r\n\r\n      url =\r\n        url +\r\n        \"&sex=\" +\r\n        (this.props.dataInput.Clients[0].sexKey === SEX.MALE.Key ? \"M\" : \"F\");\r\n      url =\r\n        url +\r\n        \"&smoker=\" +\r\n        (this.props.dataInput.Clients[0].smokerKey === SMOKING.NON_SMOKER.Key\r\n          ? \"N\"\r\n          : \"Y\");\r\n    }\r\n    //console.log(url);\r\n    const height = Math.min(window.innerHeight - 130 - 20, 800);\r\n    this.externalWindow = window.open(\r\n      url,\r\n      \"_blank\",\r\n      \"width=950,height=\" + height + \",left=25,top=130\"\r\n    );\r\n    this.containerEl = this.externalWindow.document.createElement(\"div\");\r\n    this.externalWindow.document.body.appendChild(this.containerEl);\r\n\r\n    /* try {\r\n      window.open(url, \"_blank\");\r\n    } catch (e) {} */\r\n  };\r\n\r\n\r\n  render() {\r\n    // presentation output shared with pdf\r\n    \r\n    let output = getOutputValues(this.props);\r\n    const lang = this.props.dataInput.Presentations[0].language;\r\n    const labelsBilingual = OUTPUTTEXT[lang];\r\n    const decimalChar = lang === \"en\" ? \".\" : \",\";\r\n    const thousands = lang === \"en\" ? \",\" : \" \";\r\n    const formatFr = lang === \"fr\" ? true : false;\r\n    const dollarEn= lang === \"fr\" ? \"\" : \"$\";\r\n    const dollarFr= lang === \"fr\" ? \"$\" : \"\";\r\n\r\n    const singlePerson = this.props.dataInput.Clients.length === 1 ? true : false;\r\n    const thereAfterText = singlePerson?labelsBilingual.pgTabRowThereAfter_1:labelsBilingual.pgTabRowThereAfter\r\n    const thereAfterTextSF = singlePerson?labelsBilingual.pg5TabRow7_1:labelsBilingual.pg5TabRow7\r\n\r\n    const clients = this.props.dataInput.Clients;\r\n    const projYears = familyProjectionYears(\r\n      clients,\r\n      this.props.dataInput.Presentations[0].periodOption,\r\n      this.props.LE,\r\n      this.props.LE\r\n    );\r\n    const projectEnd = projYears.projectionEnd;\r\n    const protectionPeriod = projYears.noProjectionYrs;\r\n    const minAge = projYears.survivorAge;\r\n    const singleFamily = isSingleFamily(clients);\r\n    const noSurvivor = singlePerson && versionDetails().versionNumeric<=10014\r\n\r\n    \r\n    \r\n\r\n    //const insNeedLine= getInsNeedLine(this.props.dataInput.Presentations[0], this.props.projectEnd, lang,noSurvivor,singleFamily,protectionPeriod)\r\n\r\n    /* const protectionPeriod=this.props.projectEnd-minAge  */\r\n\r\n    const provinceKey = getListItemKeyFromName(PROVINCE, output.province);\r\n    let maxDur =\r\n      provinceKey === \"QC\" ? MAX_ORPHAN_DUR_QC : MAX_ORPHAN_DUR_NON_QC;\r\n    let orphAge = provinceKey === \"QC\" ? ORPHAN_AGE_QC : ORPHAN_AGE_NON_QC;\r\n\r\n    // graph details\r\n    const options = {\r\n      legend: {\r\n        display: false,\r\n      },\r\n      responsive: true,\r\n      maintainAspectRatio: false,\r\n      scales: {\r\n        xAxes: [{ stacked: true }],\r\n        yAxes: [\r\n          {\r\n            stacked: true,\r\n            /* ticks: {\r\n              beginAtZero: true,\r\n              steps: 10,\r\n              stepValue: 5,\r\n            }, */\r\n            ticks: {\r\n              beginAtZero: true,\r\n              callback: function (value, index, values) {\r\n                let result =\r\n                  value < 1000\r\n                    ? value\r\n                    : Intl.NumberFormat(lang).format(value / 1000) + \"K\"\r\n                return result;\r\n              },\r\n            },\r\n\r\n\r\n          },\r\n        ],\r\n      },\r\n    };\r\n\r\n    // //console.log(output)\r\n\r\n    var dataLabels = singlePerson? [\"A\"]:[\"A\", \"B\"];\r\n    /* var dataValues = [\r\n      output.insNeedLE + output.totalAsset - output.totalLiab,\r\n      output.insNeedRet + output.totalAsset - output.totalLiab,\r\n    ]; */\r\n    var dColor = [\"#7399c6\", \"#d9d3a4\"];\r\n    const under25 =\r\n      output.ygChild < maxDur\r\n        ? output.insNeedYgChild25 + output.totalAsset - output.totalLiab\r\n        : 0;\r\n    const under18 =\r\n      output.ygChild < orphAge\r\n        ? output.insNeedYgChild18 + output.totalAsset - output.totalLiab\r\n        : 0;\r\n\r\n    let youngestChildEndAge=maxDur \r\n    if (output.hasChild)\r\n      {\r\n        youngestChildEndAge=Math.min(maxDur , this.props.dataInput.Clients.filter((item)=> { return item.Age===output.ygChild})[0].retirementAge)\r\n    \r\n        \r\n      }\r\n    \r\n    \r\n    if (output.hasChild) {\r\n      dataLabels = [\"A\", \"B\", \"C\", \"D\"];\r\n      /* dataValues = [\r\n        output.insNeedLE + output.totalAsset - output.totalLiab,\r\n        output.insNeedRet + output.totalAsset - output.totalLiab,\r\n        under25,\r\n        under18,\r\n      ]; */\r\n      dColor = [\"#7399c6\", \"#d9d3a4\", \"#949ca1\", \"#847a18\"];\r\n    }\r\n\r\n    /* console.log(output.clients) */\r\n    var dataValues2 = singlePerson? [output.insNeedLE]: [output.insNeedLE, output.insNeedRet];\r\n    if (output.hasChild) {\r\n      if(singleFamily)\r\n      {\r\n        dataLabels = [\"A\", \"B\", \"C\"];\r\n        dataValues2 = [\r\n          output.insNeedRet,\r\n          output.insNeedYgChild25,\r\n          output.insNeedYgChild18,\r\n        ];\r\n        dColor = [\"#d9d3a4\", \"#949ca1\", \"#847a18\"];\r\n      }\r\n      else{\r\n      dataLabels = [\"A\", \"B\", \"C\", \"D\"];\r\n      dataValues2 = [\r\n        output.insNeedLE,\r\n        output.insNeedRet,\r\n        output.insNeedYgChild25,\r\n        output.insNeedYgChild18,\r\n      ];\r\n      dColor = [\"#7399c6\", \"#d9d3a4\", \"#949ca1\", \"#847a18\"];\r\n    }\r\n    }\r\n    else if(singleFamily && output.hasChild=== false)  // single family with dep adult\r\n      {\r\n        dataLabels = [\"A\"];\r\n        dataValues2 = [\r\n          output.insNeedRet,\r\n        ];\r\n        dColor = [\"#d9d3a4\"];\r\n      }\r\n     \r\n\r\n    /* const dataInsurance = {\r\n      labels: dataLabels,\r\n      datasets: [\r\n        {\r\n          label: \"\", //Income Shortfall',\r\n          data: dataValues,\r\n          fill: false, // Don't fill area under the line\r\n          borderColor: \"#2B3856\", // Line color\r\n          backgroundColor: dColor,\r\n        },\r\n      ],\r\n    };\r\n */\r\n    const dataInsurance2 = {\r\n      labels: dataLabels,\r\n      datasets: [\r\n        {\r\n          label: \"\", //Income Shortfall',\r\n          data: dataValues2,\r\n          fill: false, // Don't fill area under the line\r\n          borderColor: \"#2B3856\", // Line color\r\n          backgroundColor: dColor,\r\n        },\r\n      ],\r\n    };\r\n\r\n    const needTo = this.props.insNeedLine;\r\n    const images = getLogoAndAppletImage(\r\n      this.props.dataInput,\r\n      this.props.imageRemove,\r\n      this.props.imageAdjust\r\n    );\r\n\r\n    const logoTop = images.logoTop;\r\n    const logoBottom = images.logoBottom;\r\n\r\n    const PDFTopMargin=singleFamily?0:-37  \r\n\r\n\r\n    if (noSurvivor) {\r\n      return (\r\n        <div>\r\n          <h3 className=\"ppi1\">{needTo}</h3>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div>\r\n          <div className=\"exportArea\"/*  style={{ width: \"20%\", float: \"right\", clear: \"left\" }} */>\r\n          \r\n          <div ref={this.pdfRef} style={{ width: \"100%\", float: \"left\", clear: \"left\" }}>\r\n          \r\n            <input\r\n              className=\"roundedCornerCmd\"\r\n              style={{\r\n             //   width: \"80px\",\r\n                marginTop: PDFTopMargin-35 +\"px\",\r\n                marginRight: \"0px\",\r\n                paddingRight: \"8px\",\r\n                float: \"right\",\r\n              }}\r\n              onClick={this.doPDF}\r\n              type=\"button\"\r\n              value={CONTROLTITLE[lang].pdf}\r\n            /> {<div style={{\r\n              //   width: \"80px\",\r\n                 marginTop: PDFTopMargin-26 +\"px\",\r\n                 marginRight: lang===\"en\"? \"122px\":\"180px\",\r\n                 paddingRight: \"8px\",\r\n                 float: \"right\",\r\n               }}><Info infoIcon={getInfoPDF(lang)}/></div>} \r\n           \r\n          </div>\r\n          <div style={{ width: \"100%\", float: \"left\", clear: \"left\" }}>\r\n            {/* <input type=\"file\" onChange={this.onImageChange} id=\"logo\"/> */}\r\n\r\n            <input\r\n              className=\"roundedCornerCmd\"\r\n              style={{\r\n               // width: \"180px\",\r\n                marginTop: PDFTopMargin + \"px\",\r\n                paddingRight: \"8px\",\r\n                float: \"right\",\r\n              }}\r\n              onClick={this.doCompuLife}\r\n              type=\"button\"\r\n              value={CONTROLTITLE[lang].compulife}\r\n            />\r\n          </div>\r\n          <div style={{ width: \"100%\", float: \"left\", clear: \"left\" }}>\r\n            <input\r\n              className=\"roundedCornerCmd\"\r\n              style={{\r\n           //     width: \"180px\",\r\n                marginTop: \"10px\",\r\n                marginRight: \"0px\",\r\n                paddingRight: \"8px\",\r\n                float: \"right\",\r\n              }}\r\n              onClick={this.doEP}\r\n              type=\"button\"\r\n              value={CONTROLTITLE[lang].ep}\r\n            />\r\n          </div>\r\n          <div style={{ width: \"100%\", float: \"left\", clear: \"left\" }}>\r\n            <input\r\n              className=\"roundedCornerCmd\"\r\n              style={{\r\n            //    width: \"80px\",\r\n                marginTop: \"0px\",\r\n                marginRight: \"0px\",\r\n                paddingRight: \"8px\",\r\n                float: \"right\",\r\n              }}\r\n              onClick={this.doLIFO}\r\n              type=\"button\"\r\n              value={CONTROLTITLE[lang].lifo}\r\n            />\r\n          </div>\r\n          <div style={{ width: \"100%\", float: \"left\", clear: \"left\" }}>\r\n            <input\r\n              className=\"roundedCornerCmd\"\r\n              style={{\r\n            //    width: \"80px\",\r\n                marginTop: \"0px\",\r\n                marginRight: \"0px\",\r\n                paddingRight: \"8px\",\r\n                float: \"right\",\r\n              }}\r\n              onClick={this.doWL}\r\n              type=\"button\"\r\n              value={CONTROLTITLE[lang].wl}\r\n            />\r\n          </div>\r\n          </div>\r\n          <div className=\"contentPres\">\r\n            <h3 className=\"ppi1\">\r\n              {needTo}\r\n              {/* : {dollarEn}\r\n          {formatMoney(\r\n            cleanFormat(this.props.insuranceNeed, formatFr),\r\n            0,\r\n            decimalChar,\r\n            thousands\r\n          ) */}\r\n              <Info infoIcon={getInfoINA(lang)} />\r\n            </h3>\r\n\r\n             \r\n              {/* add logo */}\r\n              {images.logo1stPage}\r\n              {/* add image */}\r\n              {images.applet}\r\n\r\n            \r\n              <h1 className=\"ppi1\">{labelsBilingual.pg1T}</h1>\r\n              <h5 className=\"ppi2\">\r\n                {labelsBilingual.pg1P1} {output.designedFor}\r\n                <br />\r\n                {labelsBilingual.pg1P2} {output.designedBy}\r\n                <br />\r\n                {labelsBilingual.pg1P3} {output.dateApplet}\r\n                <br />\r\n                {labelsBilingual.pg1P4} {output.province}\r\n                <br />\r\n              </h5>\r\n              {logoBottom}\r\n              {/* PAGE 2 profile*/}\r\n              <hr className=\"ppi1\" />\r\n              {logoTop}\r\n              <h2 className=\"ppi1\">{labelsBilingual.pg1T}</h2>\r\n              <div\r\n                style={{\r\n                  overflowX: \"auto\",\r\n                  overflowY: \"hidden\",\r\n                  width: \"100%\",\r\n                }}\r\n              >\r\n                <table className=\"blueTable\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th style={{ width: \"30%\", marginLeft: \"0px\" }}>\r\n                        {singlePerson?labelsBilingual.pg2TabT1_1:labelsBilingual.pg2TabT1}\r\n                      </th>\r\n                      <th style={{ width: \"10%\" }}>\r\n                        {labelsBilingual.pg2TabT2}\r\n                      </th>\r\n                      <th style={{ width: \"18%\" }}>\r\n                        {labelsBilingual.pg2TabT3}\r\n                      </th>\r\n                      <th style={{ width: \"19%\" }}>\r\n                        {singleFamily\r\n                          ? labelsBilingual.pg2TabT4Alt\r\n                          : labelsBilingual.pg2TabT4}\r\n                      </th>\r\n                      <th style={{ width: \"19%\" }}>\r\n                        {labelsBilingual.pg2TabT5}\r\n                      </th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {output.clients.map((item) => (\r\n                      <tr key={item.id}>\r\n                        <td>\r\n                          {item.memberKey === MEMBER.CLIENT.Key\r\n                            ? MEMBER.CLIENT.value[lang] + getName(item.name,lang)\r\n                            : item.memberKey === MEMBER.SPOUSE.Key\r\n                            ? MEMBER.SPOUSE.value[lang] + getName(item.name,lang)\r\n                            : (item.memberKey === MEMBER.CHILD.Key? MEMBER.CHILD.value[lang] + getName(item.name,lang):MEMBER.DEPENDENT_ADULT.value[lang] + getName(item.name,lang))}\r\n                        </td>\r\n                        <td className=\"textalignright\">{item.age}</td>\r\n                        <td className=\"textalignright\">\r\n                        {formatted(item.income,lang)}\r\n                        {/* {dollarFr}\r\n                          {formatMoney(\r\n                            item.income,\r\n                            0,\r\n                            decimalChar,\r\n                            thousands\r\n                          )} */}\r\n                        </td>\r\n                        <td className=\"textalignright\">\r\n                          {singleFamily\r\n                            ? item.memberKey === MEMBER.CLIENT.Key\r\n                              ? \"-\"\r\n                              : item.ret-item.age //protectionPeriod\r\n                            : item.ret}\r\n                        </td>\r\n                        <td className=\"textalignright\">\r\n                          {item.memberKey === MEMBER.CLIENT.Key\r\n                            ? numFormat(\r\n                                clients[QUOTE_CLIENT].avgTaxRate,\r\n                                false,\r\n                                3, thousands,\r\n                                decimalChar\r\n                              )\r\n                            : item.memberKey === MEMBER.SPOUSE.Key\r\n                            ? numFormat(\r\n                                clients[QUOTE_SPOUSE].avgTaxRate,\r\n                                false,\r\n                                3,thousands,\r\n                                decimalChar\r\n                              )\r\n                            : numFormat(\r\n                                clients[item.id - 1].avgTaxRate,\r\n                                false,\r\n                                3,thousands,\r\n                                decimalChar\r\n                              )}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                    {/*}\t\t\t<tr>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<td>Client</td><td className=\"textalignrightwidth110\">{dollarEn}{formatMoney(Income, 0,decimalChar,thousands)}</td><td className=\"textalignright\">{retAge}</td><td className=\"textalignright\">{retAge}</td></tr>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>Spouse</td><td className=\"textalignrightwidth110\">{dollarEn}{formatMoney(Income2, 0,decimalChar,thousands)}</td><td className=\"textalignright\">{retAge2}</td><td className=\"textalignright\">{retAge}</td></tr>\r\n\t\t\t\t\t\t*/}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              {/* financial summary\r\n               */}\r\n              <h4 className=\"ppi1\"></h4>\r\n              <div className=\"tableTitle\">{labelsBilingual.pg2T3}</div>\r\n              <table className=\"incomePosition\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td className=\"paddingleft25\">{labelsBilingual.pg2P5}</td>\r\n                    <td className=\"textalignright\">\r\n                      {formatted(output.totalAssetExcludeInsurance,lang)}\r\n                      {/* {dollarEn}\r\n                      {formatMoney(\r\n                        output.totalAssetExcludeInsurance,\r\n                        0,\r\n                        decimalChar,\r\n                        thousands\r\n                      )} */}\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td className=\"paddingleft25\">{labelsBilingual.pg2P6}</td>\r\n                    <td className=\"textalignright\">\r\n                    {formatted(output.totalLiabExcludeDeathRelated,lang)}\r\n                      {/* {dollarEn}\r\n                      {formatMoney(\r\n                        output.totalLiabExcludeDeathRelated,\r\n                        0,\r\n                        decimalChar,\r\n                        thousands\r\n                      )} */}\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td\r\n                      className=\"paddingleft25\"\r\n                      style={{ textAlign: \"right\" }}\r\n                    >\r\n                      {labelsBilingual.pg2P7}\r\n                    </td>\r\n                    <td className=\"textalignright\">\r\n                    {formatted(output.totalAssetExcludeInsurance -\r\n                          output.totalLiabExcludeDeathRelated,lang)}\r\n                    \r\n                    {/*   {dollarEn}\r\n                      {formatMoney(\r\n                        output.totalAssetExcludeInsurance -\r\n                          output.totalLiabExcludeDeathRelated,\r\n                        0,\r\n                        decimalChar,\r\n                        thousands\r\n                      )} */}\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td className=\"paddingleft25\">{labelsBilingual.pg2P8.replace(\"yyy\",formatted(output.govDB,lang))}</td>\r\n                    <td className=\"textalignright\">\r\n                    {formatted(output.totalAssetInsurance + output.govDB,lang)}\r\n                    \r\n                    {/*   {dollarEn}\r\n                      {formatMoney(\r\n                        output.totalAssetInsurance + output.govDB,\r\n                        0,\r\n                        decimalChar,\r\n                        thousands\r\n                      )} */}\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td className=\"paddingleft25\">{labelsBilingual.pg2P9}</td>\r\n                    <td className=\"textalignright\">\r\n                    {formatted(output.totalLiab - output.totalLiabExcludeDeathRelated,lang)}\r\n                    {/* \r\n                      {dollarEn}\r\n                      {formatMoney(\r\n                        output.totalLiab - output.totalLiabExcludeDeathRelated,\r\n                        0,\r\n                        decimalChar,\r\n                        thousands\r\n                      )} */}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              {/* assumptions <h2 className=\"ppi1\">{labelsBilingual.pg2T2}</h2> */}\r\n              <h4 className=\"ppi1\"></h4>\r\n              <div className=\"tableTitle\">{labelsBilingual.pg2T2}</div>\r\n              <table className=\"incomePosition\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td className=\"paddingleft25\">\r\n                      {labelsBilingual.pg7TabRow4}\r\n                    </td>\r\n                    <td className=\"textalignright\">\r\n                      {numFormat(output.infRate, false, 3,thousands, decimalChar)}\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td className=\"paddingleft25\">\r\n                      {singlePerson? labelsBilingual.pg7TabRow5_1: labelsBilingual.pg7TabRow5}\r\n                    </td>\r\n                    <td className=\"textalignright\">\r\n                      {numFormat(output.invRate, false, 3,thousands, decimalChar)}\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td className=\"paddingleft25\">\r\n                      {labelsBilingual.pg2TabT6}\r\n                    </td>\r\n                    <td className=\"textalignright\">\r\n                      {numFormat(\r\n                        this.props.dataInput.Presentations[0].taxRate,\r\n                        false,\r\n                        3,thousands,\r\n                        decimalChar\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                  <tr></tr>\r\n                  <tr></tr>\r\n                  <tr></tr>\r\n                  {/* <tr >\r\n                  <td className=\"backgroundcolorFFFFFF\" colSpan=\"2\" >\r\n                    {labelsBilingual.pg2Tab3}\r\n                  </td> \r\n                </tr>*/}\r\n                </tbody>\r\n              </table>\r\n              <p className=\"ppi1\" style={{ width: \"90%\" }}>\r\n                {singlePerson?labelsBilingual.pg2Tab2_1:labelsBilingual.pg2Tab2}\r\n              </p>\r\n              <p className=\"ppi1\" style={{ width: \"90%\" }}>\r\n                {labelsBilingual.pg2Tab3}\r\n              </p>\r\n              {/* Notes */}\r\n              {/* <h4 className=\"ppi1\"></h4>\r\n              <div className=\"tableTitle\">{labelsBilingual.pg9T}</div>\r\n              <p className=\"ppi1\">{labelsBilingual.pg9P1}</p>\r\n              <p />\r\n */}              {logoBottom}\r\n              {/* PAGE 3 Family Cash Needs at Death Combine with Income needs*/}\r\n              <hr className=\"ppi1\" />\r\n              {logoTop}\r\n              <br />\r\n              <h2 className=\"ppi1\">{singlePerson?labelsBilingual.pg3T_1: labelsBilingual.pg3T}</h2>\r\n              <p className=\"ppi1\">{singlePerson?labelsBilingual.pg3P1_1:labelsBilingual.pg3P1}</p>\r\n              <div\r\n                style={{\r\n                  overflowX: \"auto\",\r\n                  overflowY: \"hidden\",\r\n                  width: \"100%\",\r\n                }}\r\n              >\r\n                <div className=\"tableTitle\">{labelsBilingual.pg3TabT}</div>\r\n                <table className=\"cashNeeds\">\r\n                  <thead></thead>\r\n                  <tbody>\r\n                    {output.liabilities.map((item) => (\r\n                      <tr key={item.name}>\r\n                        <td style={{ width: \"50%\" }}>{item.name}</td>\r\n                        <td className=\"textalignright\">\r\n                        {formatted(item.value,lang)}\r\n                    \r\n                    {/*       {dollarEn}{formatMoney(item.value, 0, decimalChar, thousands)} */}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                    <tr className=\"backgroundcolorDCE5F0\">\r\n                      <td>\r\n                        <strong>{labelsBilingual.pg3TabRTot}</strong>\r\n                      </td>\r\n                      <td className=\"textalignrightpaddingright20\">\r\n                        <strong>\r\n                        {formatted(output.totalLiab,lang)}\r\n                    \r\n                    {/*       {dollarEn}\r\n                          {formatMoney(\r\n                            output.totalLiab,\r\n                            0,\r\n                            decimalChar,\r\n                            thousands\r\n                          )} */}\r\n                        </strong>\r\n                      </td>\r\n                    </tr>\r\n                    {/*\t<tr className=\"backgroundcolorDCE5F0\">\r\n\t\t\t\t\t\t\t\t<td><strong>Permanent Cash Needs <sup>p</sup></strong></td>\r\n\t\t\t\t\t\t\t\t\t\t<td className=\"textalignright\"><strong>{dollarEn}200 <sup>p</sup></strong></td>\r\n\t\t\t\t\t\t\t\t\t</tr>*/}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              {/* combined with pg 3 PAGE 4 Family Income Needs at Death*/}\r\n              {/* <br />\r\n          <hr className=\"ppi1\" />\r\n          <h2 className=\"ppi1\">{labelsBilingual.pg4T}</h2>\r\n          <p className=\"ppi1\">{labelsBilingual.pg4P1}</p>*/}\r\n              <h4 className=\"ppi1\"></h4>\r\n              <div\r\n                style={{\r\n                  overflowX: \"auto\",\r\n                  overflowY: \"hidden\",\r\n                  width: \"100%\",\r\n                }}\r\n              >\r\n                <div className=\"tableTitle\">{labelsBilingual.pg4TabT}</div>\r\n                <table className=\"incomeNeeds\">\r\n                  <thead></thead>\r\n                  <tbody>\r\n                    <tr>\r\n                      <td className=\"paddingleft25\" style={{ width: \"70%\" }}>\r\n                        {singlePerson?labelsBilingual.pg4TabRow1_1: labelsBilingual.pg4TabRow1}\r\n                      </td>\r\n                      <td className=\"textalignright\">\r\n                      {formatted( output.Income + output.Income2,lang)}\r\n                    \r\n                    {/*     {dollarEn}\r\n                        {formatMoney(\r\n                          output.Income + output.Income2,\r\n                          0,\r\n                          decimalChar,\r\n                          thousands\r\n                        )} */}\r\n                      </td>\r\n                    </tr>\r\n                    <tr className=\"backgroundcolorFFFFFF\">\r\n                      <td>\r\n                        <br />\r\n                        {singlePerson?labelsBilingual.pg4TabRow2_1: labelsBilingual.pg4TabRow2}\r\n                      </td>\r\n                      <td></td>\r\n                    </tr>\r\n\r\n                    {output.percent2.length > 0 && (\r\n                      <tr>\r\n                        <td className=\"paddingleft25\">\r\n                          {labelsBilingual.pg4TabRow3}\r\n                        </td>\r\n                        <td className=\"textalignright\">{output.percent1}%</td>\r\n                      </tr>\r\n                    )}\r\n                    {output.percent2.length > 0 && (\r\n                      <tr>\r\n                        <td className=\"paddingleft25\">\r\n                          {labelsBilingual.pg4TabRow4}\r\n                        </td>\r\n                        <td className=\"textalignright\">{output.percent2.map((item) => <span>{item}% </span>)}</td>\r\n                      </tr>\r\n                    )}\r\n                    {output.percent2.length === 0 && (\r\n                      <tr>\r\n                        <td className=\"paddingleft25\">\r\n                          {labelsBilingual.pg4TabRow4}\r\n                        </td>\r\n                        <td className=\"textalignright\">{output.percent1}%</td>\r\n                      </tr>\r\n                    )}\r\n\r\n                    <tr className=\"backgroundcolorFFFFFF\">\r\n                      <td></td>\r\n                      <td></td>\r\n                    </tr>\r\n                    <tr className=\"backgroundcolorFFFFFF\">\r\n                      <td>{labelsBilingual.pg4TabRow5}</td>\r\n                      <td></td>\r\n                    </tr>\r\n                    {output.percent2.length > 0 && (\r\n                      <tr>\r\n                        <td className=\"paddingleft25\">\r\n                          {labelsBilingual.pgTabRowMoreIncome}\r\n                        </td>\r\n                        <td className=\"textalignright\">\r\n                        {formatted(output.percentNeed1,lang)}\r\n                    \r\n                    {/*       {dollarEn}\r\n                          {formatMoney(\r\n                            output.percentNeed1,\r\n                            0,\r\n                            decimalChar,\r\n                            thousands\r\n                          )} */}\r\n                        </td>\r\n                      </tr>\r\n                    )}\r\n                    {output.percent2.length > 0 && (\r\n                      <tr>\r\n                        <td className=\"paddingleft25\">\r\n                          {thereAfterText}\r\n                        </td>\r\n                        <td className=\"textalignright\">\r\n                        {formatted(output.percentNeed2.reduce((a, b) => a + b, 0),lang)}\r\n                    \r\n                    {/*       {dollarEn}\r\n                          {formatMoney(\r\n                            output.percentNeed2.reduce((a, b) => a + b, 0),\r\n                            0,\r\n                            decimalChar,\r\n                            thousands\r\n                          )} */}\r\n                        </td>\r\n                      </tr>\r\n                    )}\r\n                    {output.percent2.length === 0 && (\r\n                      <tr>\r\n                        <td className=\"paddingleft25\">\r\n                        {thereAfterText}\r\n                        </td>\r\n                        <td className=\"textalignright\">\r\n                        {formatted(output.percentNeed1,lang)}\r\n                    \r\n                          {/* {dollarEn}\r\n                          {formatMoney(\r\n                            output.percentNeed1,\r\n                            0,\r\n                            decimalChar,\r\n                            thousands\r\n                          )} */}\r\n                        </td>\r\n                      </tr>\r\n                    )}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              <br />\r\n              <hr className=\"ppi1\" />\r\n              {logoBottom}\r\n              {/* PAGE 5 Family Cash Sourcess at Death*/}\r\n              {logoTop}\r\n              <h2 className=\"ppi1\">{singlePerson?labelsBilingual.pg5T_1:labelsBilingual.pg5T}</h2>\r\n              <div\r\n                style={{\r\n                  overflowX: \"auto\",\r\n                  overflowY: \"hidden\",\r\n                  width: \"100%\",\r\n                }}\r\n              >\r\n                <table className=\"tableTitle\" style={{ width: \"90%\"}}>\r\n                <tr ><td  style={{ width: \"50%\",border:\"none\" }}>{labelsBilingual.pg5TabT}</td>\r\n                  <td style={{ width: \"25%\",border:\"none\" }}>\r\n                    {labelsBilingual.pg5TabT2}\r\n                  </td>\r\n                  <td style={{ width: \"25%\",border:\"none\" }}>\r\n                    {labelsBilingual.pg5TabT3}\r\n                  </td></tr>\r\n                 </table>\r\n                \r\n               <table className=\"cashSources\">\r\n                  <tbody>\r\n                    {/* add gov db*/}\r\n                    <tr>\r\n                      <td style={{ height: \"1px\", width: \"50%\" }}>\r\n                        {labelsBilingual.pg5TabRow1}\r\n                      </td>\r\n                      <td\r\n                        className=\"textalignright\"\r\n                        style={{ height: \"1px\", width: \"25%\" }}\r\n                      >\r\n                        {formatted(output.govDB,lang)}\r\n                    \r\n                    {/*     {dollarEn}{formatMoney(output.govDB, 0, decimalChar, thousands)} */}\r\n                      </td>\r\n                      <td\r\n                        className=\"textalignright\"\r\n                        style={{ height: \"1px\", width: \"25%\" }}\r\n                      >\r\n                        {formatted(output.govDB,lang)}\r\n                    \r\n                    {/*     {dollarEn}{formatMoney(output.govDB, 0, decimalChar, thousands)} */}\r\n                      </td>\r\n                    </tr>\r\n                    {output.assets.map((item) => (\r\n                      <tr key={item.name}>\r\n                        <td style={{ height: \"1px\", width: \"50%\" }}>\r\n                          {item.name}\r\n                        </td>\r\n                        <td\r\n                          className=\"textalignright\"\r\n                          style={{ height: \"1px\", width: \"25%\" }}\r\n                        >\r\n                          {formatted(item.value,lang)}\r\n                    \r\n                    {/*       {dollarEn}{formatMoney(item.value, 0, decimalChar, thousands)} */}\r\n                        </td>\r\n                        <td\r\n                          className=\"textalignright\"\r\n                          style={{ height: \"1px\", width: \"25%\" }}\r\n                        >\r\n                          {item.disposeValue > 0\r\n                            ? \r\n                            formatted(item.disposeValue,lang)\r\n                              /* {dollarEn} +\r\n                              formatMoney(\r\n                                item.disposeValue,\r\n                                0,\r\n                                decimalChar,\r\n                                thousands\r\n                              ) */\r\n                            : \"\"}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                    <tr className=\"backgroundcolorDCE5F0\">\r\n                      <td>{labelsBilingual.pg5TabRow3}</td>\r\n                      {/* <td className=\"textalignright\">\r\n                    {dollarEn}{formatMoney(output.totalAsset, 0, decimalChar, thousands)}\r\n                  </td> */}\r\n                      <td className=\"textalignright\">\r\n                      {formatted(output.totalAsset,lang)}\r\n                    {/* \r\n                        {dollarEn}\r\n                        {formatMoney(\r\n                          output.totalAsset,\r\n                          0,\r\n                          decimalChar,\r\n                          thousands\r\n                        )} */}\r\n                      </td>\r\n                      <td className=\"textalignright\">\r\n                      {formatted(output.totalDisposeAsset,lang)}\r\n                    \r\n                    {/*     {dollarEn}\r\n                        {formatMoney(\r\n                          output.totalDisposeAsset,\r\n                          0,\r\n                          decimalChar,\r\n                          thousands\r\n                        )} */}\r\n                      </td>\r\n                    </tr>\r\n                    <tr className=\"backgroundcolorDCE5F0\">\r\n                      <td>{singlePerson?labelsBilingual.pg5TabRow4_1: labelsBilingual.pg5TabRow4}</td>\r\n                      <td></td>\r\n                      <td\r\n                        className=\"textalignright\"\r\n                        style={{ height: \"1px\", width: \"25%\" }}\r\n                      >\r\n                        {formatted(output.totalLiab,lang)}\r\n                    {/* \r\n                        {dollarEn}\r\n                        {formatMoney(\r\n                          output.totalLiab,\r\n                          0,\r\n                          decimalChar,\r\n                          thousands\r\n                        )} */}\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>{singlePerson?labelsBilingual.pg5TabRow5_1: labelsBilingual.pg5TabRow5}</td>\r\n                      <td> </td>\r\n                      <td className=\"textalignright\">\r\n                      {formatted(output.totalDisposeAsset - output.totalLiab,lang)}\r\n                    \r\n                    {/*     {dollarEn}\r\n                        {formatMoney(\r\n                          output.totalDisposeAsset - output.totalLiab,\r\n                          0,\r\n                          decimalChar,\r\n                          thousands\r\n                        )} */}\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              <hr className=\"ppi1\" />\r\n              {logoBottom}\r\n              {/* PAGE 6 Family Income Sources at Death*/}\r\n              {logoTop}\r\n              <br />\r\n              <h2 className=\"ppi1\">{singlePerson?labelsBilingual.pg6T_1: labelsBilingual.pg6T}</h2>\r\n              <div\r\n                style={{\r\n                  overflowX: \"auto\",\r\n                  overflowY: \"hidden\",\r\n                  width: \"100%\",\r\n                }}\r\n              >\r\n                {/* <div className=\"tableTitle\">{labelsBilingual.pg6TabT}</div> */}\r\n                <table className=\"tableTitle\" style={{ width: \"90%\"}}>\r\n                <tr ><td  style={{ width: \"51%\",border:\"none\" }}>{labelsBilingual.pg6TabT}</td>\r\n                  <td style={{ width: \"14%\",border:\"none\" }}>\r\n                    {labelsBilingual.pg5TabT2}\r\n                  </td>\r\n                  <td style={{ width: \"25%\",border:\"none\" }}>\r\n                    {labelsBilingual.pg5TabT3}\r\n                  </td></tr>\r\n                 </table>\r\n                \r\n           \r\n\r\n\r\n                <table className=\"incomeSources\">\r\n                  <tbody>\r\n                    {output.sources.map((item) => (\r\n                      <tr key={item.name}>\r\n                        <td style={{ width: \"51%\" }}>{item.name}</td>\r\n                        <td className=\"textalignright\"  style={{ width: \"14%\" }}>\r\n                        {formatted(item.value,lang)}\r\n                          </td>\r\n                        <td className=\"textalignright\"  style={{ width: \"25%\" }}>\r\n                        {formatted(item.valueAtDeath,lang)}\r\n                          </td>\r\n                      </tr>\r\n                    ))}\r\n                    <tr className=\"backgroundcolorFFFFFF\">\r\n                      <td colSpan =\"2\"></td>\r\n                      <td colSpan =\"2\"></td>\r\n                    </tr>\r\n                    <tr className=\"backgroundcolorFFFFFF\">\r\n                    <td colSpan =\"2\">{labelsBilingual.pg6TabRow1}</td>\r\n                    <td colSpan =\"2\"></td>\r\n                    </tr>\r\n                    {output.percent2.length > 0 && (\r\n                      <tr>\r\n                        <td colSpan =\"2\" className=\"paddingleft25\">\r\n                          {labelsBilingual.pg6TabRow2}\r\n                        </td>\r\n                        <td colSpan =\"2\" className=\"textalignright\">\r\n                          <span\r\n                            style={{ fontSize: \"10px\", marginRight: \"30px\" }}\r\n                          >\r\n                            ({labelsBilingual.pg6Net + \" \"}\r\n                            {formatMoney(\r\n                              //output.totalSourceATax,\r\n                              output.totalSourceATaxAtDeath,\r\n                              0,\r\n                              decimalChar,\r\n                              thousands\r\n                            )}\r\n                            )\r\n                          </span>\r\n                          {/* {formatted(output.totalSource,lang)} */}\r\n                          {formatted(output.totalSourceAtDeath,lang)}\r\n                    \r\n                    {/*       {dollarEn}\r\n                          {formatMoney(\r\n                            output.totalSource,\r\n                            0,\r\n                            decimalChar,\r\n                            thousands\r\n                          )} */}\r\n                        </td>\r\n                      </tr>\r\n                    )}\r\n                    {output.percent2.length > 0 && (\r\n                      <tr>\r\n                        <td colSpan =\"2\" className=\"paddingleft25\">\r\n                          {!singleFamily? (thereAfterText): (thereAfterTextSF)}\r\n                        </td>\r\n                        <td colSpan =\"2\" className=\"textalignright\">\r\n                          <span\r\n                            style={{ fontSize: \"10px\", marginRight: \"30px\" }}\r\n                          >\r\n                            ({labelsBilingual.pg6Net + \" \"}\r\n                            {formatMoney(\r\n                              //output.totalSource2ATax,\r\n                              output.totalSource2ATaxAtDeath,\r\n                              0,\r\n                              decimalChar,\r\n                              thousands\r\n                            )}\r\n                            )\r\n                          </span>\r\n                          {/* {formatted(output.totalSource2,lang)} */}\r\n                          {formatted(output.totalSource2AtDeath,lang)}\r\n                    \r\n                    {/*       {dollarEn}\r\n                          {formatMoney(\r\n                            output.totalSource2,\r\n                            0,\r\n                            decimalChar,\r\n                            thousands\r\n                          )} */}\r\n                        </td>\r\n                      </tr>\r\n                    )}\r\n                    {output.percent2.length === 0 && (\r\n                      <tr>\r\n                        <td colSpan =\"2\" className=\"paddingleft25\">\r\n                          {!singleFamily?(thereAfterText): (thereAfterTextSF)}\r\n                        </td>\r\n                        <td colSpan =\"2\" className=\"textalignright\">\r\n                        {/* {formatted(output.totalSource,lang)} */}\r\n                        {formatted(output.totalSourceAtDeath,lang)}\r\n                    \r\n                    {/*       {dollarEn}\r\n                          {formatMoney(\r\n                            output.totalSource,\r\n                            0,\r\n                            decimalChar,\r\n                            thousands\r\n                          )} */}\r\n                        </td>\r\n                      </tr>\r\n                    )}\r\n                    <tr className=\"backgroundcolorFFFFFF\">\r\n                    <td colSpan =\"2\"></td>\r\n                    <td colSpan =\"2\"></td>\r\n                    </tr>\r\n                    <tr className=\"backgroundcolorFFFFFF\">\r\n                    <td colSpan =\"2\">{labelsBilingual.pg6TabRow4}</td>\r\n                    <td colSpan =\"2\"></td>\r\n                    </tr>\r\n                    {output.percent2.length > 0 && (\r\n                      <tr>\r\n                        <td colSpan =\"2\" className=\"paddingleft25\">\r\n                          {labelsBilingual.pgTabRowMoreIncome}\r\n                        </td>\r\n\r\n\r\n                        <td colSpan =\"2\" className=\"textalignright\">\r\n                          <span\r\n                            style={{ fontSize: \"10px\", marginRight: \"20px\" }}\r\n                          >\r\n              \r\n\r\n                            ({\r\n                              formatMoney(output.percentNeed1, 0, decimalChar, thousands)\r\n                              } \r\n                              - \r\n                              {             \r\n                                formatMoney(output.totalSourceATaxAtDeath, 0, decimalChar, thousands)\r\n                              })\r\n                          </span>\r\n                          <strong>\r\n                          {formatted(Math.max(0, output.percentNeed1 - output.totalSourceATaxAtDeath),lang)}\r\n                          </strong>\r\n                        </td>\r\n                      </tr>\r\n                    )}\r\n                    {output.percent2.length > 0 && (\r\n                      <tr>\r\n                        <td colSpan =\"2\" className=\"paddingleft25\">\r\n                        {!singleFamily?(thereAfterText): (thereAfterTextSF)}\r\n                        </td>\r\n                        <td colSpan =\"2\" className=\"textalignrightbackgroundcolorDCE5F0\">\r\n  <span\r\n                            style={{ fontSize: \"10px\", marginRight: \"30px\" }}\r\n                          >\r\n              \r\n\r\n                            ({\r\n              formatMoney(output.percentNeed2.reduce((a, b) => a + b, 0), 0, decimalChar, thousands)\r\n            } \r\n            - \r\n            {             \r\n              /* formatMoney(output.totalSource2ATax, 0, decimalChar, thousands) */\r\n              formatMoney(output.totalSource2ATaxAtDeath, 0, decimalChar, thousands)\r\n            })\r\n\r\n</span>\r\n                          <strong>\r\n                          {/* {formatted(Math.max(0, output.percentNeed2.reduce((a, b) => a + b, 0) - output.totalSource2ATax),lang)} */}\r\n                          {formatted(Math.max(0, output.percentNeed2.reduce((a, b) => a + b, 0) - output.totalSource2ATaxAtDeath),lang)}\r\n                    \r\n                    {/*         {dollarEn}\r\n                            {formatMoney(\r\n                              Math.max(\r\n                                0,\r\n                                //output.percentNeed2.reduce((a, b) => a + b, 0) - output.totalSource2ATax\r\n                                output.totalDesiredGrossIncome2- output.totalSource2\r\n                              ),\r\n                              0,\r\n                              decimalChar,\r\n                              thousands\r\n                            )} */}\r\n                          </strong>\r\n                        </td>\r\n                      </tr>\r\n                    )}\r\n                    {output.percent2.length === 0 && (\r\n                      <tr>\r\n                        <td colSpan =\"2\" className=\"paddingleft25\">\r\n                          {!singleFamily?(thereAfterText): (thereAfterTextSF)}\r\n                        </td>\r\n                        <td colSpan =\"2\" className=\"textalignrightbackgroundcolorDCE5F0\">\r\n\r\n\r\n                       {/*  <td className=\"textalignright\"> */}\r\n                          <span\r\n                            style={{ fontSize: \"10px\", marginRight: \"30px\" }}\r\n                          >\r\n              \r\n\r\n                            ({\r\n                                formatMoney(output.percentNeed1, 0, decimalChar, thousands)\r\n                              } \r\n                              - \r\n                              {             \r\n                                /* formatMoney(output.totalSourceATax, 0, decimalChar, thousands) */\r\n                                formatMoney(output.totalSourceATaxAtDeath, 0, decimalChar, thousands)\r\n                              })\r\n                          </span>\r\n                          <strong>\r\n                          \r\n                          {formatted(Math.max(0, output.percentNeed1 - output.totalSourceATaxAtDeath),lang)}{/* output.totalDesiredGrossIncome - output.totalSource,lang)} */}\r\n                    \r\n                   \r\n                          </strong>\r\n                        </td>\r\n                      </tr>\r\n                    )}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              {/* PAGE 7 life i anal*/}\r\n              {/* <br />\r\n          <hr className=\"ppi1\" />\r\n          <h2 className=\"ppi1\">{labelsBilingual.pg7T}</h2>\r\n          <div\r\n            style={{ overflowX: \"auto\", overflowY: \"hidden\", width: \"100%\" }}\r\n          >\r\n            <div className=\"tableTitle\">{labelsBilingual.pg7TabT}</div>\r\n\r\n            <table className=\"incomePosition\">\r\n              <tbody>\r\n                <tr className=\"backgroundcolorFFFFFF\">\r\n                  <td style={{ width: \"70%\" }}> </td>\r\n                  <td> </td>\r\n                </tr>\r\n                <tr>\r\n                  <td className=\"backgroundcolorFFFFFF\">\r\n                    {labelsBilingual.pg7TabRow1}\r\n                  </td>\r\n                  <td className=\"backgroundcolorFFFFFF\"></td>\r\n                </tr>\r\n                {output.percent2 > 0 && (\r\n                  <tr>\r\n                    <td className=\"paddingleft25\">\r\n                      {labelsBilingual.pg7TabRow2}\r\n                    </td>\r\n                    <td className=\"textalignright\">\r\n                      {dollarEn}\r\n                      {formatMoney(\r\n                        Math.max(0, output.percentNeed1 - output.totalSource),\r\n                        0,\r\n                        decimalChar,\r\n                        thousands\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n                {output.percent2 > 0 && (\r\n                  <tr>\r\n                    <td className=\"paddingleft25\">\r\n                      {labelsBilingual.pgTabRowThereAfter}\r\n                    </td>\r\n                    <td className=\"textalignright\">\r\n                      {dollarEn}\r\n                      {formatMoney(\r\n                        Math.max(0, output.percentNeed2 - output.totalSource2),\r\n                        0,\r\n                        decimalChar,\r\n                        thousands\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n                {output.percent2 === 0 && (\r\n                  <tr>\r\n                    <td className=\"paddingleft25\">\r\n                      {labelsBilingual.pgTabRowThereAfter}\r\n                    </td>\r\n                    <td className=\"textalignright\">\r\n                      {dollarEn}\r\n                      {formatMoney(\r\n                        Math.max(0, output.percentNeed1 - output.totalSource),\r\n                        0,\r\n                        decimalChar,\r\n                        thousands\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n\r\n                <tr>\r\n                  <td className=\"paddingleft25\">\r\n                    {labelsBilingual.pg7TabRow4}\r\n                  </td>\r\n                  <td className=\"textalignright\">{output.infRate}%</td>\r\n                </tr>\r\n                <tr>\r\n                  <td className=\"paddingleft25\">\r\n                    {labelsBilingual.pg7TabRow5}\r\n                  </td>\r\n                  <td className=\"textalignright\">{output.invRate}%</td>\r\n                </tr>\r\n                <tr className=\"backgroundcolorFFFFFF\">\r\n                  <td> </td>\r\n                  <td> </td>\r\n                </tr>\r\n                <tr>\r\n                  <td className=\"backgroundcolorFFFFFF\">\r\n                    {labelsBilingual.pg7TabRow6}\r\n                  </td>\r\n                  <td className=\"backgroundcolorFFFFFF\"> </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>\r\n                    <strong></strong>\r\n                    {labelsBilingual.pg7TabRow7} {this.props.LE})\r\n                  </td>\r\n                  <td className=\"textalignright\">\r\n                    {dollarEn}\r\n                    {formatMoney(\r\n                      Math.max(\r\n                        0,\r\n                        output.insNeedLE + output.totalAsset - output.totalLiab\r\n                      ),\r\n                      0,\r\n                      decimalChar,\r\n                      thousands\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>\r\n                    <strong></strong>\r\n                    {labelsBilingual.pg7TabRow8}\r\n                  </td>\r\n                  <td className=\"textalignright\">\r\n                    {dollarEn}\r\n                    {formatMoney(\r\n                      Math.max(\r\n                        0,\r\n                        output.insNeedRet + output.totalAsset - output.totalLiab\r\n                      ),\r\n                      0,\r\n                      decimalChar,\r\n                      thousands\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n                {output.hasChild && output.ygChild < maxDur && (\r\n                  <tr>\r\n                    <td>\r\n                      <strong></strong>\r\n                      {labelsBilingual.pg7TabRow9}\r\n                    </td>\r\n                    <td className=\"textalignright\">\r\n                      {dollarEn}\r\n                      {formatMoney(\r\n                        Math.max(\r\n                          0,\r\n                          output.insNeedYgChild25 +\r\n                            output.totalAsset -\r\n                            output.totalLiab\r\n                        ),\r\n                        0,\r\n                        decimalChar,\r\n                        thousands\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n                {output.hasChild && output.ygChild < orphAge && (\r\n                  <tr>\r\n                    <td>\r\n                      <strong></strong>\r\n                      {labelsBilingual.pg7TabRow10}\r\n                    </td>\r\n                    <td className=\"textalignright\">\r\n                      {dollarEn}\r\n                      {formatMoney(\r\n                        Math.max(\r\n                          0,\r\n                          output.insNeedYgChild18 +\r\n                            output.totalAsset -\r\n                            output.totalLiab\r\n                        ),\r\n                        0,\r\n                        decimalChar,\r\n                        thousands\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div> */}\r\n              {/* PAGE 7 chart*/}\r\n              {/* <div style={{ color: \"darkBlue\", marginTop: \"55px\" }}>\r\n            <br />\r\n            <div style={{ marginLeft: \"20px\", width: \"90%\" }}>\r\n              <div style={{ width: \"75%\" }}>\r\n                <article\r\n                  id=\"bar1\"\r\n                  className=\"canvas-container\"\r\n                  style={{ height: \"200px\" }}\r\n                >\r\n                  <Bar data={dataInsurance} options={options} />\r\n                </article>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <br />\r\n          <br /> */}\r\n              <hr className=\"ppi1\" />\r\n              {logoBottom}\r\n              {/* PAGE 8 life i anal 2*/}\r\n              {logoTop}\r\n              <br />\r\n              <h2 className=\"ppi1\"> {labelsBilingual.pg8T}</h2>\r\n              <div className=\"tableTitle\">{singlePerson?  labelsBilingual.pg8TabT_1:labelsBilingual.pg8TabT}</div>\r\n              <div\r\n                style={{\r\n                  overflowX: \"auto\",\r\n                  overflowY: \"hidden\",\r\n                  width: \"100%\",\r\n                }}\r\n              >\r\n                <table className=\"incomePosition\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <td width=\"70%\">{labelsBilingual.pg8TabRow1}</td>\r\n                      <td className=\"textalignright\" width=\"30%\">\r\n                      {formatted(output.totalDisposeAsset - output.totalLiab,lang)}\r\n                    \r\n                    {/*     {dollarEn}\r\n                        {formatMoney(\r\n                          output.totalDisposeAsset - output.totalLiab,\r\n                          0,\r\n                          decimalChar,\r\n                          thousands\r\n                        )} */}\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td className=\"backgroundcolorFFFFFF\">\r\n                        <br />\r\n                        {labelsBilingual.pg8TabRow2}\r\n                      </td>\r\n                      <td className=\"backgroundcolorFFFFFF\"></td>\r\n                    </tr>\r\n                    {!singleFamily &&\r\n      \r\n                      <tr>\r\n                      <td>\r\n                        <strong></strong>\r\n                        {labelsBilingual.pg8TabRow3}\r\n                        {this.props.LE})\r\n                      </td>\r\n                      <td className=\"textalignright\">\r\n                        {/* {dollarEn+this.props.insuranceNeedLE+dollarFr} */}\r\n                        {formatted(this.props.insuranceNeedLE,lang)}\r\n                      </td>\r\n                    </tr>}\r\n                    <tr>\r\n                      <td>\r\n                        <strong></strong>\r\n                        {singleFamily || singlePerson? labelsBilingual.pg8TabRow4Alt.replace(\"B.\",\"A.\"): labelsBilingual.pg8TabRow4}\r\n                      </td>\r\n                      <td className=\"textalignright\">\r\n                        {/* {dollarEn+this.props.insuranceNeedRet+dollarFr} */}\r\n                        {formatted(this.props.insuranceNeedRet,lang)}\r\n                      </td>\r\n                    </tr>\r\n                    {output.hasChild && output.ygChild < maxDur && (\r\n                      <tr>\r\n                        <td>\r\n                          <strong></strong>\r\n                          {singleFamily? labelsBilingual.pg8TabRow5.replace(\"C.\",\"B.\").replace(\"25\",output.youngestChildEndAge):labelsBilingual.pg8TabRow5.replace(\"25\",output.youngestChildEndAge)}\r\n                        </td>\r\n                        <td className=\"textalignright\">\r\n                        {formatted(output.insNeedYgChild25,lang)}\r\n                    \r\n                    {/*       {dollarEn}\r\n                          {formatMoney(\r\n                            output.insNeedYgChild25,\r\n                            0,\r\n                            decimalChar,\r\n                            thousands\r\n                          )} */}\r\n                        </td>\r\n                      </tr>\r\n                    )}\r\n                    {output.hasChild && output.ygChild < orphAge && (\r\n                      <tr>\r\n                        <td>\r\n                          <strong></strong>\r\n                          {singleFamily? labelsBilingual.pg8TabRow6.replace(\"D.\",\"C.\"):labelsBilingual.pg8TabRow6}\r\n                        </td>\r\n                        <td className=\"textalignright\">\r\n                        {formatted(output.insNeedYgChild18,lang)}\r\n                    \r\n                    {/*       {dollarEn}\r\n                          {formatMoney(\r\n                            output.insNeedYgChild18,\r\n                            0,\r\n                            decimalChar,\r\n                            thousands\r\n                          )} */}\r\n                        </td>\r\n                      </tr>\r\n                    )}\r\n                    <tr></tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              {/* PAGE 8 chart*/}\r\n              <div style={{ color: \"darkBlue\", marginTop: \"55px\" }}>\r\n                <br />\r\n                <div style={{ marginLeft: \"20px\", width: \"90%\" }}>\r\n                  <div style={{ width: \"75%\" }}>\r\n                    <article\r\n                      id=\"bar2\"\r\n                      className=\"canvas-container\"\r\n                      style={{ height: \"200px\" }}\r\n                    >\r\n                      <Bar data={dataInsurance2} options={options} />\r\n                    </article>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <br />\r\n              <br />\r\n              {/* PAGE 9 notes*/}\r\n              {/*  <hr className=\"ppi1\" />\r\n             {allPages && (\r\n              <AdjustibleImage\r\n                image={this.props.dataInput.Presentations[0].adviserLogo.image}\r\n                showDetails={false}\r\n                size={this.props.dataInput.Presentations[0].adviserLogo.size}\r\n                imageLeft={\r\n                  this.props.dataInput.Presentations[0].adviserLogo.left\r\n                }\r\n                allPages={\r\n                  this.props.dataInput.Presentations[0].adviserLogo.allPages\r\n                }\r\n                imageRemove={this.props.imageRemove}\r\n                imageAdjust={this.props.imageAdjust}\r\n                \r\n              />\r\n            )}\r\n            <br />\r\n            <img className=\"ppi2\" src=\"img/desktop/picture1.png\" width=\"400\" alt=\"Capital Requirements Chart\" />\r\n            <br /> <br /> \r\n            {logoTop}\r\n              <br />\r\n              <br /> <br />\r\n            <h2 className=\"ppi1\">{labelsBilingual.pg9T}</h2>\r\n            <p className=\"ppi1\">{labelsBilingual.pg9P1}</p>\r\n            <br /> */}\r\n\r\n\r\n              {logoBottom}\r\n              {/* PAGE 9 Notes*/}\r\n              {logoTop}\r\n              <br />\r\n              <br /> <br />\r\n              <h2 className=\"ppi1\">{labelsBilingual.pg9T}</h2>\r\n              <p className=\"ppi1\">{labelsBilingual.pg9P1}</p>\r\n              <br /> <br />\r\n              <br />\r\n              <br />\r\n              <br />\r\n\r\n\r\n              {logoBottom}\r\n              {/* PAGE 10 ackno*/}\r\n              {logoTop}\r\n              <br />\r\n              <br /> <br />\r\n              <h2 className=\"ppi1\">{labelsBilingual.pg10T}</h2>\r\n              <p className=\"ppi1\">{labelsBilingual.pg10P1}</p>\r\n              <br /> <br />\r\n              <br />\r\n              <br />\r\n              <br />\r\n              <p className=\"ppi1\">\r\n                {labelsBilingual.pg10TabRow1}\r\n                <br />\r\n                <span style={{ paddingLeft: \"118px\" }}>\r\n                  {labelsBilingual.pg10TabRow11}\r\n                </span>\r\n              </p>\r\n              <br />\r\n              <br />\r\n              <p className=\"ppi1\">\r\n                {labelsBilingual.pg10TabRow2}\r\n                <br />\r\n                <span style={{ paddingLeft: \"118px\" }}>\r\n                  {labelsBilingual.pg10TabRow11}\r\n                </span>\r\n              </p>\r\n              <br />\r\n              <br />\r\n              <p className=\"ppi1\">\r\n                {labelsBilingual.pg10TabRow3}\r\n                <br />\r\n                <span style={{ paddingLeft: \"110px\" }}>\r\n                  {labelsBilingual.pg10TabRow11}\r\n                </span>\r\n              </p>\r\n              <br />\r\n              <hr className=\"ppi1\" />\r\n              {logoBottom}\r\n            </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// Imports\r\nimport React, { Component } from \"react\";\r\nimport jsPDF from \"jspdf\";\r\n\r\n// Constants\r\nconst PORTRAIT = \"portrait\";\r\nconst PT = \"pt\";\r\nconst LETTER = \"letter\";\r\n\r\nconst PNG = \"png\";\r\n\r\nexport const HELVETICA = \"Helvetica\";\r\nexport const TIMES = \"Times\";\r\n\r\nexport const NORMAL = \"normal\";\r\nexport const BOLD = \"bold\";\r\nexport const ITALIC = \"italic\";\r\n\r\nexport const HEADER_RECT_IN_X: number = 1;\r\nexport const HEADER_RECT_IN_Y: number = 0.48;\r\nexport const HEADER_RECT_IN_W: number = 6.4;\r\nexport const HEADER_RECT_IN_H: number = 0.45;\r\nexport const HEADER_RECT_R: number = 148;\r\nexport const HEADER_RECT_G: number = 148;\r\nexport const HEADER_RECT_B: number = 148;\r\n\r\nexport const HEADER_TEXT_PT_SIZE: number = 10;\r\nexport const HEADER_TEXT_IN_X: number = 1;\r\nexport const HEADER_TEXT_IN_Y: number = 0.75;\r\nexport const HEADER_TEXT_IN_W: number = 6;\r\nexport const HEADER_TEXT_R: number = 0xff;\r\nexport const HEADER_TEXT_G: number = 0xff;\r\nexport const HEADER_TEXT_B: number = 0xff;\r\n\r\nexport const FOOTER_TEXT_PT_SIZE: number = 8;\r\nexport const FOOTER_TEXT_IN_X: number = 1.5;\r\nexport const FOOTER_TEXT_IN_Y: number = 11 - 3 * 0.125;\r\nexport const FOOTER_TEXT_IN_Y_L: number = 8 - 3 * 0.125;\r\n\r\nexport const TEXT_R: number = 0x45;\r\nexport const TEXT_G: number = 0x55;\r\nexport const TEXT_B: number = 0x60;\r\n\r\nexport const MAX_LOGO_HEIGHT = 0.38;\r\n// Functions\r\nexport const InToPt = (in_) => {\r\n  return in_ * 25;\r\n};\r\n\r\nexport const PxToPt = (px) => {\r\n  return (px / 96) * 72;\r\n};\r\n\r\nconst fontName = HELVETICA;\r\nconst fontStyle = NORMAL;\r\nconst fontSize = 16;\r\n\r\nconst textRed = 0x00;\r\nconst textGreen = 0x00;\r\nconst textBlue = 0x00;\r\n\r\nconst fillRed = 0xff;\r\nconst fillGreen = 0xff;\r\nconst fillBlue = 0xff;\r\n\r\nconst showGrids = true;\r\n\r\nconst PAGE_WIDTH = 8.4;\r\nexport const PAGE_HEIGHT = 11;\r\nconst PAGE_USED_AREA_LEFT = 1.2;\r\nconst PAGE_USED_AREA_RIGHT = 7.24;\r\n\r\n// Classes\r\nexport class PDF extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n    this.pdf = new jsPDF();\r\n  }\r\n\r\n  AddImage = (imageID, x, y, w, h) => {\r\n    if (this.pdf === null) return;\r\n    const imgData = document.getElementById(imageID);\r\n    const imgProps = this.pdf.getImageProperties(imgData);\r\n    const pdfHeight = (imgProps.height * w) / imgProps.width;\r\n    if (pdfHeight > h) {\r\n      w = (imgProps.width * h) / imgProps.height;\r\n    } else h = pdfHeight;\r\n    this.pdf.addImage(document.getElementById(imageID), PNG, x, y, w, h);\r\n  };\r\n\r\n  AddImageFitWidthOnly = (imageID, x, y, w, maxHeight) => {\r\n    if (this.pdf === null) return;\r\n    let imgData = document.getElementById(imageID);\r\n\r\n    if (imgData !== null) {\r\n      try {\r\n        const imgProps = this.pdf.getImageProperties(imgData);\r\n\r\n        //const pdfWidth = this.pdf.internal.pageSize.getWidth();\r\n        let pdfHeight = (imgProps.height * w) / imgProps.width;\r\n\r\n        if (pdfHeight > maxHeight) {\r\n          if (x + w > (3 * InToPt(PAGE_WIDTH)) / 4)\r\n            x += w - (w * maxHeight) / pdfHeight;\r\n          else if (x + (w * maxHeight) / pdfHeight / 2 > InToPt(PAGE_WIDTH) / 4)\r\n            x += w / 2 - (w * maxHeight) / pdfHeight / 2;\r\n\r\n          /*  else if(x+w/2>InToPt(PAGE_WIDTH/4))\r\n          x-=(w-w*maxHeight / pdfHeight)/2 */\r\n\r\n          w *= maxHeight / pdfHeight;\r\n          pdfHeight = maxHeight;\r\n        }\r\n        this.pdf.addImage(imgData, PNG, x, y, w, pdfHeight);\r\n        return true;\r\n      } catch (error) {\r\n        return false;\r\n      }\r\n    }\r\n  };\r\n\r\n  addCustomImage = (id, pg1TitleY, image, firstPage, top) => {\r\n     const left =\r\n      image === null || image === undefined\r\n        ? 0\r\n        : (image.left * HEADER_RECT_IN_W) / 100;\r\n    const result = this.AddImageFitWidthOnly(\r\n      id,\r\n      InToPt(pg1TitleY - 3 + left), //1.51),\r\n      InToPt(\r\n        firstPage\r\n          ? top\r\n            ? 1.06\r\n            : FOOTER_TEXT_IN_Y + 0.25\r\n          : top\r\n          ? 0.29\r\n          : FOOTER_TEXT_IN_Y + 0.25\r\n      ),\r\n      InToPt((6.04 * image.size) / 100),\r\n      InToPt(firstPage ? (top ? 2.76 : MAX_LOGO_HEIGHT) : MAX_LOGO_HEIGHT) // max height\r\n    );\r\n    return result;\r\n  };\r\n\r\n  AddChart = (containerID, x, y, w, h) => {\r\n    if (this.pdf === null) return;\r\n\r\n    const CANVAS_CLASS_NAME = \"chartjs-render-monitor\";\r\n\r\n    let containerElement = document.getElementById(containerID);\r\n    let canvasElement = null;\r\n\r\n    if (containerElement !== null)\r\n      if (\r\n        containerElement.getElementsByClassName(CANVAS_CLASS_NAME).length === 1\r\n      )\r\n        canvasElement = containerElement.getElementsByClassName(\r\n          CANVAS_CLASS_NAME\r\n        )[0];\r\n\r\n    let dataUrl = canvasElement.toDataURL();\r\n\r\n    if (dataUrl !== null) this.pdf.addImage(dataUrl, \"JPEG\", x, y, w, h);\r\n  };\r\n\r\n  AddCanvas = (canvasID, x, y, w, h) => {\r\n    if (this.pdf === null) return;\r\n\r\n    let canvasElement = null;\r\n    let dataUrl = null;\r\n\r\n    canvasElement = document.getElementById(canvasID);\r\n\r\n    if (canvasElement !== null) dataUrl = canvasElement.toDataURL();\r\n\r\n    if (dataUrl !== null) this.pdf.addImage(dataUrl, \"JPEG\", x, y, w, h);\r\n  };\r\n\r\n  AddPage = (mode) => {\r\n    if (this.pdf === null) return;\r\n\r\n    this.pdf.addPage(\"\", mode);\r\n  };\r\n\r\n  Create = () => {\r\n    if (this.pdf !== null) return;\r\n\r\n    this.pdf = new jsPDF({\r\n      orientation: PORTRAIT,\r\n      unit: PT,\r\n      format: LETTER,\r\n    });\r\n  };\r\n\r\n  ShowGrids = () => {\r\n    return this.showGrids;\r\n  };\r\n\r\n  ShowGrids = (showGrids) => {\r\n    this.showGrids = showGrids;\r\n  };\r\n\r\n  Grid = () => {\r\n    if (this.pdf === null) return;\r\n\r\n    if (this.showGrids === false) return;\r\n\r\n    const FONT_SIZE = 12;\r\n    const LARGE_FONT_SIZE = 16;\r\n\r\n    this.pdf.setFontSize(12);\r\n    this.pdf.setFont(HELVETICA, NORMAL);\r\n    this.pdf.setTextColor(0x00, 0x88, 0x00);\r\n\r\n    let x;\r\n    let y;\r\n\r\n    this.pdf.text(\"0\", 0, FONT_SIZE);\r\n\r\n    for (x = 1; x <= 8; x++) this.pdf.text(\"\" + x, InToPt(x), FONT_SIZE);\r\n\r\n    for (y = 1; y <= 11; y++) this.pdf.text(\"\" + y, 0, InToPt(y));\r\n\r\n    for (x = 0.25; x <= 8.5; x += 0.25)\r\n      for (y = 0.25; y <= 11; y += 0.25)\r\n        this.pdf.text(\".\", InToPt(x), InToPt(y));\r\n\r\n    this.pdf.setFont(HELVETICA, BOLD);\r\n    this.pdf.setFontSize(LARGE_FONT_SIZE);\r\n    for (x = 1; x <= 8; x += 1)\r\n      for (y = 1; y <= 11; y += 1) this.pdf.text(\".\", InToPt(x), InToPt(y));\r\n\r\n    if (this.fontSize !== null) this.pdf.setFontSize(this.fontSize);\r\n\r\n    if (\r\n      this.textRed !== null &&\r\n      this.textGreen !== null &&\r\n      this.textBlue !== null\r\n    )\r\n      this.pdf.setTextColor(this.textRed, this.textGreen, this.textBlue);\r\n\r\n    if (this.fontName !== null && this.fontStyle !== null)\r\n      this.pdf.setFont(this.fontName, this.fontStyle);\r\n  };\r\n\r\n  MultilineText = (text, x, y, w) => {\r\n    if (this.pdf === null) return;\r\n\r\n    let textLines = [];\r\n\r\n    textLines = this.pdf.splitTextToSize(text, w, {\r\n      fontName: this.fontName,\r\n      fontSize: this.fontSize,\r\n    });\r\n\r\n    this.pdf.text(textLines, x, y);\r\n  };\r\n\r\n  DrawLine = (x, y, w) => {\r\n    this.pdf.line(x, y, x + w, y);\r\n  };\r\n\r\n  Reset = () => {\r\n    this.pdf = null;\r\n  };\r\n\r\n  SetFont = (fontName, fontStyle) => {\r\n    if (this.pdf === null) return;\r\n\r\n    this.pdf.setFont(fontName, fontStyle);\r\n\r\n    this.fontName = fontName;\r\n    this.fontStyle = fontStyle;\r\n  };\r\n\r\n  SetFontSize = (fontSize) => {\r\n    if (this.pdf === null) return;\r\n\r\n    this.pdf.setFontSize(fontSize);\r\n\r\n    this.fontSize = fontSize;\r\n  };\r\n\r\n  Save = (fileName) => {\r\n    if (this.pdf === null) return;\r\n\r\n    this.pdf.save(fileName);\r\n  };\r\n\r\n  SetTextColor = (red, green, blue) => {\r\n    if (this.pdf === null) return;\r\n\r\n    this.pdf.setTextColor(red, green, blue);\r\n\r\n    this.textRed = red;\r\n    this.textGreen = green;\r\n    this.textBlue = blue;\r\n  };\r\n\r\n  SetFillColor = (red, green, blue) => {\r\n    if (this.pdf === null) return;\r\n\r\n    this.pdf.setFillColor(red, green, blue);\r\n\r\n    this.fillRed = red;\r\n    this.fillGreen = green;\r\n    this.fillBlue = blue;\r\n  };\r\n\r\n  showOnPage = () => {\r\n    //this.pdf.output('datauri');\r\n    //window.open(this.pdf.output('bloburl'))\r\n    //this.pdf.output('dataurlnewwindow');\r\n    //return this.pdf.output('datauri')\r\n    var blob = this.pdf.output(\"bloburl\");\r\n    return blob;\r\n  };\r\n  Rectangle = (x, y, w, h) => {\r\n    if (this.pdf === null) return;\r\n\r\n    this.pdf.roundedRect(x, y, w, h, 0, 0, \"F\");\r\n  };\r\n\r\n  textWidth = (text) => {\r\n    var arrayText = text.split(\" \");\r\n    let minWidth = 0;\r\n    //console.log(arrayText)\r\n    for (let i = 0; i < arrayText.length; i++) {\r\n      minWidth = Math.max(minWidth, this.pdf.getTextWidth(arrayText[i]));\r\n    }\r\n    return minWidth / 25; // pt to int\r\n  };\r\n  textWidthMultiLine = (text, width) => {\r\n    let arrayText = this.pdf.splitTextToSize(text, InToPt(width));\r\n    let minWidth = 0;\r\n    for (let i = 0; i < arrayText.length; i++) {\r\n      minWidth = Math.max(minWidth, this.pdf.getTextWidth(arrayText[i]));\r\n    }\r\n    return minWidth / 25; // pt to int\r\n  };\r\n\r\n  adjustTextWidth = (arrayText) => {\r\n    let minWidth = 0;\r\n    for (let i = 0; i < arrayText.length; i++) {\r\n      minWidth = Math.max(minWidth, this.pdf.getTextWidth(arrayText[i]));\r\n    }\r\n    return minWidth / 25; // pt to int\r\n  };\r\n\r\n  tableRow = (\r\n    fill,\r\n    textColor,\r\n    x,\r\n    y,\r\n    values,\r\n    height,\r\n    Widths,\r\n    box,\r\n    align,\r\n    title\r\n  ) => {\r\n    const lines2Fac = 1.75;\r\n    const lines3Fac = 2.7;\r\n    const cols = values.length;\r\n    let textY = y + height / 2 + 0.05;\r\n    // wrap if needed\r\n    let h = height;\r\n    for (i = 1; i <= cols; i++) {\r\n      if (\r\n        this.pdf.getTextWidth(values[i - 1]) > 2 * InToPt(Widths[i - 1]) &&\r\n        h < parseFloat(lines3Fac * height)\r\n      ) {\r\n        //console.log(values[i - 1],this.pdf.getTextWidth(values[i - 1]),.8*InToPt(Widths[i - 1]))\r\n        h = lines3Fac * height;\r\n        textY = y + height / 2 + 0.07;\r\n      } else if (\r\n        this.pdf.getTextWidth(values[i - 1]) > InToPt(Widths[i - 1]) &&\r\n        h < parseFloat(lines2Fac * height)\r\n      ) {\r\n        //console.log(values[i - 1],this.pdf.getTextWidth(values[i - 1]),.8*InToPt(Widths[i - 1]))\r\n        h = lines2Fac * height;\r\n        textY = y + height / 2 + 0.07;\r\n      }\r\n      let textOut;\r\n      if (h > height) {\r\n        textOut = this.pdf.splitTextToSize(\r\n          values[i - 1],\r\n          InToPt(Widths[i - 1] - 0.1)\r\n        );\r\n        // adjust width if necessary\r\n        //console.log(textOut,h,height)\r\n        if (title === true) {\r\n          if (textOut.length > 2 && h < parseFloat(lines3Fac * height))\r\n            h = lines3Fac * height;\r\n          else if (textOut.length > 1 && h < parseFloat(lines2Fac * height))\r\n            h = lines2Fac * height;\r\n          textY = y + height / 2 + 0.07;\r\n          // console.log(textOut,h,height)\r\n        }\r\n      }\r\n    }\r\n    this.SetTextColor(textColor[0], textColor[1], textColor[2]);\r\n    //this.SetFontSize(12);\r\n    var i;\r\n    let rightAlign;\r\n    let xi = x;\r\n    for (i = 1; i <= cols; i++) {\r\n      // wrap if needed\r\n      let textOut;\r\n      if (h > height) {\r\n        textOut = this.pdf.splitTextToSize(\r\n          values[i - 1],\r\n          InToPt(Widths[i - 1] - 0.1)\r\n        );\r\n      } else {\r\n        textOut = values[i - 1];\r\n        if (align !== undefined) {\r\n          if (align[i - 1] !== undefined) {\r\n            if (align[i - 1] === 2) rightAlign = true;\r\n          }\r\n        }\r\n      }\r\n      this.SetFillColor(fill[0], fill[1], fill[2]);\r\n      this.Rectangle(\r\n        InToPt(xi),\r\n        InToPt(y),\r\n        InToPt(Widths[i - 1] + 0.1),\r\n        InToPt(h)\r\n      );\r\n      if (box) {\r\n        this.pdf.setDrawColor(155, 155, 155);\r\n        this.pdf.rect(\r\n          InToPt(xi),\r\n          InToPt(y),\r\n          InToPt(Widths[i - 1] + 0.1),\r\n          InToPt(h)\r\n        );\r\n      }\r\n      if (rightAlign)\r\n        this.RightText(\r\n          values[i - 1],\r\n          InToPt(xi - 0.05),\r\n          InToPt(textY),\r\n          InToPt(Widths[i - 1])\r\n        );\r\n      else this.pdf.text(textOut, InToPt(xi + 0.1), InToPt(textY));\r\n\r\n      //  this.MultilineText(values[i - 1], InToPt(xi + .1), InToPt(y + .25), InToPt(3));\r\n      xi += Widths[i - 1];\r\n    }\r\n    //pdf.SetFillColor(fill[0], fill[1], fill[2]);\r\n    //pdf.Rectangle(InToPt(x), InToPt(y), InToPt(w), InToPt(height));\r\n    //pdf.Text(\"Family Profile\", InToPt(x[0] + .1), InToPt(y + .25));\r\n    //pdf.SetFillColor(115, 153, 198);\r\n    //pdf.Rectangle(InToPt(x[1]), InToPt(y), InToPt(w), InToPt(0.4));\r\n    //pdf.Text(\"Income\", InToPt(x[1] + .1), InToPt(y + .25));\r\n    //pdf.SetFillColor(115, 153, 198);\r\n    //pdf.Rectangle(InToPt(x[2]), InToPt(y), InToPt(w), InToPt(0.4));\r\n    //pdf.Text(\"Retirement Age\", InToPt(x[2] + .1), InToPt(y + .25));\r\n\r\n    return h - height; // excess height from here\r\n  };\r\n\r\n  Text = (text, x, y) => {\r\n    if (this.pdf === null) return;\r\n\r\n    this.pdf.text(text, x, y);\r\n  };\r\n\r\n  CenterText = (text, x, y, w) => {\r\n    if (this.pdf === null) return;\r\n\r\n    let tw = this.pdf.getTextWidth(text);\r\n\r\n    this.pdf.text(text, x + (w - tw) / 2, y);\r\n  };\r\n\r\n  RightText = (text, x, y, w) => {\r\n    if (this.pdf === null) return;\r\n\r\n    let tw = this.pdf.getTextWidth(text);\r\n\r\n    this.pdf.text(text, x + (w - tw) + 0.1, y);\r\n  };\r\n\r\n  Header = (textH, headerOffset) => {\r\n    if (headerOffset === undefined) headerOffset = 0;\r\n    this.SetFillColor(HEADER_RECT_R, HEADER_RECT_G, HEADER_RECT_B);\r\n\r\n    this.Rectangle(\r\n      InToPt(HEADER_RECT_IN_X),\r\n      InToPt(HEADER_RECT_IN_Y + headerOffset),\r\n      InToPt(HEADER_RECT_IN_W),\r\n      InToPt(HEADER_RECT_IN_H)\r\n    );\r\n\r\n    this.SetTextColor(HEADER_TEXT_R, HEADER_TEXT_G, HEADER_TEXT_B);\r\n    this.SetFont(HELVETICA, NORMAL);\r\n    this.SetFontSize(HEADER_TEXT_PT_SIZE);\r\n    this.CenterText(\r\n      textH,\r\n      InToPt(HEADER_TEXT_IN_X),\r\n      InToPt(HEADER_TEXT_IN_Y + headerOffset),\r\n      InToPt(HEADER_TEXT_IN_W)\r\n    );\r\n  };\r\n\r\n  addFooterAndHeader = (headerOffset, footerText, headerText) => {\r\n    this.Footer(footerText);\r\n    this.AddPage();\r\n    this.Header(headerText, headerOffset);\r\n  };\r\n\r\n  Footer = (textF) => {\r\n    this.SetTextColor(TEXT_R, TEXT_G, TEXT_B);\r\n    this.SetFont(TIMES, NORMAL);\r\n    this.SetFontSize(FOOTER_TEXT_PT_SIZE);\r\n    this.Text(textF, InToPt(FOOTER_TEXT_IN_X), InToPt(FOOTER_TEXT_IN_Y));\r\n  };\r\n\r\n  FooterLandscape = (textF) => {\r\n    this.SetTextColor(TEXT_R, TEXT_G, TEXT_B);\r\n    this.SetFont(TIMES, NORMAL);\r\n    this.SetFontSize(FOOTER_TEXT_PT_SIZE);\r\n    this.Text(textF, InToPt(FOOTER_TEXT_IN_X), InToPt(FOOTER_TEXT_IN_Y_L));\r\n  };\r\n\r\n  drawRect(paraLeft, paraY, paraWidth, height, color) {\r\n    this.SetFillColor(color[0], color[1], color[2]);\r\n    this.pdf.rect(\r\n      InToPt(paraLeft),\r\n      InToPt(paraY),\r\n      InToPt(paraWidth),\r\n      InToPt(height),\r\n      \"F\"\r\n    );\r\n  }\r\n\r\n  addFooter = (footer, title) => {\r\n    this.Footer(footer);\r\n    this.AddPage();\r\n    this.Header(title);\r\n  };\r\n\r\n  addHeaderNoFooter = (headerOffset, headerText) => {\r\n    this.AddPage();\r\n    this.Header(headerText, headerOffset);\r\n  };\r\n\r\n  tableRowSingle = (\r\n    fill,\r\n    textColor,\r\n    x,\r\n    y,\r\n    values2,\r\n    height,\r\n    Widths,\r\n    coloured\r\n  ) => {\r\n    const values = [values2];\r\n\r\n    if (coloured)\r\n      // has colour\r\n      this.tableRow(fill, textColor, x, y + 0.1, values, height - 0.1, [1.2]);\r\n    else this.tableRow(fill, textColor, x, y, values, height, Widths);\r\n  };\r\n\r\n}"],"sourceRoot":""}