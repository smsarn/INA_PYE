(this.webpackJsonptoolkitdirect=this.webpackJsonptoolkitdirect||[]).push([[0],{1:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return i})),a.d(t,"Q",(function(){return s})),a.d(t,"F",(function(){return o})),a.d(t,"rb",(function(){return l})),a.d(t,"tb",(function(){return u})),a.d(t,"sb",(function(){return p})),a.d(t,"W",(function(){return c})),a.d(t,"ob",(function(){return d})),a.d(t,"Z",(function(){return g})),a.d(t,"ab",(function(){return h})),a.d(t,"bb",(function(){return b})),a.d(t,"cb",(function(){return m})),a.d(t,"p",(function(){return f})),a.d(t,"e",(function(){return y})),a.d(t,"k",(function(){return E})),a.d(t,"j",(function(){return v})),a.d(t,"d",(function(){return T})),a.d(t,"g",(function(){return A})),a.d(t,"m",(function(){return O})),a.d(t,"f",(function(){return I})),a.d(t,"h",(function(){return C})),a.d(t,"o",(function(){return S})),a.d(t,"l",(function(){return N})),a.d(t,"n",(function(){return R})),a.d(t,"i",(function(){return x})),a.d(t,"U",(function(){return j})),a.d(t,"A",(function(){return w})),a.d(t,"v",(function(){return D})),a.d(t,"w",(function(){return P})),a.d(t,"H",(function(){return L})),a.d(t,"K",(function(){return F})),a.d(t,"z",(function(){return K})),a.d(t,"I",(function(){return B})),a.d(t,"x",(function(){return k})),a.d(t,"J",(function(){return _})),a.d(t,"y",(function(){return V})),a.d(t,"B",(function(){return M})),a.d(t,"C",(function(){return U})),a.d(t,"D",(function(){return G})),a.d(t,"E",(function(){return q})),a.d(t,"G",(function(){return Y})),a.d(t,"S",(function(){return H})),a.d(t,"O",(function(){return z})),a.d(t,"M",(function(){return Q})),a.d(t,"P",(function(){return J})),a.d(t,"mb",(function(){return X})),a.d(t,"lb",(function(){return W})),a.d(t,"hb",(function(){return Z})),a.d(t,"gb",(function(){return $})),a.d(t,"zb",(function(){return ee})),a.d(t,"yb",(function(){return te})),a.d(t,"R",(function(){return ae})),a.d(t,"N",(function(){return ne})),a.d(t,"T",(function(){return re})),a.d(t,"L",(function(){return ie})),a.d(t,"Ab",(function(){return se})),a.d(t,"s",(function(){return oe})),a.d(t,"u",(function(){return le})),a.d(t,"wb",(function(){return ue})),a.d(t,"nb",(function(){return pe})),a.d(t,"jb",(function(){return ce})),a.d(t,"t",(function(){return de})),a.d(t,"X",(function(){return ge})),a.d(t,"xb",(function(){return he})),a.d(t,"V",(function(){return be})),a.d(t,"fb",(function(){return me})),a.d(t,"c",(function(){return fe})),a.d(t,"pb",(function(){return ye})),a.d(t,"q",(function(){return Ee})),a.d(t,"r",(function(){return ve})),a.d(t,"eb",(function(){return Te})),a.d(t,"db",(function(){return Ae})),a.d(t,"qb",(function(){return Oe})),a.d(t,"ib",(function(){return Ie})),a.d(t,"ub",(function(){return Ce})),a.d(t,"Y",(function(){return Se})),a.d(t,"vb",(function(){return Ne})),a.d(t,"kb",(function(){return Re}));var n=a(32),r="INA"===n.appletMode,i="EP"===n.appletMode,s=n.appletMode,o="INA"===n.appletMode?"INADefaultData":"EPDefaultData",l=0,u=1,p=2,c=2,d=97.5,g="EPPage1",h="INAPage1",b="AdvisorLogo",m="AdvisorLogoOtherPages",f=0,y=1,E=2,v=3,T=4,A=7,O=10,I=11,C=12,S=13,N=14,R=15,x=16,j=1,w=30,D=25,P=45,L=40,F=6e4,K=6e4,B=100,k=50,_=65,V=65,M=2,U=3,G=75,q=60,Y=70,H=0,z=1,Q=2,J=3,X=17,W=18,Z=18,$=25,ee=18,te=22,ae=1,ne=2,re=3,ie=4,se=0===n.buildMode?"http://localhost:8082":(n.buildMode,""),oe={en:{today:"today"},fr:{today:"auj."}},le={en:{age:"Age",sex:"Sex",smoking:"Smoking Status",name:"Name",member:"Member",type:"Type",owner:"Owner",growthDir:"Grows/Reduces",exposureDur:"Exposure Duration",changeRate:"Reduction Rate",repay:"Annual Repayment",amount:"Current Value",FA:"Face Amount",amountGross:"Gross Value",afterTaxAmount:"After-tax Value",percent:"Percent",tax:"Tax Method",desc:"Description",disposeYr:"Year to Dispose",disposeDur:"Dur. of Disposal",startYear:"Start Year",dur:"Duration",ACB:"ACB",smallBusinessCapGainExemption:"Exemption...",growth:"Growth Rate",income:"Gross Income",avgTax:"Avg. Tax Rate",retAge:"Retirement Age",protectToAge:"Protect to Age",cppElig:"CPP Eligibility",invRate:"Investment Rate",inflation:"Inflation Rate",taxRate:"Marginal Tax Rate",dividendTaxRate:"Dividend Tax Rate",province:"Province",designedBy:"Designed By",designedFor:"Designed For",contributionAmt:"Contribution",contributionStartYr:"From Year",contributionDur:"Duration",withdrawalAmt:"Withdrawal",withdrawalStartYr:"From Year",withdrawalDur:"Duration",incomeRate:"Income Rate",RRIFRate:"RRIF Growth Rate",RRIFAge:"RRIF Age",ownershipAction:"Ownership",pdf:"Export to PDF",print:"Printable Page",lifo:"Life Insurance Funding Options",wl:"Insurance for Your Whole Life",ep:"Protecting Your Estate ",compulife:"Get a Quote ...",save:"Save",load:"Load",rec:"Recover",notes:"Notes"},fr:{age:"\xc2ge",sex:"Sexe",smoking:"Fumeur\xa0/ non-fumeur",name:"Name ^F",member:"Membre",type:"Type",owner:"Propri\xe9taire",growthDir:"Augmente/diminue",exposureDur:"Dur\xe9e de l'exposition",changeRate:"Taux de r\xe9duction",repay:"Remboursement annuel",amount:"Valeur actuelle",FA:"Face Amount ^F",amountGross:"Gross Value ^F",afterTaxAmount:"Valeur apr\xe8s imp\xf4t",percent:"Pourcentage",tax:"M\xe9thode fiscale",desc:"Description",disposeYr:"Ann\xe9e \xe0 \xe9liminer",disposeDur:"Dur\xe9e de l'\xe9limination",startYear:"Ann\xe9e de d\xe9marrage",dur:"Dur\xe9e",ACB:"PBR",smallBusinessCapGainExemption:"Exon\xe9ration...",growth:"Taux de croissance",income:"Revenu brut",avgTax:"% d'imp\xf4t moyen",retAge:"\xc2ge de la retraite",protectToAge:"Protection \xe0 l'\xe2ge",cppElig:"Admissibilit\xe9 au RPC",invRate:"Taux de rendement",inflation:"Taux d'inflation",taxRate:"Taux d'imposition marginal",dividendTaxRate:"Taux d'imposition",province:"Province",designedBy:"Par",designedFor:"Con\xe7u pour",contributionAmt:"Contribution",contributionStartYr:"From Year",contributionDur:"Dur\xe9e",withdrawalAmt:"Withdrawal ^F",withdrawalStartYr:"From Year ^F",withdrawalDur:"Dur\xe9e",incomeRate:"Revenu en %",RRIFRate:"Taux de crois. FERR",RRIFAge:"\xc2ge \u2013 FERR",ownershipAction:"Propri\xe9t\xe9",pdf:"Export to ^F PDF",print:"Printable Page",lifo:"Modes de financement de l'assurance vie",wl:"L'assurance pour votre vie enti\xe8re",ep:"Protection de votre patrimoine",compulife:"G\xe9n\xe9rer une cotation",save:"Enregistrer",load:"Charger",rec:"R\xe9cup\xe9rer",notes:"Notes"}},ue={en:{appletINA:"Insurance Needs Analysis",appletEP:"Protecting Your Estate",clients:"Family Profile",assets:"Assets, Sources of Cash",liabilities:"Liabilities, Cash Needs at Death",sources:"Sources of Income of the Survivor",needs:"Income Needs of the Survivor",settings:"Presentation Options",presentations:"Presentation Details",results:"Results",presBut:"Presentation",graphsBut:"Graphs",retBut:"Retirement",protectButton:"Protection Period",leBut:"Life Expectancy",age100But:"Age 100",spreadsheetBut:"Spreadsheet",analysisBut:"Analysis",benef:"beneficiary...",insuredJLTD:"insure as JLTD",insured:"to be insured...",default:"Set as Default",defaultClear:"Clear Default"},fr:{appletINA:"Analyse des besoins en mati\xe8re d'assurance",appletEP:"Protection de votre patrimoine",clients:"Profil familial",assets:"Sources de capitaux",liabilities:"Liquidit\xe9s requises au d\xe9c\xe8s",sources:"Sources de revenus au d\xe9c\xe8s",needs:"Revenus requis du survivant",settings:"Options de la pr\xe9sentation",presentations:"Pr\xe9cisions sur la pr\xe9sentation",results:"R\xe9sultats",presBut:"Pr\xe9sentation",graphsBut:"Graphique",retBut:"Retraite",protectButton:"P\xe9riode de protection",leBut:"Esp\xe9rance de vie",age100But:"100 ans",spreadsheetBut:"Feuille de calcul",analysisBut:"Analyse",benef:"b\xe9n\xe9ficiaire...",insured:"to be insured... ^F",default:"Set as Default ^F",defaultClear:"Clear Default ^F"}},pe={en:{Values:["Insurance Needs Analysis","Family Cash Needs at Death","Family Income Needs at Death","Family Cash Sources at Death","Family Income Sources at Death","Life Insurance Analysis","Some Important Notes"]},fr:{Values:["Analyse des besoins en mati\xe8re d'assurance","Liquidit\xe9s requises pour la famille au d\xe9c\xe8s","Revenus requis pour la famille au d\xe9c\xe8s","Sources de liquidit\xe9s de la famille au d\xe9c\xe8s","Sources de revenus de la famille au d\xe9c\xe8s","Analyse des besoins d'assurance vie","Notes importantes"]}},ce={en:{insNeed:"Insurance Needs",graphLine2:"To provide for the income shortfall until retirement",graphT1:"Personal cash Flow",graphT2:"Government cash Flow",graphT3:"Income Needs",graphT4:"Shortfall",ever:" ... for ever",taxMsg:"Tax methods need to be discussed with your financial advisor",fetch:"Failed to connect to the server"},fr:{insNeed:"Besoins d'assurance",graphLine2:"Pour couvrir le manque \xe0 gagner en mati\xe8re de revenus jusqu'\xe0 la retraite",graphT1:"Liquidit\xe9s personnelles",graphT2:"Liquidit\xe9s vers\xe9es par l'\xe9tat",graphT3:"Revenus requis",graphT4:"Manque \xe0 gagner",infoYr0:"L'ann\xe9e 0 est l'ann\xe9e d                                                                                     u d\xe9c\xe8s",infoRetDur:"Le nombre d'ann\xe9es avant la retraite est de .... ans",infoAvgTax:"Survivor's tax rate is applied to annual income and interest and annual asset disposition. Marginal tax rate (under Presentaion Details) is applied to planned or potential full disposition of an asset",infoAdjust:"Ajuster les besoins de revenu et les dur\xe9es de la source de revenu \xe0 dernier \xe2ge (99) or l'esp\xe9rance de vie de",clientOnly:"L'analyse des besoins est toujours effectu\xe9e pour le \xabclient\xbb membre de la famille",infoElig:"Les prestations du survivant et de l'orphelin sont bas\xe9es sur l'admissibilit\xe9 du client",ever:" ... pour toujours",taxMsg:"Les m\xe9thodes fiscales doivent \xeatre discut\xe9es avec votre conseiller financier",fetch:"D\xe9faut de connexion au serveur",ie:"s'il vous pla\xeet utiliser les navigateurs Edge ou Chrome pour les graphiques et les fonctionnalit\xe9s compl\xe8tes",govB:"Ne supprimez pas les prestations gouvernementales. Pour les ajuster, modifier l'admissibilit\xe9 du client",assetTax:"Veuillez utiliser les valeurs des actifs apr\xe8s imp\xf4t jusqu'\xe0 ce que la m\xe9thode d'imposition devienne disponibl"}},de={INA_SHEET_HEADERS:{en:{Full:["Calendar Year","Survivor Age","Income Needs","Survivors' CPP/QPP","Survivors' Income","Other Income","Total Income","Assets, Liabilities Cash Flow","Additional Amounts Required","Additional Capital Required","Capital Fund"]},fr:{Full:["Ann\xe9e calendaire","\xc2ge du survivant","Revenus requis","Survivors' CPP/QPP ^F","Survivors' Income ^F","Autre revenu","Revenu total","Flux de tr\xe9sorerie des actifs et des passifs","Montants additionnel requis","Capital additionnel requis","Fonds de capitaux"]}},EP_SHEET_HEADERS:{en:{Full:["Year","Age","BOY Balance","Fair Market Value","Contributions","Income, RRIF","Sale Proceeds","Tax on Income","Capital Gain","Capital Gains Exemption","EOY Balance","Average Growth","Tax Payable at Death"]},fr:{Full:["Ann\xe9e","\xc2ge","Valeur en d\xe9but d'ann\xe9e","Juste valeur marchande","Contributions","Revenus, FEER","Produits de la vente","Imp\xf4t sur le revenu","Gain en capital","Exon\xe9ration des gains en capital","Valeur en fin d'ann\xe9e","Croissance moyenne","Imp\xf4t payable au d\xe9c\xe8s"]}},en:{intRate:"Interest Rate",infRate:"Inflation Rate",surplusCapital:"Surplus Capital",blank:"",additionalCapitalReq:"Additional Capital Required:",survivorLE:"For survivor's normal life expectancy",survivor65:"Until survivor is age 65",Year:"Year",Age:"Age",FMV:"FMV",FA:"Face Amount",EOYBalance:"EOY Balance",ACB:"ACB",AnnualContribution:"Annual Contribution",MinRRIFIncome:"Min. RRIF Income",Withdrawal:"Income/Withdrawal",SaleProceeds:"Sale Proceeds",RentalIncome:"Rental Income",TaxLiability:"Tax Liability",Taxonincome:"Tax on income",TaxLiabilityatDeath:"Tax Liability at Death",CapitalGain:"Capital Gain",CapitalGainsExemption:"Capital Gains Exemption"},fr:{intRate:"Taux d'int\xe9r\xeat",infRate:"Taux d'inflation",surplusCapital:"Capital exc\xe9dentaire",blank:"",additionalCapitalReq:"Capital additionnel requis: ",survivorLE:"Pour l'esp\xe9rance de vie moyenne du survivant",survivor65:"Jusqu'au 65e anniversaire du survivant",Year:"Ann\xe9e",Age:"\xc2ge",FMV:"JVM",FA:"Face Amount ^F",EOYBalance:"Valeur FDA",ACB:"PBR",AnnualContribution:"Cotisations annuelles",MinRRIFIncome:"Revenu minimal d'un FERR",Withdrawal:"Revenus/Withdrawal ^F",SaleProceeds:"Produits de la vente",RentalIncome:"Revenus locatifs",TaxLiability:"Imp\xf4t \xe0 payer",Taxonincome:"Imp\xf4t sur le revenu",TaxLiabilityatDeath:"Imp\xf4t \xe0 payer au d\xe9c\xe8s",CapitalGain:"Gain en capital",CapitalGainsExemption:"Exon\xe9ration des gains en capital"}},ge={en:{excel:"Download Excel",rows:"Rows per page",of:"of"},fr:{excel:"T\xe9l\xe9charger le fichier Excel",rows:"Lignes par page",of:"lignes 1-5 sur 10"}},he={ESTATE_LIAB:{value:{en:"Estate Liability",fr:"Droits successoraux"},Key:"ESTATE_LIAB",order:1,colour:"#872651"},TAX_LIAB:{value:{en:"Tax Liability",fr:"Imp\xf4t \xe0 payer"},Key:"TAX_LIAB",order:1,colour:"#872651"}},be={en:{body:"The following link opens your quote in Toolkit Direct"},fr:{body:"Le lien suivant ouvre vos valeurs d'entr\xe9e dans Bo\xeete \xe0 outils directe"}},me={LAST_EXPENSES:{value:{en:"Last Expenses",fr:"Derniers frais"},Key:"LAST_EXPENSES",order:1,ID:0},LEGAL_AND_EXECUTOR_FEES:{value:{en:"Legal and Executor Fees",fr:"Frais juridiques et successoraux"},Key:"LEGAL_AND_EXECUTOR_FEES",order:2,ID:1},OUTSTANDING_LOANS:{value:{en:"Outstanding Loans",fr:"Emprunts\xa0\xe0\xa0rembourser"},Key:"OUTSTANDING_LOANS",order:3,ID:2},MORTGAGE_REDEMPTION:{value:{en:"Mortgage\xa0Redemption",fr:"Acquittement\xa0de\xa0l'hypoth\xe8que"},Key:"MORTGAGE_REDEMPTION",order:4,ID:3},EMERGENCY_FUND:{value:{en:"Emergency\xa0Fund",fr:"Fonds\xa0d'urgence"},Key:"EMERGENCY_FUND",order:5,ID:4},CHARITABLE_GIFTS:{value:{en:"Charitable\xa0Gifts",fr:"Dons\xa0de\xa0bienfaisance"},Key:"CHARITABLE_GIFTS",order:6,ID:5},LEGACY_FOR_CHILDREN:{value:{en:"Legacy\xa0for\xa0Children",fr:"H\xe9ritage\xa0pour\xa0les\xa0enfants"},Key:"LEGACY_FOR_CHILDREN",order:7,ID:6},CHILD_HOME_CARE:{value:{en:"Child/Home\xa0Care",fr:"Garde\xa0d'enfants/soins\xa0\xe0\xa0domicile"},Key:"CHILD_HOME_CARE",order:8,ID:7},CREDIT_CARDS:{value:{en:"Credit\xa0Cards",fr:"Cartes\xa0de\xa0cr\xe9dit"},Key:"CREDIT_CARDS",order:9,ID:8},INCOME_TAXES:{value:{en:"Income\xa0Taxes",fr:"Imp\xf4t\xa0sur\xa0le\xa0revenu"},Key:"INCOME_TAXES",order:10,ID:9},OTHER:{value:{en:"Other",fr:"Autre"},Key:"OTHER",order:10},CLIENT_TAX_LIABILITY:{value:{en:"Client\xa0Tax\xa0liability",fr:"Imp\xf4t \xe0 payer par le client"},Key:"CLIENT_TAX_LIABILITY",order:0,ID:10}},fe={PERSONAL_RESIDENCE:{value:{en:"Principal Residence",fr:"R\xe9sidence principale",oldName:"Personal Residence"},Key:"PERSONAL_RESIDENCE",order:1,ID:0,colour:"#9B5BA5"},REAL_ESTATE:{value:{en:"Real Estate",fr:"Immobilier"},Key:"REAL_ESTATE",order:2,ID:1,colour:"#0093b2"},STOCKS_BONDS:{value:{en:"Stocks & Bonds",fr:"Actions et obligations"},Key:"STOCKS_BONDS",order:3,ID:2,colour:"#00215b"},SMALL_BUSINESS_SHARES:{value:{en:"Small Business Shares",fr:"Actions de petites entreprises "},Key:"SMALL_BUSINESS_SHARES",order:4,ID:3,colour:"#c4dfe0"},RRSP_RRIF:{value:{en:"RRSP/RRIF",fr:"REER/FERR"},Key:"RRSP_RRIF",order:5,ID:4,colour:"#cf7f00"},INTEREST_BEARING:{value:{en:"Interest Bearing",fr:"Placement \xe0 int\xe9r\xeat"},Key:"INTEREST_BEARING",order:6,ID:5,colour:"#dfd666"},CASH:{value:{en:"Cash",fr:"Liquidit\xe9s"},Key:"CASH",order:7,ID:6,colour:"darkred"},OTHER_ASSETS:{value:{en:"Other Assets",fr:"Autres actifs"},Key:"OTHER_ASSETS",order:8,ID:7,colour:"#949a9e"},LIFE_INSURANCE:{value:{en:"Life Insurance",fr:"Assurance vie"},Key:"LIFE_INSURANCE",order:9,ID:8,colour:"872651"},CHARITABLE_GIFTS_TAX_CREDIT:{value:{en:"Charit. Gifts Tax Credit",fr:"Cr\xe9dit d'imp\xf4t pour don de bienfaisance"},Key:"CHARITABLE_GIFTS_TAX_CREDIT",order:0,ID:9,colour:"872651"}},ye={CLIENT:{value:{en:"Client",fr:"Client"},Key:"CLIENT",order:0,ID:0},SPOUSE:{value:{en:"Spouse",fr:"Conjoint"},Key:"SPOUSE",order:3,ID:1},JOINT:{value:{en:"Joint",fr:"Conjoint"},Key:"JOINT",order:4,ID:2}},Ee={CLIENT:{value:{en:"Client",fr:"Client"},Key:"CLIENT",order:0,ID:0},SPOUSE:{value:{en:"Spouse",fr:"Conjoint"},Key:"SPOUSE",order:3,ID:1},JOINT:{value:{en:"Joint",fr:"Conjoint"},Key:"JOINT",order:4,ID:2},CLIENT_LIQUIDATE:{value:{en:"Client: Liquidate",fr:"Client : Liquider"},Key:"CLIENT_LIQUIDATE",order:1,ID:3},CLIENT_ROLLOVER:{value:{en:"Client: Roll-over",fr:"Client : Report"},Key:"CLIENT_ROLLOVER",order:2,ID:4}},ve={NON_TAXABLE:{value:{en:"Non-taxable",fr:"Non imposable"},Key:"NON_TAXABLE",order:1,ID:0},CAPITAL_GAINS_DEFERRED:{value:{en:"Capital Gains Deferred",fr:"Gains en capital diff\xe9r\xe9s"},Key:"CAPITAL_GAINS_DEFERRED",order:2,ID:1},CAPITAL_GAINS_ANNUAL:{value:{en:"Capital Gains Annual",fr:"Gains en capital annuels"},Key:"CAPITAL_GAINS_ANNUAL",order:3,ID:2},REGISTERED:{value:{en:"Registered",fr:"Enregistr\xe9"},Key:"REGISTERED",order:4,ID:3},FULLY_TAXABLE:{value:{en:"Fully Taxable",fr:"Pleinement imposable"},Key:"FULLY_TAXABLE",order:5,ID:4},DIVIDEND:{value:{en:"Dividend",fr:"Dividende"},Key:"DIVIDEND",order:0,ID:5},INTEREST:{value:{en:"Interest",fr:"Int\xe9r\xeats"},Key:"INTEREST",order:6,ID:6},QUALIFYING_SMALL_BUSINESS:{value:{en:"Qualif. Small Business",fr:"petites entreprises"},Key:"QUALIFYING_SMALL_BUSINESS",order:7,ID:7}},Te={SURVIVORS_INCOME:{value:{en:"Survivor's Income",fr:"Revenus du survivant"},Key:"SURVIVORS_INCOME",order:1,ID:0},GOV_SURVIVORS_PENSION:{value:{en:"Gov. Survivor's Pension",fr:"Pension de survivant du gouv."},Key:"GOV_SURVIVORS_PENSION",order:2,ID:1},GOV_DEATH_BENEFIT:{value:{en:"Gov. Death Benefit",fr:"Prestation de d\xe9c\xe8s du gouv."},Key:"GOV_DEATH_BENEFIT",order:3,ID:2},GOV_ORPHANS_BENEFIT:{value:{en:"Gov. Orphan's Benefit",fr:"Prestation d'orphelin du gouv."},Key:"GOV_ORPHANS_BENEFIT",order:4,ID:3},RENTAL_INCOME:{value:{en:"Rental Income",fr:"Revenus locatifs"},Key:"RENTAL_INCOME",order:5,ID:4},DIVIDEND_INCOME:{value:{en:"Dividend Income",fr:"Revenu de dividendes"},Key:"DIVIDEND_INCOME",order:6,ID:5},RETIREMENT_INCOME:{value:{en:"Retirement Income",fr:"Revenus de retraite"},Key:"RETIREMENT_INCOME",order:7,ID:6},OTHER:{value:{en:"Other",fr:"Autre"},Key:"OTHER",order:8,ID:7},RRIF:{value:{en:"RRIF",fr:"FERR"},Key:"RRIF",order:0,ID:8}},Ae={PERCET_OF_INCOME:{value:{en:"% of Total Income",fr:"% du revenu total"},Key:"PERCET_OF_INCOME",order:1,ID:0},EDUCATION_FUND:{value:{en:"Education Fund",fr:"Fonds d'\xe9tudes"},Key:"EDUCATION_FUND",order:2,ID:1},TEMPORARY_INCOME:{value:{en:"Temporary Income",fr:"Revenus temporaires"},Key:"TEMPORARY_INCOME",order:3,ID:2},OTHER:{value:{en:"Other",fr:"Autre"},Key:"OTHER",order:4,ID:3}},Oe={AB:{value:{en:"Alberta",fr:"Alberta"},Key:"AB",order:1,ID:0},BC:{value:{en:"British Columbia",fr:"Colombie-Britannique"},Key:"BC",order:2,ID:1},ON:{value:{en:"Ontario",fr:"Ontario"},Key:"ON",order:6,ID:2},QC:{value:{en:"Quebec",fr:"Qu\xe9bec"},Key:"QC",order:8,ID:3},MB:{value:{en:"Manitoba",fr:"Manitoba"},Key:"MB",order:3,ID:4},NS:{value:{en:"Nova Scotia",fr:"Nouvelle-\xc9cosse"},Key:"NS",order:5,ID:5},NB:{value:{en:"New Brunswick",fr:"Nouveau-Brunswick"},Key:"NB",order:4,ID:6},NF:{value:{en:"Newfoundland and Labrador",fr:"Terre-Neuve-et-Labrador"},Key:"NF",order:3,ID:7},SK:{value:{en:"Saskatchewan",fr:"Saskatchewan"},Key:"SK",order:9,ID:8},PE:{value:{en:"Prince Edward Island",fr:"\xcele-du-Prince-\xc9douard"},Key:"PE",order:7,ID:9},YU:{value:{en:"Yukon",fr:"Yukon"},Key:"YU",order:0,ID:10},NU:{value:{en:"Nunavut",fr:"Nunavut"},Key:"NU",order:0,ID:11},NT:{value:{en:"Northwest Territories",fr:"Territoires du Nord-Ouest"},Key:"NT",order:0,ID:12}},Ie={CLIENT:{value:{en:"Client",fr:"Client"},Key:"CLIENT",order:1,ID:0},SPOUSE:{value:{en:"Spouse",fr:"Conjoint"},Key:"SPOUSE",order:2,ID:1},CHILD:{value:{en:"Child",fr:"Enfant"},Key:"CHILD",order:3,ID:2},DEPENDENT_ADULT:{value:{en:"Dependent Adult",fr:"Adulte \xe0 charge"},Key:"DEPENDENT_ADULT",order:4,ID:3}},Ce={MALE:{value:{en:"Male",fr:"Homme"},Key:"MALE",order:1,ID:0},FEMALE:{value:{en:"Female",fr:"Femme"},Key:"FEMALE",order:2,ID:1}},Se={GROWS:{value:{en:"Grows",fr:"Augmente"},Key:"GROWS",order:1,ID:0},REDUCES:{value:{en:"Reduces",fr:"Diminue"},Key:"REDUCES",order:2,ID:1}},Ne={NON_SMOKER:{value:{en:"Non-Smoker",fr:"Non-fumeur"},Key:"NON_SMOKER",order:1,ID:0},SMOKER:{value:{en:"Smoker",fr:"Fumeur"},Key:"SMOKER",order:2,ID:1}},Re={en:["January","February","March","April","May","June","July","August","September","October","November","December"],fr:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]}},12:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n={en:{insNeeds100:"Insurance Needs to age 100",insNeedsRet:"Insurance Needs to retirement (age ",insNeedsRetLE:"Insurance Needs to life expectancy (age ",insNeedsSingleFamily:"Insurance Needs for a Single Parent with Protection Period of ",years:" years",addSurvivor:"Survivors need to be added under Family Profile",pg1T:"Insurance Needs Analysis - Estate",pg1P1:"Designed for:\xa0",pg1P2:"Designed by:\xa0",pg1P3:"Date: ",pg1P4:"Province:\xa0",pg2TabT1:"Family Profile",pg2TabT2:"Age",pg2TabT3:"Annual Income",pg2TabT4:"Retirement Age",pg2TabT4Alt:"Protection Period",pg2TabT5:"Avg. Tax Rate",pg2TabT6:"Marginal Tax Rate",pg2T2:"Assumptions",pg2Tab2:"Needs Analysis is always done for the family member 'Client'",pg2Tab3:"Using these factors the total capital required to generate an inflation indexed income thus depleting all capital at the end of the desired insurance time period is calculated. This amount is based on the present value of shortfalls, discounted at the after tax investment rate. It is adjusted, if necessary to make sure early shortfalls are provided for",pg2T3:"Financial Summary",pg2P5:"Total Assets (excluding insurance)",pg2P6:"Total Liabilities (excluding death related)",pg2P7:"Net Worth",pg2P8:"Total insurance available at death",pg2P9:"Total death related liabilities",pg2P10:"Additional Life Insurance for Client",pg2P11:"Life Insurance for Spouse NAME in addition to:",pg3T:"Family Cash and Income Needs",pg3P1:"When you die, your family will face two important money needs, a need for Cash and a need for Income. While some cash needs are temporary, others are required at all stages of life.",pg3TabT:"Cash Needs",pg3TabRTot:"Total",pg4T:"",pg4P1:"Continued ...",pg4TabT:"Income Needs",pg4TabRow1:"Current Total Annual Family Income",pg4TabRow2:"Percentage of this income you want your family to have to maintain your present standard of living for these time periods is:",pg4TabRow3:"While more income is required",pg4TabRow4:"For survivor thereafter",pg4TabRow5:"Therefore your desired after-tax income is:",pg4TabRow6:"While more income is required",pg4TabRow7:"For the survivor thereafter",pg5T:"Family Cash Sources at Death",pg5TabT:"Cash Sources",pg5TabT2:"All",pg5TabT3:"At Death",pg5TabRow1:"CPP/QPP Lump Sum Death Benefit",pg5TabRow3:"Total Cash Available at death",pg5TabRow4:"Less Family Cash needs at Death",pg5TabRow5:"Surplus Cash available to produce income for surviving members of the family",pg6T:"Family Income Sources at Death",pg6TabT:"Income Sources",pg6TabRow1:"Therefore the total annual income available for this time period is:",pg6TabRow2:"While more income is required",pg6TabRow3:"For survivor thereafter",pg5TabRow7:"For surviving members of the family",pg6TabRow4:"The additional income required (desired income less income available) for this time period is:",pg6TabRow5:"While more income is required",pg6TabRow6:"For survivor thereafter",pg6Net:"net",pg7T:"Life Insurance Analysis",pg7TabT:"Your Family Income Position at Death",pg7TabRow1:"The additional income required (desired income less income available) for this time period is:",pg7TabRow2:"While more income is required",pg7TabRow3:"For survivor thereafter",pg7TabRow4:"Rate of inflation you think will continue",pg7TabRow5:"Rate of interest the survivor could earn on investments in future years",pg7TabRow6:"Using these factors the total capital required to generate an inflation indexed income thus depleting all capital at the end of this time period is:",pg7TabRow7:"A.\xa0For survivor's normal life expectancy (age ",pg7TabRow8:"B.\xa0Until survivor retirement",pg7TabRow9:"C.\xa0Until youngest child is age 25",pg7TabRow10:"D.\xa0Until youngest child is age 18",pg8T:"Life Insurance Analysis",pg8TabT:"Your Family Financial Position at Death",pg8TabRow1:"Present surplus capital available for investment after covering cash needs is:",pg8TabRow2:"Therefore the additional income-producing capital (i.e. Life Insurance) needed to solve the income requirement for these time periods is:",pg8TabRow3:"A.\xa0For survivor's normal life expectancy (age ",pg8TabRow4:"B.\xa0Until survivor retirement",pg8TabRow5:"C.\xa0Until youngest child is age 25",pg8TabRow6:"D.\xa0Until youngest child is age 18",pg8TabRow4Alt:"A.\xa0Until end of Protection Period",pg9T:"Some Important Notes",pg9P1:"This presentation is for general information purposes. The information contained in this presentation must not be taken or relied upon by the reader as legal, accounting, taxation or actuarial advice. For these matters readers should seek independent professional advice. Please refer to insurance company illustrations, policy contracts and information folders regarding any insurance matters referred to in this presentation, as those documents will govern in all cases.",pgFooter:"See Some Important Notes at the end of this presentation.",pg10T:"Acknowledgments",pg10P1:"I, ____________________________ acknowledge receipt of this Presentation and any quotes related to the information therein, and confirm my understanding of it as a summary and general overview of the illustrated benefits and values. I understand that the aforementioned illustrated benefits and values are neither estimates nor guarantees of future performance; and that actual results may vary based on timing, market performance, health and insurability. These values are subject to change and may differ from those illustrated.",pg10TabRow1:"Signature of Client(s): ____________________",pg10TabRow11:"Date: ___________",pg10TabRow2:"Signature of Client(s): ____________________",pg10TabRow3:"Signature of Advisor: ____________________"},fr:{insNeeds100:"Besoins en assurance jusqu'\xe0 l'\xe2ge de 100 ans",insNeedsRet:"Besoins en assurance jusqu'\xe0 la retraite(\xe2ge ",insNeedsRetLE:"Besoins en assurance jusqu'\xe0 l'esp\xe9rance de vie (\xe2ge ",insNeedsSingleFamily:"Insurance Needs for a Single Parent with Protection Period of ^F",years:" years ^F",addSurvivor:"Survivors need to be added under Family Profile ^F",pg1T:"Analyse des besoins en mati\xe8re d'assurance - successorale",pg1P1:"Con\xe7u pour :\xa0",pg1P2:"Par:\xa0",pg1P3:"Date: ",pg1P4:"Province:\xa0",pg2TabT1:"Profil familial",pg2TabT2:"\xc0ge",pg2TabT3:"Revenu annuel",pg2TabT4:"\xc0ge de la retraite",pg2TabT4Alt:"Protection Period ^F",pg2T2:"Assumptions ^F",pg2Tab2:"Needs Analysis is always done for the family member 'Client' ^F",pg2Tab3:"Using these factors the total capital required to generate an inflation indexed income thus depleting all capital at the end of the desired insurance time period is calculated. This amount is based on the present value of shortfalls, discounted at the after tax investment rate. It is adjusted, if necessary to make sure early shortfalls are provided for ^F",pg2TabT5:"Avg. Tax Rate ^F",pg2TabT6:"Marginal Tax Rate ^F",pg2T3:"Financial Summary ^F",pg2P5:"Total Assets (excluding insurance) ^F",pg2P6:"Total Liabilities (excluding death related) ^F",pg2P7:"Net Worth ^F",pg2P8:"Total insurance available at death ^F",pg2P9:"Total death related liabilities ^F",pg2P10:"Additional Life Insurance Client ^F",pg2P11:"Life Insurance for Spouse NAME in addition to: ^F",pg3T:"Family Cash and Income Needs",pg3P1:"\xc0 votre d\xe9c\xe8s, votre famille fera face \xe0 deux importants besoins financiers, soient d'obtenir des liquidit\xe9s ainsi que des revenus. Bien que certains besoins de liquidit\xe9s soient temporaires, d'autres sont n\xe9cessaires lors de toutes les \xe9tapes de la vie.",pg3TabT:"Besoins de liquidit\xe9s",pg3TabRTot:"Total",pg4T:"",pg4P1:"Continued ... ^F",pg4TabT:"Besoins de revenus",pg4TabRow1:"Montant actuel du revenu familial annuel",pg4TabRow2:"Pourcentage du revenu souhait\xe9 pour maintenir le niveau de vie actuel de votre famille pendant la p\xe9riode :",pg4TabRow3:"Un revenu plus \xe9lev\xe9 est requis",pg4TabRow4:"Pour le survivant par la suite",pg4TabRow5:"Le revenu souhait\xe9 s'\xe9l\xe8ve donc \xe0\xa0: ^F",pg4TabRow6:"Un revenu plus \xe9lev\xe9 est requis",pg4TabRow7:"Pour le survivant par la suite",pg5T:"Sources de liquidit\xe9 pour la famille au d\xe9c\xe8s",pg5TabT:"Sources de liquidit\xe9",pg5TabT2:"All ^F",pg5TabT3:"At Death ^F",pg5TabRow1:"Prestation de d\xe9c\xe8s forfaitaire du RPC/RRQ",pg5TabRow3:"Total des liquidit\xe9s disponibles au d\xe9c\xe8s de l'assur\xe9",pg5TabRow4:"Moins\xa0les liquidit\xe9s n\xe9cessaires au d\xe9c\xe8s de l'assur\xe9",pg5TabRow5:"Exc\xe9dent sur les liquidit\xe9s disponibles pouvant assurer un revenu \xe0 la famille",pg6T:"Sources de revenu pour la famille au d\xe9c\xe8s",pg6TabT:"Revenus du survivant",pg6TabRow1:"Le revenu annuel total disponible pour cette p\xe9riode s'\xe9l\xe8ve donc \xe0\xa0:",pg6TabRow2:"Un revenu plus \xe9lev\xe9 est requis",pg6TabRow3:"Pour le survivant par la suite",pg5TabRow7:"For surviving members of the family ^F",pg6TabRow4:"Pour cette p\xe9riode, le manque \xe0 gagner (revenu souhait\xe9 moins revenu disponible) s'\xe9l\xe8ve \xe0\xa0:",pg6TabRow5:"Un revenu plus \xe9lev\xe9 est requis",pg6TabRow6:"Pour le survivant par la suite",pg6Net:"net ^F",pg7T:"Besoins d'assurance",pg7TabT:"\xc9tat des revenus de la famille au d\xe9c\xe8s",pg7TabRow1:"Pour cette p\xe9riode, le manque \xe0 gagner (revenu souhait\xe9 moins revenu disponible) s'\xe9l\xe8ve \xe0\xa0:",pg7TabRow2:"Un revenu plus \xe9lev\xe9 est requis",pg7TabRow3:"Pour le survivant par la suite",pg7TabRow4:"Taux d'inflation pr\xe9vu",pg7TabRow5:"Taux d'int\xe9r\xeat potentiel des placements futurs du survivant",pg7TabRow6:"Bas\xe9 sur ces facteurs financiers, le capital total requis pour g\xe9n\xe9rer des revenus index\xe9s \xe0 l'inflation et qui sera \xe9puis\xe9 \xe0 la fin de la p\xe9riode est\xa0:",pg7TabRow7:"A.\xa0Pour la dur\xe9e de vie pr\xe9sum\xe9e du survivant (\xe2ge ",pg7TabRow8:"B. Jusqu'\xe0 la retraite du survivant",pg7TabRow9:"C.\xa0Jusqu'au 25e anniv. du benjamin",pg7TabRow10:"D.\xa0Jusqu'au 18e anniv. du benjamin",pg8T:"Besoins d'assurance",pg8TabT:"\xc9tat des revenus de la famille au d\xe9c\xe8s",pg8TabRow1:"Capitaux exc\xe9dentaires actuellement disponibles pour investissement apr\xe8s couverture des besoins financiers\xa0:",pg8TabRow2:"Manque \xe0 gagner en capitaux productifs de revenu(ex. assurance) pour les p\xe9riodes ci-dessous\xa0:",pg8TabRow3:"A.\xa0Pour la dur\xe9e de vie pr\xe9sum\xe9e du survivant (\xe2ge ",pg8TabRow4:"B. Jusqu'\xe0 la retraite du survivant",pg8TabRow5:"C.\xa0Jusqu'au 25e anniv. du benjamin",pg8TabRow6:"D.\xa0Jusqu'au 18e anniv. du benjamin",pg8TabRow4Alt:"A.\xa0Until end of Protection Period ^F",pg9T:"Notes importantes",pg9P1:"Le pr\xe9sent expos\xe9 ne comporte que des renseignements g\xe9n\xe9raux. L'information qui s'y trouve ne doit pas \xeatre consid\xe9r\xe9e par le lecteur comme des conseils juridiques, comptables, fiscaux ou actuariels. Pour ces questions, le lecteur devrait consulter un professionnel ind\xe9pendant. Veuillez-vous reporter aux illustrations d'assurance, aux libell\xe9s des contrats et aux documents d'information des soci\xe9t\xe9s d'assurance pour obtenir des pr\xe9cisions sur les questions d'assurance mentionn\xe9es dans le pr\xe9sent expos\xe9, puisque dans tous les cas, ce sont ces documents qui pr\xe9valent.",pgFooter:"Voir les Notes importantes \xe0 la fin du pr\xe9sent expos\xe9.",pg10T:"Accus\xe9 de r\xe9ception",pg10P1:"Je soussign\xe9, _______________________ accuse r\xe9ception du pr\xe9sent document et des soumissions connexes, et consid\xe8re toute l'information sur les prestations et les valeurs comme un r\xe9sum\xe9 seulement. Je comprends que les prestations et les valeurs susmentionn\xe9es ne sont ni estimatives ni garantes du rendement futur. Je comprends aussi que les r\xe9sultats r\xe9els peuvent fluctuer en fonction du temps et du rendement du march\xe9, ainsi que de l'\xe9tat de sant\xe9 et de l'assurabilit\xe9 de la personne. Ces r\xe9sultats peuvent faire l'objet de modifications et diff\xe9rer des valeurs pr\xe9sent\xe9es dans l'expos\xe9.",pg10TabRow1:"Signature du client: ____________________",pg10TabRow11:"jour, mois, ann\xe9e: ___________",pg10TabRow2:"Signature du client: ____________________",pg10TabRow3:"Signature du conseiller en assurance: ____________________"}},r={en:{insNeed:"Insurance Needs",graphMsg:"To provide for the income shortfall until retirement",persCF:"Personal cash Flow",govCF:"Government cash Flow",incomeNeeds:"Income Needs",shortfall:"Shortfall",assetsBrk:"Assets Breakdown Today",liabsBrk:"Liabilities Breakdown",cashLike:"Cash/TFSA/Insurance",RRSP:"RRSP/RRIF",shares:"Public/Private shares",realEstate:"Real Estate",otherAssets:"Other",loans:"Loans",taxes:"Taxes",emergency:"Emergency Fund",otherLiabs:"Other",atDeath:"At Death and Future Amts.",insNeeds100:"Insurance Needs to age 100",insNeedsRet:"Insurance Needs to retirement (age ",insNeedsRetLE:"Insurance Needs to life expectancy (age ",currFins:"Your current financial situation is summarized below: "},fr:{insNeed:"Besoins d'assurance",graphMsg:"Pour couvrir le manque \xe0 gagner en mati\xe8re de revenus jusqu'\xe0 la retraite",persCF:"Liquidit\xe9s personnelles",govCF:"Liquidit\xe9s vers\xe9es par l'\xe9tat",incomeNeeds:"Revenus requis",shortfall:"Manque \xe0 gagner",assetsBrk:"Ventilation des actifs (aujourd'hui)",liabsBrk:"Ventilation des passifs",cashLike:"Liquidit\xe9s/CELI/Assurance",RRSP:"REER/FERR",shares:"Titres publics/priv\xe9s",realEstate:"Immobilier",otherAssets:"Autre",loans:"Pr\xeats",taxes:"Charges fiscales",emergency:"Fonds d'urgence",otherLiabs:"Autre",atDeath:"Au d\xe9c\xe8s et engagements futurs",insNeeds100:"Besoins en assurance jusqu'\xe0 l'\xe2ge de 100 ans",insNeedsRet:"Besoins en assurance jusqu'\xe0 la retraite(\xe2ge ",insNeedsRetLE:"Besoins en assurance jusqu'\xe0 l'esp\xe9rance de vie (\xe2ge ",currFins:"YLe sommaire de votre situation financi\xe8re actuelle se trouve ci-dessous: "}}},199:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(15),r=a(16),i=a(18),s=a(17),o=a(0),l=a.n(o),u=a(46),p=a(1),c=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).componentDidMount=function(){r.setState({showDetails:!1})},r.imageBigger=function(){r.setState((function(e){return{imageSize:parseFloat(1.1*e.imageSize)}}),r.updateImage)},r.updateImage=function(){var e={image:r.state.image,left:r.state.imageLeft,size:r.state.imageSize,allPages:r.state.allPages,top:r.state.top,showDetails:r.state.showDetails};r.props.imageAdjust(e,r.props.ID)},r.imageSmaller=function(){r.setState((function(e){return{imageSize:parseFloat(.9*e.imageSize)}}),r.updateImage)},r.imageLeft=function(){r.setState((function(e){return{imageLeft:parseFloat(e.imageLeft-2)}}),r.updateImage)},r.imageRight=function(){r.setState((function(e){return{imageLeft:parseFloat(e.imageLeft+2)}}),r.updateImage)},r.imagePosition=function(e){var t=1===e;r.setState({top:t},r.updateImage)},r.imagePages=function(e){var t=1!==e;r.setState({allPages:t},r.updateImage)},r.imageRemove=function(){r.setState((function(e){return{image:null,showDetails:!1}}),r.updateImage)},r.showDetails=function(){var e={image:r.state.image,left:r.state.imageLeft,size:r.state.imageSize,allPages:r.state.allPages,top:r.state.top,showDetails:!r.state.showDetails};r.props.imageAdjust(e,r.props.ID)},r.loadImage=function(e){var t,a=e.target.files[0],n=new FileReader;n.readAsDataURL(a),n.onload=function(){var e={image:t=n.result,left:r.state.imageLeft,size:r.state.imageSize,allPages:!1,top:r.state.top,showDetails:r.props.showDetails};r.setState((function(){return{image:t,showDetails:r.props.showDetails,allPages:r.props.allPages}}),r.props.imageAdjust(e,r.props.ID))}},r.imageDone=function(){r.setState({showDetails:!1})},r.state={imageSize:r.props.size,imageLeft:r.props.imageLeft,allPages:r.props.allPages,top:r.props.top,showDetails:!1,image:r.props.image},r}return Object(r.a)(a,[{key:"render",value:function(){var e={float:"left",width:p.ob+"%",display:"table-cell",marginTop:"-3px",marginBottom:"15px",marginLeft:this.state.imageLeft+"%"},t=void 0!==this.props.language?this.props.language:"en",a=void 0!==this.props.buttonText?this.props.buttonText.length*("en"===t?10:14):0;return l.a.createElement("div",{id:"image",style:{float:"left",marginTop:"12px",marginBottom:"12px",width:p.ob+"%"}},l.a.createElement("div",{style:{paddingLeft:"2.5%"}},!1===this.state.showDetails&&a>0&&l.a.createElement("label",{className:"roundedCornerCmd"},l.a.createElement("input",{type:"file",required:!0,style:{display:"none"},accept:".jpg, .png, .jpeg, .gif, .bmp, .tif, .ico, .tiff, .svg|image/*",onChange:this.loadImage,onClick:function(e){e.target.value=null}}),l.a.createElement("span",{style:{marginTop:"10px",width:"40px"}},this.props.buttonText))),l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement("hr",{className:"ppi1"}),this.state.showDetails&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{marginLeft:"20px"}},l.a.createElement(u.a,{width:"80px",noButtons:2,buttonCaption:["en"===t?"Top":"Top ^F","en"===t?"Bottom":"Bottom ^F"],selected:this.state.top?1:2,selectMultiButton:this.imagePosition}),l.a.createElement(u.a,{width:"40px",noButtons:1,buttonCaption:["+"],selected:1,selectMultiButton:this.imageBigger}),l.a.createElement(u.a,{width:"40px",noButtons:1,buttonCaption:["-"],selected:1,selectMultiButton:this.imageSmaller}),l.a.createElement(u.a,{width:"50px",noButtons:1,buttonCaption:[l.a.createElement("text",null,"\u2190")],selected:1,selectMultiButton:this.imageLeft}),l.a.createElement(u.a,{width:"50px",noButtons:1,buttonCaption:[l.a.createElement("text",null,"\u2192")],selected:1,selectMultiButton:this.imageRight}),l.a.createElement(u.a,{width:"80px",noButtons:2,buttonCaption:["1st page","All pages"],selected:this.state.allPages?2:1,selectMultiButton:this.imagePages}),l.a.createElement(u.a,{width:"40px",noButtons:1,buttonCaption:["x"],selected:1,selectMultiButton:this.imageRemove}),l.a.createElement(u.a,{style:{marginLeft:"20px"},width:"80px",noButtons:1,buttonCaption:["done"],selected:1,selectMultiButton:this.imageDone}))),l.a.createElement("p",null),l.a.createElement("div",{style:e},null===this.state.image?"":l.a.createElement("img",{className:"ppi1",id:this.props.ID,src:this.state.image,width:this.state.imageSize+"%"})),l.a.createElement("br",null),l.a.createElement("br",null))}}]),a}(l.a.Component)},2:function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return b})),a.d(t,"x",(function(){return m})),a.d(t,"z",(function(){return f})),a.d(t,"d",(function(){return E})),a.d(t,"e",(function(){return v})),a.d(t,"a",(function(){return T})),a.d(t,"B",(function(){return A})),a.d(t,"u",(function(){return I})),a.d(t,"v",(function(){return C})),a.d(t,"j",(function(){return N})),a.d(t,"r",(function(){return R})),a.d(t,"q",(function(){return x})),a.d(t,"p",(function(){return j})),a.d(t,"i",(function(){return w})),a.d(t,"l",(function(){return D})),a.d(t,"h",(function(){return P})),a.d(t,"o",(function(){return L})),a.d(t,"g",(function(){return F})),a.d(t,"w",(function(){return K})),a.d(t,"k",(function(){return V})),a.d(t,"f",(function(){return M})),a.d(t,"y",(function(){return U})),a.d(t,"A",(function(){return G})),a.d(t,"c",(function(){return q})),a.d(t,"m",(function(){return Y})),a.d(t,"t",(function(){return H})),a.d(t,"n",(function(){return z})),a.d(t,"s",(function(){return Q}));var n=a(10),r=a.n(n),i=a(13),s=a(32),o=a(1),l=(a(100),a(0)),u=a.n(l),p=a(39),c=(a(90),a(12)),d=a(7),g=a(199),h=a(4);a(535);function b(t,a){if(null!==t&&void 0!==t)return void 0===a&&(a=!1),a||e.langFr?t.toString().replace(",",".").replace("$","").replace("%","").replace(" ","").replace(/ /g,"").replace(/[\u00A0\u1680\u200b\u180e\u2000-\u2009\u200a\u200b\u200b\u200b\u202f\u205f\u200b\u3000]/g,""):t.toString().replace(/,/g,"").replace("$","").replace("%","").replace(/ /g,"").replace(" ","").replace(/[\u00A0\u1680\u200b\u180e\u2000-\u2009\u200a\u200b\u200b\u200b\u202f\u205f\u200b\u3000]/g,"")}function m(){return"undefined"!==typeof window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}function f(e,t,a,n){var r,i,s,o;return"undefined"!==typeof e&&(e=b(e),3!==a&&(e=parseInt(e).toFixed(0)),3===a&&t&&("."===e[e.length-1]?e=e.substring(0,e.length-1):(e.length>1&&(e=(10*e).toFixed(2)),e>100&&(e=(e/10).toFixed(2)))),r=y(e),i=y((e-r)/1e3),s=parseInt((e-r-1e3*i)/1e6),(i>0||s>0)&&(e=i+n+(r>99?r:r>10?"0"+r:"00"+r),s>0&&(e=s+n+(i>99?i:i>10?"0"+i:"00"+i)+n+(r>99?r:r>10?"0"+r:"00"+r))),3===a?o=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?parseFloat(Math.round(100*e)/100).toFixed(2):(o=(o=parseFloat(Math.round(100*e)/100/(1===e.length&&t?100:1)))>100?100:o).toFixed(2)+"%":4===a?((o=25*parseInt(parseFloat(Math.round(100*e)/100).toFixed(0)/25))<100&&(o=100),o>400&&(o=400),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?o=o:o+="%"):o=2===a?"$"+e:e),isNaN(b(o))&&(o=0),o}function y(e){return parseFloat(e)-1e3*parseInt(e/1e3)}function E(e,t,a,n){try{b(e),t=Math.abs(t),t=isNaN(t)?2:t;var r=e<0?"-":"",i=parseFloat(e=Math.abs(Number(e)||0).toFixed(t)).toString(),s=i.length>3?i.length%3:0;return r+(s?i.substr(0,s)+n:"")+i.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+n)+(t?a+Math.abs(e-i).toFixed(t).slice(2):"")}catch(o){}}function v(e,t,a,n){var r="en"===a?".":",",i="en"===a?",":" ",s="fr"===a;try{b(e,s),t=Math.abs(t),t=isNaN(t)?2:t;var o=e<0?"-":"",l=parseFloat(e=Math.abs(Number(e)||0).toFixed(t)).toString(),u=l.length>3?l.length%3:0;return(o+("en"===a&&n?"$":"")+(u?l.substr(0,u)+i:"")+l.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+i)+(t?r+Math.abs(e-l).toFixed(t).slice(2):"")+("fr"===a&&n?" $":"")).toString()}catch(p){}}function T(e,t,a){for(var n=[],r=0;r<e.length;r++)n[r]=v(e[r],a,t,!1);return n}function A(){var e=s.version,t=0,a=e.indexOf(".");t=e.substring(0,a);var n=O(Number(t)),r=e.indexOf(".",a+1);t=e.substring(a+1,r),n+=O(Number(t)),t=e.substring(r+1,e.length),n+=O(Number(t));var i=Number(n);return{version:e,versionNumeric:i,allowEmail:!0,saveEncrypt:!0,allowAnalysis:!1}}function O(e){return e>9?""+e:"0"+e}function I(e,t,a){var n,r,i=[];for(n=0;n<t;++n)i.push(0);for(r=0;r<e.Liabilitys.length;r++){var s=C(e.Liabilitys[r]);for(n=0;n<Math.min(t,s.length);++n)i[n]+=s[n]}return i}function C(e){var t,a=0,n=[];if(e.liabTypeKey===o.fb.OUTSTANDING_LOANS.Key||e.liabTypeKey===o.fb.MORTGAGE_REDEMPTION.Key){var r=e.currValue;for(n.push(Math.round(r)),e.growth=function(e,t,a){var n=.1,r=.2,i=0;for(;r-i>1e-7;)(e-a)*Math.pow(1+n,t)-a*(1+n)*(1-Math.pow(1+n,t-1))/-n>0?r=n:i=n,n=(i+r)/2;return n}(e.currValue,e.exposureDur,e.repay),t=0;t<e.exposureDur;++t)r=(r-e.repay)*(1+e.growth),n.push(Math.round(r))}else if(e.liabTypeKey===o.fb.CLIENT_TAX_LIABILITY.Key){var i=e.currValue;for(n.push(Math.round(i)),t=1;t<e.exposureDur;++t)i=e.assetTaxLiabProj[t],n.push(Math.round(i))}else for(t=0;t<e.exposureDur;++t){var s=t<e.exposureDur?e.currValue:0,l=e.growthDirKey===o.Y.GROWS.Key?e.growth/100:-e.growth/100;a=s*Math.pow(1+l,t),n.push(a)}return n}function S(e,t,a,n,r){var i,s=parseFloat(b(e));for(i=0;i<r;++i)s+=t[n+i]*Math.pow(1/(1+a/100),n+i);return f(s,!1,2,",")}function N(e,t){var a,n=Math.min(t.length,e.length),r=[];for(a=0;a<n;++a)r.push(e[a]);for(a=0;a<n;++a)r[a]+=t[a];return r}function R(e){return Object.values(e).filter((function(e){return e.order>0})).slice(0).sort((function(e,t){return e.order-t.order}))}function x(e,t,a){var n=Object.values(e).find((function(e){return e.Key===t}));return n=void 0===n?"":n.value[a]}function j(e,t){t=t.split(" ").join("").split("\xa0").join("");var a=Object.values(e).find((function(e){return e.value.en.split(" ").join("").split("\xa0").join("")==t||e.value.fr.split(" ").join("").split("\xa0").join("")==t}));return a=void 0===a?0:a.Key}function w(e,t){var a=0;return e.Assets.forEach((function(e){e.assetTaxTypeKey===t&&(a+=e.currValue)})),a}function D(e){var t=[];return Object.values(e).forEach((function(){t.push(!1)})),t}function P(e,t){var a=0;return e.Assets.forEach((function(e){e.assetTypeKey===t&&(a+=e.currValue)})),a}function L(e,t){var a=0;return e.Liabilitys.forEach((function(e){e.liabTypeKey===t&&(a+=e.currValue)})),a}function F(e,t){var a=e[o.rb].Age,n=[];if(e.length>1)for(var r=e[o.tb].Age,i=0;i<parseFloat(t+4);i++)n.push(parseInt(a+i)+"/"+parseInt(r+i));else for(var s=0;s<parseFloat(t+4);s++)n.push(parseInt(a+s));return n}function K(e,t,a,n){return B.apply(this,arguments)}function B(){return(B=Object(i.a)(r.a.mark((function e(t,a,n,i){var s,o,l,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=0,o=t.Assets.filter((function(e){return e.assetTaxTypeKey===a})).slice(0),l=0;case 3:if(!(l<o.length)){e.next=11;break}return e.next=6,k(n,o[l].id,i);case 6:void 0!==(u=e.sent)&&(s+=u);case 8:++l,e.next=3;break;case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t,a){return _.apply(this,arguments)}function _(){return(_=Object(i.a)(r.a.mark((function e(t,a,n){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.b)(t,a);case 2:if(void 0===(i=e.sent)){e.next=6;break}if(void 0===i[o.m]){e.next=6;break}return e.abrupt("return",i[o.m].numericValues[n]);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return{adviserLogo:{image:null,left:0,size:o.ob,allPages:!1,top:!0,showDetails:!1},appletImage:{image:o.b?a(388):a(389),left:0,size:o.ob,allPages:!1,top:!0,showDetails:!1}}}function M(e,t){return e[o.rb].Income*(1-e[o.rb].avgTaxRate/100)+e[t].Income*(1-e[t].avgTaxRate/100)}function U(e){var t=o.ib.SPOUSE.Key,a=e.filter((function(e){return e.memberKey===t}));return o.b?void 0===a||0===a.length:!o.b&&void 0}function G(e){var t=0,a=0,n=0,r=o.ib.CLIENT.Key,i=e.filter((function(e){return e.memberKey!==r}));if(void 0!==i&&i.length>0){t=i.reduce((function(e,t){return e.Age<t.Age?e:t})).Age,a=i.reduce((function(e,t){return e.retirementAge>t.retirementAge?e:t})).retirementAge;var s=i.reduce((function(e,t){return e.Age-e.retirementAge<t.Age-t.retirementAge?e:t}));n=s.retirementAge-s.Age}return{projectionEnd:a,noProjectionYrs:n,survivorAge:t}}function q(e,t,a,n,r,i){var s=0,l=0,u=0,p=0,c=0;if(n.length>0&&(s=t===o.S?n[o.S].Value:t===o.O?n[o.O].Value:t===o.P?S(n[o.O].Value,r,i.invRate,a.joint,3):n[o.M].Value,l=n[o.S].Value,u=n[o.O].Value,c=n[o.M].Value,p=void 0!==r?S(n[o.O].Value,r,i.invRate,a.joint,3):s),U(e)&&!o.a){var d=G(e);return d.insuranceNeed=l,d.insuranceNeedToRet=l,d.insuranceNeedToLE=l,d.insuranceNeedToLE3=l,d.insuranceNeedToEnd=l,d}var g,h=65,b=0;if(o.a)if(1===e.length)b=(h=a.client+e[o.rb].Age+3)-e[o.rb].Age,g=e[o.rb].Age;else{var m=Math.min(e[o.rb].Age,e[o.tb].Age);b=(h=a.joint+m+3)-m,g=m}else e.length>1?(b=(h=t===o.S?e[1].retirementAge:t===o.O?a.spouse+e[1].Age:t===o.L?a.joint+e[1].Age+3:100)-e[1].Age,g=e[1].Age):(g=e[o.rb].Age,b=0);return{projectionEnd:h,noProjectionYrs:b,survivorAge:g,insuranceNeed:s,insuranceNeedToRet:l,insuranceNeedToLE:u,insuranceNeedToLE3:p,insuranceNeedToEnd:c}}function Y(e,t,a,n,r,i,s,l){var u=c.b[a],p="en"===a?".":",",d="en"===a?",":" ",g="fr"===a,h=e.periodOption===o.S?r?u.insNeedsSingleFamily:u.insNeedsRet:e.periodOption===o.M?u.insNeeds100:u.insNeedsRetLE;return n?h=u.addSurvivor:r?h+=+i+u.years+": $"+E(b(s,g),0,p,d):e.periodOption!==o.M?h+=+t+"): $"+E(b(s,g),0,p,d):h+=": $"+E(b(s,g),0,p,d),""!==l&&void 0!==l&&l!==o.wb[a].insured&&(h+="  ("+l+")"),h}function H(e,t){return""!==e&&void 0!==e&&e!==o.wb[t].insured&&e!==o.wb[t].benef?" ("+e+")":""}function z(e,t,a,n,r,i){var s={responsive:!0,maintainAspectRatio:!0,title:{display:!0,position:"top",text:"",fontSize:14,fontColor:"#111"},legend:{display:!0,position:"right",labels:{fontColor:"#333",fontSize:12}}},o="                                       ",l=JSON.parse(JSON.stringify(s));l.title.text=d.i[r].graphsLeakageT2+o;var u=JSON.parse(JSON.stringify(s));u.title.text=d.i[r].graphsLeakageT3+o;for(var p=0,c=0,g="fr"===r,h=0;h<e.length;++h)p+=e[h].currValue,c+=parseFloat(b(t[h].grid.dataProjection[2][i+3],g));var m=parseInt(n[0]),f=parseInt(n[i+3]),y=p-m===0?0:parseInt(100*(p-m-a.EstateLiabsByTypeTotal)/(p-m)+.5),E=0===a.EstateLiabsByTypeTotal?0:100-y,v=[],T=[];v.push(p-m-a.EstateLiabsByTypeTotal>=0?p-m-a.EstateLiabsByTypeTotal:0),v.push(a.EstateLiabsByTypeTotal),T.push(c-f-a.EstateLiabsByTypeLE3Total>=0?c-f-a.EstateLiabsByTypeLE3Total:0),T.push(a.EstateLiabsByTypeLE3Total);var A=c-f===0?0:parseInt(100*(c-f-a.EstateLiabsByTypeLE3Total)/(c-f)+.5),O=a.EstateLiabsByTypeLE3Total+c-f===0?0:100-A;return{dataPieEstateLeakage:{labels:[d.i[r].graphsLeakage1+" ("+y+"%)"+o,d.i[r].graphsLeakage2+" ("+E+"%)"+o],datasets:[{data:v,backgroundColor:["#4D7966","#872651"]}]},dataPieEstateLeakageLE:{labels:[d.i[r].graphsLeakage1+" ("+A+"%)"+o,d.i[r].graphsLeakage2+" ("+O+"%)"+o],datasets:[{data:T,backgroundColor:["#4D7966","#872651"]}]},optionsPieEstateLeakage:l,optionsPieEstateLeakageLE:u}}function Q(e,t,n){var r=e.Presentations[0].language,i=null!==e.Presentations[0].adviserLogo.image&&e.Presentations[0].adviserLogo.allPages,s=void 0===e.Presentations[0].appletImage?o.b?a(388):a(389):e.Presentations[0].appletImage.image,l=Math.max(h.d/h.f*500,Math.min(h.d/h.f*500,h.d/h.f*100*e.Presentations[0].adviserLogo.size/o.ob)),p=e.Presentations[0].adviserLogo.size/2+e.Presentations[0].adviserLogo.left-l/2,c=i&&u.a.createElement(g.a,{image:e.Presentations[0].adviserLogo.image,showDetails:!1,size:l,imageLeft:p,ID:o.cb}),d=e.Presentations[0].adviserLogo.top;return{logoSize:l,logoLeft:p,logoTop:d?c:"",logoBottom:d?"":c,logo1stPage:void 0!==e.Presentations[0].adviserLogo.image&&u.a.createElement(g.a,{image:e.Presentations[0].adviserLogo.image,showDetails:!0,size:e.Presentations[0].adviserLogo.size,imageLeft:e.Presentations[0].adviserLogo.left,allPages:e.Presentations[0].adviserLogo.allPages,top:e.Presentations[0].adviserLogo.top,imageRemove:t,imageAdjust:n,buttonText:"en"===r?"Add/Edit logo":"Add/Edit logo ^F",ID:o.bb,language:r}),applet:u.a.createElement(g.a,{image:s,showDetails:!1,size:o.ob,imageLeft:0,imageAdjust:n,buttonText:"en"===r?"Replace Applet image":"Replace Applet image ^F",language:r,top:!0,ID:o.b?o.ab:o.Z})}}e.langFr=(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage).toString().indexOf("fr")>=0}).call(this,a(36))},24:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"t",(function(){return g})),a.d(t,"q",(function(){return h})),a.d(t,"v",(function(){return b})),a.d(t,"r",(function(){return m})),a.d(t,"n",(function(){return f})),a.d(t,"u",(function(){return y})),a.d(t,"w",(function(){return E})),a.d(t,"j",(function(){return v})),a.d(t,"i",(function(){return T})),a.d(t,"k",(function(){return A})),a.d(t,"l",(function(){return O})),a.d(t,"m",(function(){return I})),a.d(t,"s",(function(){return C})),a.d(t,"o",(function(){return S})),a.d(t,"y",(function(){return N})),a.d(t,"f",(function(){return R})),a.d(t,"p",(function(){return x})),a.d(t,"x",(function(){return j})),a.d(t,"h",(function(){return w})),a.d(t,"g",(function(){return D}));var n=a(0),r=a.n(n),i=a(32),s=(a(1),0),o=1,l=3,u=4,p={color:"#6f2852",fontWeight:"bold"},c={en:{infoYr0:"INA"===i.appletMode?"Year 0 stands for 'at death'":"Year 0 stands for 'today'",infoRetDur:"Duration to retirement is \u2026 years",infoAvgTax:r.a.createElement("div",null," ","Survivor's ",r.a.createElement("span",{style:p},"Avg. Tax Rate")," is applied to annual income, interest and annual asset disposition. ",r.a.createElement("br",null),r.a.createElement("span",{style:p},"Marginal Tax Rate "),"(under Presentation Details) is applied to planned or potential full disposition of an asset"),infoAdjust:"Adjust Income Needs and Income Source durations to end age (99) or Life Expectancy of",clientOnly:"Needs Analysis is always done for family member \u2018Client\u2019",infoElig:r.a.createElement("div",null," ","Survivor's and orphan's benefits are based on Client's eligibility",r.a.createElement("br",null),"Set ",r.a.createElement("span",{style:p},"Province"),' under "Presentation Details" for CPP or QPP'),infoSpouseElig:"The Survivor is assumed to be fully eligible for government benefits by the age of 65",ever:" ... for ever",taxMsg:"Tax methods need to be discussed with your financial advisor",fetch:"Failed to connect to the server",ie:"Please use Edge or Chrome browsers for graphs and full functionality",govB:r.a.createElement("div",null,"Do not delete government benefits. ",r.a.createElement("br",null),"To adjust them, change"," ",r.a.createElement("span",{style:p},'Client\'s "CPP Eligibility"')),assetTax:"Please use after tax asset values until Tax Method becomes available",internet:"You need to login to the PPI site again.You can save your data before clicking on this message or use 'Recover' in INA to reload your input data.Please click to refresh.",RRIF:"RRIF is reflected in survivor's income based on their own or rolled-over RRSP. Maximum withdrawal age is 71",rollOver:"Client's assets can usually be rolled-over to their spouse to avoid liquidation",rental:"This is rental income for Real Estate and Dividend income for Stocks. Both as a % of Current Value",note:"Pull down on lower bottom to enlarge. A few small paragraphs can be saved (up to 5000 characters)",save:r.a.createElement("div",null,"To save files to your desired location:",r.a.createElement("br",null),r.a.createElement("span",{style:p},"Microsoft Edge:"),r.a.createElement("li",null,"Go to menu ..., Downloads, Download Settings"),r.a.createElement("span",{style:p},"Google Chrome:"),r.a.createElement("li",null,"Go to menu ..., Settings, Advanced, Downloads"),r.a.createElement("span",{style:p},"then in either browser:"),r.a.createElement("li",null,'Turn on "Ask where to save each file before downloading"')),gridCapFund:"Capital Fund consists of Additianal Capital required (Insurance Needs) less Additional Income Required, accruing at afer-tax 'Investment Rate'",salary:"Gross income, government benefits and other annual income types are assumed to grow at inflation rate",salaryPercent:"The After-tax value is shown in today's dollars. It will grow at inflation rate",afterTax:"All amounts are after tax",taxExempt:r.a.createElement("div",null,"Small Business"," ",r.a.createElement("span",{style:p},"Capital Gains Tax Exemption")," is assumed to grow at inflation rate"),infoINA:"This amount is based on the present value of shortfalls, discounted at the after tax investment rate. It is adjusted if necessary, to make sure early shortfalls are provided for",infoBOYEOY:"BOY stands for Beginning of Year and EOY for End of Year"},fr:{infoYr0:"INA"===i.appletMode?"L\u2019ann\xe9e 0 est l\u2019ann\xe9e du d\xe9c\xe8s":"L\u2019ann\xe9e 0 repr\xe9sente aujourd'hui",infoRetDur:"Le nombre d\u2019ann\xe9es avant la retraite est de .... ans",infoAvgTax:r.a.createElement("div",null,"Le taux d\u2019imposition marginal (sous la rubrique \xab Pr\xe9cisions sur la pr\xe9sentation \xbb) s\u2019applique \xe0 la disposition planifi\xe9e ou potentielle compl\xe8te d\u2019un actif."," ",r.a.createElement("span",{style:p},"Le taux d\u2019imposition moyen")," du survivant s\u2019applique au revenu annuel, aux int\xe9r\xeats et \xe0 la disposition annuelle des actifs.",r.a.createElement("br",null),r.a.createElement("span",{style:p},"Le taux d\u2019imposition marginal"," ")," ","(sous la rubrique \xab Pr\xe9cisions sur la pr\xe9sentation \xbb) s\u2019applique \xe0 la disposition planifi\xe9e ou potentielle compl\xe8te d\u2019un actif."),infoAdjust:"Ajuster les besoins de revenu et les dur\xe9es de la source de revenu \xe0 ^F end age (99) or l'esp\xe9rance de vie de",clientOnly:"L\u2019analyse des besoins est toujours effectu\xe9e pour le \xabclient\xbb membre de la famille",infoElig:r.a.createElement("div",null,"Les prestations du survivant et de l\u2019orphelin sont bas\xe9es sur l\u2019admissibilit\xe9 du client",r.a.createElement("br",null),"D\xe9finir"," ",r.a.createElement("span",{style:p},"la province")," (RPC ou RRQ) \xe0 la rubrique 'Pr\xe9cisions sur la pr\xe9sentation'"),infoSpouseElig:"Le survivant est suppos\xe9 \xeatre pleinement admissible aux prestations gouvernementales avant l\u2019\xe2ge de 65 ans",ever:" ... pour toujours",taxMsg:"Les m\xe9thodes fiscales doivent \xeatre discut\xe9es avec votre conseiller financier",fetch:"D\xe9faut de connexion au serveur",ie:"s'il vous pla\xeet utiliser les navigateurs Edge ou Chrome pour les graphiques et les fonctionnalit\xe9s compl\xe8tes",govB:r.a.createElement("div",null,"Ne supprimez pas les prestations gouvernementales. ",r.a.createElement("br",null),"Pour les ajuster, modifier"," ",r.a.createElement("span",{style:p},"l'admissibilit\xe9 du client")),assetTax:"Veuillez utiliser les valeurs des actifs apr\xe8s imp\xf4t jusqu'\xe0 ce que la m\xe9thode d'imposition devienne disponibl",internet:"  Vous devez vous connecter \xe0 nouveau au site PPI.Vous pouvez enregistrer vos donn\xe9es avant de cliquer sur ce messagepour recharger vos donn\xe9es d'entr\xe9e.S'il vous pla\xeet cliquez pour rafra\xeechir.",RRIF:"Le FERR est pris en compte dans le revenu du survivant sur la base de son propre REER ou d\u2019un REER transf\xe9r\xe9. L\u2019\xe2ge maximal pour retirer des fonds est de 71 ans.",rollOver:"Les actifs du client peuvent habituellement \xeatre transf\xe9r\xe9s au conjoint pour \xe9viter une liquidation.",rental:"Il s\u2019agit du revenu de location li\xe9 aux biens immobiliers et du revenu de dividende li\xe9 aux actions. Il s\u2019agit dans les deux cas d\u2019un pourcentage de la valeur actuelle.",note:"Abaissez le bord inf\xe9rieur pour agrandir. Quelques petits paragraphes peuvent \xeatre enregistr\xe9s (jusqu\u2019\xe0 5 000 caract\xe8res).",save:r.a.createElement("div",null,"Pour enregistrer les fichiers \xe0 l\u2019emplacement voulu :",r.a.createElement("br",null),r.a.createElement("span",{style:p},"Microsoft Edge:"),r.a.createElement("li",null,"Aller au menu..., T\xe9l\xe9chargements, Param\xe8tres de t\xe9l\xe9chargement"),r.a.createElement("span",{style:p},"Google Chrome:"),r.a.createElement("li",null,"Aller au menu..., Param\xe8tres, Param\xe8tres avanc\xe9s, T\xe9l\xe9chargements"),r.a.createElement("span",{style:p},"puis dans l\u2019un ou l\u2019autre des navigateurs :"),r.a.createElement("li",null,"Activer la fonction \xab Me demander quoi faire avec chaque t\xe9l\xe9chargement \xbb ou \xab Toujours demander o\xf9 enregistrer les fichiers \xbb.")),gridCapFund:"Le fonds de capitaux est constitu\xe9 du capital additionnel requis (besoins d\u2019assurance), diminu\xe9 du revenu additionnel requis et accru du taux de rendement apr\xe8s imp\xf4t.",salary:"Le revenu brut, les prestations de l\u2019\xc9tat et les autres types de revenus annuels sont pr\xe9sum\xe9s cro\xeetre au taux d\u2019inflation",salaryPercent:"La valeur apr\xe8s imp\xf4t est indiqu\xe9e en dollars d\u2019aujourd\u2019hui. Il augmentera au taux d\u2019inflation",afterTax:"Tous les montants sont apr\xe8s imp\xf4t",taxExempt:r.a.createElement("div",null," ",r.a.createElement("span",{style:p},"Exon\xe9ration des gains en capital")," ","pour les petites entreprises est pr\xe9sum\xe9e cro\xeetre au taux d\u2019inflation"),infoINA:"Ce montant est bas\xe9 sur la valeur actualis\xe9e des manques \xe0 gagner en mati\xe8re de revenus, actualis\xe9e au taux de rendement apr\xe8s imp\xf4t. Il est ajust\xe9, si n\xe9cessaire, pour s'assurer que des manque \xe0 gagner pr\xe9coces sont pr\xe9vus",infoBOYEOY:"BOY stands for Beginning of Year and EOY for End of Year ^F"}};function d(e){return{infoID:"infoGenericMsg",infoText:"",iconMode:l,popupOpenByProps:!0,popupBorderColor:"red",position:{marginLeft:-67,marginTop:5,width:170,height:100}}}function g(e){return{infoID:"infoExempt",infoText:c[e].taxExempt,iconMode:o,popupOpenByProps:!1,popupBorderColor:"#7399C6",position:{marginLeft:-67,marginTop:0,width:160,height:100}}}function h(e){return{infoID:"infogov",infoText:c[e].govB,iconMode:2,popupOpenByProps:!1,popupBorderColor:"red",position:{marginLeft:-55,marginTop:0,width:140,height:100}}}function b(e){return{infoID:"infoNoInternetAccess",infoText:c[e].internet,iconMode:l,popupOpenByProps:!0,popupBorderColor:"red",position:{marginLeft:-67,marginTop:5,width:220,height:100}}}function m(e){return{infoID:"RRIF",infoText:c[e].RRIF,iconMode:o,popupOpenByProps:!1,popupBorderColor:"#7399C6",position:{marginLeft:-67,marginTop:0,width:140,height:100}}}function f(e){return{infoID:"infoMember",infoText:c[e].clientOnly,iconMode:o,popupOpenByProps:!1,popupBorderColor:"#7399C6",position:{marginLeft:-55,marginTop:0,width:140,height:100}}}function y(e){return{infoID:"infosalary",infoText:c[e].salary,iconMode:o,popupOpenByProps:!1,popupBorderColor:"#7399C6",position:{marginLeft:-55,marginTop:0,width:140,height:100}}}function E(e){return{infoID:"infoSalaryPercent",infoText:c[e].salaryPercent,iconMode:o,popupOpenByProps:!1,popupBorderColor:"#7399C6",position:{marginLeft:-67,marginTop:0,width:140,height:100}}}function v(e){return{infoID:"infoIconIncomeRate",infoText:c[e].rental,iconMode:o,popupOpenByProps:!1,popupBorderColor:"#7399C6",position:{marginLeft:-67,marginTop:0,width:140,height:100}}}function T(e){return{infoID:"infoINA",infoText:c[e].infoINA,iconMode:o,popupOpenByProps:!1,popupBorderColor:"#7399C6",position:{marginLeft:-67,marginTop:0,width:190,height:100}}}function A(e){return{infoID:"infoIconOwner",infoText:c[e].rollOver,iconMode:o,popupOpenByProps:!1,popupBorderColor:"#7399C6",position:{marginLeft:-55,marginTop:0,width:140,height:100}}}function O(e){return{infoID:"infoIconYr0",infoText:c[e].infoYr0,iconMode:o,popupOpenByProps:!1,popupBorderColor:"#7399C6",position:{marginLeft:-55,marginTop:0,width:140,height:100}}}function I(e){return{infoID:"infoIconElig",infoText:c[e].infoElig,iconMode:o,popupOpenByProps:!1,popupBorderColor:"#7399C6",position:{marginLeft:-61,marginTop:0,width:165,height:100}}}function C(e){return{infoID:"infoIconSpouseElig",infoText:c[e].infoSpouseElig,iconMode:o,popupOpenByProps:!1,popupBorderColor:"#7399C6",position:{marginLeft:-61,marginTop:0,width:165,height:100}}}function S(e){return{infoID:"infoIconAvgTax",infoText:c[e].infoAvgTax,iconMode:o,popupOpenByProps:!1,popupBorderColor:"#7399C6",position:{marginLeft:-87,marginTop:0,width:210,height:100}}}function N(e){return{infoID:"infoIconAvgTax",infoText:c[e].infoAvgTax,iconMode:u,popupOpenByProps:!1,popupBorderColor:"#7399C6",position:{marginLeft:-155,marginTop:0,width:210,height:100}}}function R(e){return{infoID:"infoBOYEOY",infoText:c[e].infoBOYEOY,iconMode:u,popupOpenByProps:!1,popupBorderColor:"#7399C6",position:{marginLeft:-137,marginTop:45,width:175,height:100}}}function x(e){return{infoID:"InfoIconNotes",infoText:c[e].note,iconMode:o,popupOpenByProps:!1,popupBorderColor:"#7399C6",position:{marginLeft:-47,marginTop:0,width:210,height:100}}}function j(e){return{infoID:"InfoSave",infoText:c[e].save,iconMode:o,popupOpenByProps:!1,popupBorderColor:"#7399C6",position:{marginLeft:1,marginTop:-172,width:378,height:-150}}}function w(e){return{infoID:"InfoSave",infoText:c[e].gridCapFund,iconMode:u,popupOpenByProps:!1,popupBorderColor:"#7399C6",position:{marginLeft:-155,marginTop:35,width:210,height:100}}}function D(e){return{infoID:"InfoATax",infoText:c[e].afterTax,iconMode:u,popupOpenByProps:!1,popupBorderColor:"#7399C6",position:{marginLeft:-37,marginTop:45,width:160,height:100}}}},27:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return c}));var n=a(15),r=a(16),i=a(18),s=a(17),o=a(0),l=a.n(o),u=a(2),p=a(42),c=function(t){Object(i.a)(o,t);var a=Object(s.a)(o);function o(e){var t;return Object(n.a)(this,o),(t=a.call(this,e)).getInut=function(e){var a,n,r=e.target.value;n="fr"===t.props.language&&3===t.props.format?Object(u.b)(r,!0):Object(u.b)(r),a=!isNaN(n.replace(",","."))&&""!==r||"."===r.toString()[r.toString().length-1]||","===r.toString()[r.toString().length-1]?n:r.substring(0,r.length-1);var i=2===t.props.format?void 0===t.props.maxValue?1e9:t.props.maxValue:void 0===t.props.maxValue?100:t.props.maxValue;a>i&&(a=i);var s=void 0===t.props.minValue?0:t.props.minValue;return a<s&&(a=s),a},t.handleFocus=function(e){navigator.userAgent.match(/Edge\/(13|14|15|16|17)/)||e.target.select()},t.selectField=function(e){navigator.userAgent.match(/Edge\/(13|14|15|16|17)/)&&e.target.setSelectionRange(0,e.target.value.length)},t.onMouseUpSelect=function(e){/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&e.target.select()},t.handleFocusIOS=function(e){e.target.value=Object(u.b)(e.target.value)},t.toggleEditing=function(e){var a=t.getInut(e);t.setState({inputValue:a,isEditing:!t.state.isEditing},(function(){return t.afterStateUpdate()}))},t.getValue=function(e){var t=e.toString().indexOf(".");return 0===e.toString()[0]&&-1===t?parseFloat(100*e.toString().slice(1,e.toString().length))/100:parseFloat(100*e)/100},t.selectText=function(){var e=t.refs.InputTxt.value;e.length&&window.setTimeout((function(){this.refs.InputTxt.setSelectionRange(e.length-1,e.length)}),0)},t.getRidOfZerosAfterDecimal=function(e){var t=e.indexOf(".");if(t>=0)for(e.length>=t+3&&(e=e.substring(0,t+3));"0"===e.slice(-1)&&e.length>t+3;)e=e.substring(0,e.length-1);return e},t.state={inputValue:t.props.inputValue,isEditing:!1},t}return Object(r.a)(o,[{key:"componentWillReceiveProps",value:function(e){e.inputValue!==this.props.inputValue&&this.setState({inputValue:e.inputValue})}},{key:"updateInputValue",value:function(e){var t=this.getInut(e);this.setState({inputValue:t})}},{key:"afterStateUpdate",value:function(){this.props.handleUpdateInput(this.props.id,this.state.inputValue)}},{key:"toFormat",value:function(t){var a=this.props.language;return t="fr"!==a&&!e.langFr||3!==this.props.format?Object(u.b)(t):Object(u.b)(t,!0),(isNaN(t)||""===t)&&(t=0),2===this.props.format?("fr"===a?"":"$")+new Intl.NumberFormat(a).format(parseInt(t)):3===this.props.format?"fr"===a?("."===t.toString()[t.toString().length-1]?parseFloat(t)+",":parseFloat(t)).toString().replace(".",","):"."===t.toString()[t.toString().length-1]?parseFloat(t)+".":parseFloat(t):parseInt(t)}},{key:"render",value:function(){var e=this,t=void 0!==this.state.inputValue?this.state.inputValue.toString():"";t.indexOf(".")>=0&&(t=this.getRidOfZerosAfterDecimal(t));var a=this.props.inputName,n=!!this.props.readOnly,r=n?"inputField inputFieldDisabled":"inputField",i=(r+="fr"===this.props.language?" inputFieldFrench":"")+(3===this.props.format||2===this.props.format&&"fr"===this.props.language?" percentField":""),s="dropDown inputDiv";s+="fr"===this.props.language?" inputDivFrench":"";var o=void 0===this.props.colorDiv?{}:{border:"1px solid "+this.props.colorDiv};void 0!==this.props.info&&(!0===this.props.showInfo||this.props.showInfo);var u=3===this.props.format;return"fr"===this.props.language&&2===this.props.format?l.a.createElement("div",{className:s,french:"en"===this.props.language?"true":"false"},l.a.createElement("div",{className:"controlTitle"},a,void 0!==this.props.infoIcon?l.a.createElement(p.a,{infoIcon:this.props.infoIcon}):""),l.a.createElement("div",{className:r},l.a.createElement("span",null,l.a.createElement("input",{type:"text",className:i,style:{paddingTop:"0px",width:"86%"},inputMode:"decimal",disabled:n,value:this.toFormat(t),autoFocus:!0,onFocus:function(t){return e.handleFocus(t)},onMouseUp:this.onMouseUpSelect,onClick:this.selectField,onChange:function(t){return e.updateInputValue(t)},onBlur:this.toggleEditing.bind(this)}),l.a.createElement("label",{style:{display:"inline-block",float:"left",width:"3%"}},"$")))):l.a.createElement("div",{className:s,french:"en"===this.props.language?"true":"false"},l.a.createElement("div",{className:"controlTitle"},a,void 0!==this.props.infoIcon?l.a.createElement(p.a,{infoIcon:this.props.infoIcon}):""),l.a.createElement("div",null,!1===u?l.a.createElement("div",null,l.a.createElement("input",{style:o,type:"text",key:"if",className:r,inputMode:"decimal",disabled:n,value:this.toFormat(t),onFocus:function(t){return e.handleFocus(t)},onClick:this.selectField,onMouseUp:this.onMouseUpSelect,onChange:function(t){return e.updateInputValue(t)},onBlur:this.toggleEditing.bind(this)})):l.a.createElement("div",{className:r},l.a.createElement("span",null,l.a.createElement("input",{type:"text",key:"if1",className:i,style:{paddingTop:"0px",width:"86%"},inputMode:"decimal",disabled:n,value:this.toFormat(t),onFocus:function(t){return e.handleFocus(t)},onMouseUp:this.onMouseUpSelect,onClick:this.selectField,onChange:function(t){return e.updateInputValue(t)},onBlur:this.toggleEditing.bind(this)}),l.a.createElement("label",{style:{display:"inline-block",float:"left",width:"3%"}},"%")))))}}]),o}(o.Component)}).call(this,a(36))},32:function(e){e.exports=JSON.parse('{"name":"toolkitdirect","version":"1.0.9","buildMode":1,"comments":{"buildModeGuide":"0 is for local, 1 for test-tkdirect, 2 for production toolkitdirect  1 or 2 both work as proxy takes care","proxyGuide":"for test-tkdirect use https://test-tkdirectapi.ppi.ca, for production toolkitdirect use https://privateapi.ppi.ca/ToolkitDirect","proxyReason":"having same URL as the caller of the API via this proxy, makes it same-origin (hence no preflight call). Proxy Server wrapper redirects to the proper API site "},"appletMode":"EP","comments2":{"INA":"for INA","EP":"for estate protection"},"private":true,"dependencies":{"@material-ui/core":"^4.11.0","@material-ui/icons":"^4.9.1","@material-ui/styles":"^4.10.0","chart.js":"^2.9.3","file-saver":"^2.0.2","isomorphic-fetch":"^2.2.1","jspdf":"^2.0.0","lodash.debounce":"^4.0.8","mui-datatables":"^2.15.0","prop-types":"^15.7.2","query-string":"^6.13.1","react":"^16.13.1","react-bootstrap":"^1.3.0","react-chartjs-2":"^2.10.0","react-data-export":"^0.5.0","react-dom":"^16.13.1","react-loader-spinner":"^3.1.14","react-router-dom":"^5.2.0","react-scripts":"^3.4.2","react-select":"^3.1.0","safe-buffer":"^5.2.1","shortid":"^2.2.15","validatorjs":"^3.18.1","xlsx":"^0.15.6"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","debug":"node --nolazy --debug-brk=5858 app.js","generate-build-version":"node generate-build-version","prebuild":"npm run generate-build-version","postbuild":"node iisConfig/copyIISConfig.js"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@babel/core":"^7.5.5","@babel/preset-env":"^7.5.5","@babel/preset-react":"^7.0.0","babel-eslint":"^10.1.0","eslint-config-prettier":"^6.11.0","eslint-config-react":"^1.1.7","eslint-plugin-prettier":"^3.1.4","prettier":"^2.0.5"}}')},338:function(e,t){},339:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=339},388:function(e,t,a){e.exports=a.p+"static/media/INA.07a8e16f.png"},389:function(e,t,a){e.exports=a.p+"static/media/estate.protection.applet.cover.graphic.d3f3dbc3.png"},39:function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"f",(function(){return p})),a.d(t,"b",(function(){return h})),a.d(t,"c",(function(){return y})),a.d(t,"a",(function(){return v})),a.d(t,"h",(function(){return A})),a.d(t,"g",(function(){return I})),a.d(t,"i",(function(){return S}));var n=a(10),r=a.n(n),i=a(13),s=(a(90),a(1));function o(){var e=parseInt(localStorage.getItem("INAAPIFails"));return fetch(s.Ab+"/api/MCC_Carriers?id=1").then((function(e){e.json()})).then((function(e){return console.log("timer API check")})).catch((function(t){e||(e=0),e++,localStorage.setItem("INAAPIFails",parseInt(e))})),e}function l(e,t){return Promise.all([u(e,t)])}function u(e,t){var a=s.Ab+"/api/MCC_OutputArrays/";return fetch(a,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(!1===e.ok)throw Error(e.statusText);return e})).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log("handleFetchMCCData failed: "+e)}))}function p(e,t){return c.apply(this,arguments)}function c(){return(c=Object(i.a)(r.a.mark((function e(t,a){var n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(s.Ab+"/api/RATES?type="+t+"&province="+a);case 3:return n=e.sent,e.next=6,n.json();case 6:return i=e.sent,e.abrupt("return",(Math.round(1e4*parseFloat(i))/1e4).toFixed(4));case 10:e.prev=10,e.t0=e.catch(0),console.log("error, rates API failed",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function d(e,t){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(r.a.mark((function e(t,a){var n,i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,void 0!==a&&(t.projectionSettings.province=a,t.lives[1].isQC="QC"===a),n=s.Ab+"/api/NA_OutputAll/",e.next=5,fetch(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 5:return i=e.sent,e.next=8,i.json();case 8:return o=e.sent,console.log(t,o),e.abrupt("return",{ages:o[1],govCF:o[3],personalCF:o[4],needs:o[5],shortfall:o[6],cpp:o[7].Values[0],cppDB:Math.round(o[8].Values[0]),orphan:Math.round(o[9].Values[0]),lifeExp:Math.round(o[12].Values[0]),lifeExpClient:Math.round(o[13].Values[0]),lifeExpJLTD:Math.round(o[14].Values[0]),provinceMargTax:o[15].Values[0],dataTaxLiability:o[16],encryptedInput:o[17].Values[0]});case 13:e.prev=13,e.t0=e.catch(0),console.log("error, InsuranceNeedsData API failed",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function h(e,t){return b.apply(this,arguments)}function b(){return(b=Object(i.a)(r.a.mark((function e(t,a){var n,i,o,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=s.Ab+"/api/NA_AssetProjection/",void 0===a&&(a=0),(i={}).lives=t.lives,i.asset=t.assets[a-1],i.projectionSettings=t.projectionSettings,i.ratesPack=t.ratesPack,e.next=10,fetch(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)});case 10:return o=e.sent,e.next=13,o.json();case 13:return l=e.sent,e.abrupt("return",l);case 17:e.prev=17,e.t0=e.catch(0),console.log("error, Asset proj API failed",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function m(e,t){return f.apply(this,arguments)}function f(){return(f=Object(i.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t,a);case 2:if(void 0===(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return E.apply(this,arguments)}function E(){return(E=Object(i.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{dataColTitles:[],dataValues:[]},e.next=3,m(t,a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t){return T.apply(this,arguments)}function T(){return(T=Object(i.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t,a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){return O.apply(this,arguments)}function O(){return(O=Object(i.a)(r.a.mark((function e(t,a){var n,i,o,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=s.Ab+"/api/NA_InsuranceNeeds/",e.next=4,fetch(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return i=e.sent,e.next=7,i.json();case 7:return o=e.sent,e.next=10,d(t,a.Presentations[0].provincekey);case 10:if(l=e.sent,void 0===o||void 0===l){e.next=14;break}return console.log("POST: NA_OutputAll success"),e.abrupt("return",{dataInsuranceNeeds:o,dataNAAges:l.ages,dataCashFlowGov:l.govCF,dataCashFlowPersonal:l.personalCF,dataCashFlowNeeds:l.needs,dataShortfall:l.shortfall,cpp:l.cpp,cppDB:l.cppDB,orphan:l.orphan,lifeExp:l.lifeExp,lifeExpClient:l.lifeExpClient,lifeExpJLTD:l.lifeExpJLTD,provinceMargTax:l.provinceMargTax,dataTaxLiability:l.dataTaxLiability,encryptedInput:l.encryptedInput});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("error, rates API failed",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function I(e){return C.apply(this,arguments)}function C(){return(C=Object(i.a)(r.a.mark((function e(t){var a,n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=s.Ab+"/api/NA_QS?QS="+t,e.prev=2,e.next=5,fetch(a);case 5:return n=e.sent,e.next=8,n.json();case 8:return i=e.sent,e.abrupt("return",i);case 12:e.prev=12,e.t0=e.catch(2),console.log("error, handleFetchINADataFromQueryString failed",e.t0);case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(0),console.log("error, handleFetchINADataFromQueryString",e.t1);case 20:case"end":return e.stop()}}),e,null,[[0,17],[2,12]])})))).apply(this,arguments)}function S(e){return N.apply(this,arguments)}function N(){return(N=Object(i.a)(r.a.mark((function e(t){var a,n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=s.Ab+"/api/NA_QS/",e.next=4,fetch(a,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return n=e.sent,e.next=7,n.json();case 7:if(void 0===(i=e.sent)){e.next=10;break}return e.abrupt("return",i);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("handleFetchQueryString",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}},4:function(e,t,a){"use strict";a.d(t,"b",(function(){return p})),a.d(t,"i",(function(){return c})),a.d(t,"e",(function(){return d})),a.d(t,"a",(function(){return g})),a.d(t,"d",(function(){return h})),a.d(t,"c",(function(){return b})),a.d(t,"h",(function(){return m})),a.d(t,"f",(function(){return f})),a.d(t,"g",(function(){return y}));var n=a(15),r=a(16),i=a(18),s=a(17),o=a(0),l=a(265),u=a.n(l),p="Helvetica",c="Times",d="normal",g="bold",h=.38,b=function(e){return 25*e},m=function(e){return e/96*72},f=11,y=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).AddImage=function(e,t,a,n,i){if(null!==r.pdf){var s=document.getElementById(e),o=r.pdf.getImageProperties(s),l=o.height*n/o.width;l>i?n=o.width*i/o.height:i=l,r.pdf.addImage(document.getElementById(e),"png",t,a,n,i)}},r.AddImageFitWidthOnly=function(e,t,a,n,i){if(null!==r.pdf){var s=document.getElementById(e);if(null!==s)try{var o=r.pdf.getImageProperties(s),l=o.height*n/o.width;return l>i&&(t+n>3*b(8.4)/4?t+=n-n*i/l:t+n*i/l/2>b(8.4)/4&&(t+=n/2-n*i/l/2),n*=i/l,l=i),r.pdf.addImage(s,"png",t,a,n,l),!0}catch(u){return!1}}},r.addCustomImage=function(e,t,a,n,i){var s=null===a||void 0===a?0:6.4*a.left/100;return r.AddImageFitWidthOnly(e,b(t-3+s),b(n?i?1.06:10.875:i?.29:10.875),b(6.04*a.size/100),b(n&&i?2.76:h))},r.AddChart=function(e,t,a,n,i){if(null!==r.pdf){var s=document.getElementById(e),o=null;null!==s&&1===s.getElementsByClassName("chartjs-render-monitor").length&&(o=s.getElementsByClassName("chartjs-render-monitor")[0]);var l=o.toDataURL();null!==l&&r.pdf.addImage(l,"JPEG",t,a,n,i)}},r.AddCanvas=function(e,t,a,n,i){if(null!==r.pdf){var s=null,o=null;null!==(s=document.getElementById(e))&&(o=s.toDataURL()),null!==o&&r.pdf.addImage(o,"JPEG",t,a,n,i)}},r.AddPage=function(e){null!==r.pdf&&r.pdf.addPage("",e)},r.Create=function(){null===r.pdf&&(r.pdf=new u.a({orientation:"portrait",unit:"pt",format:"letter"}))},r.ShowGrids=function(){return r.showGrids},r.ShowGrids=function(e){r.showGrids=e},r.Grid=function(){if(null!==r.pdf&&!1!==r.showGrids){var e,t;for(r.pdf.setFontSize(12),r.pdf.setFont(p,d),r.pdf.setTextColor(0,136,0),r.pdf.text("0",0,12),e=1;e<=8;e++)r.pdf.text(""+e,b(e),12);for(t=1;t<=11;t++)r.pdf.text(""+t,0,b(t));for(e=.25;e<=8.5;e+=.25)for(t=.25;t<=11;t+=.25)r.pdf.text(".",b(e),b(t));for(r.pdf.setFont(p,g),r.pdf.setFontSize(16),e=1;e<=8;e+=1)for(t=1;t<=11;t+=1)r.pdf.text(".",b(e),b(t));null!==r.fontSize&&r.pdf.setFontSize(r.fontSize),null!==r.textRed&&null!==r.textGreen&&null!==r.textBlue&&r.pdf.setTextColor(r.textRed,r.textGreen,r.textBlue),null!==r.fontName&&null!==r.fontStyle&&r.pdf.setFont(r.fontName,r.fontStyle)}},r.MultilineText=function(e,t,a,n){if(null!==r.pdf){var i;i=r.pdf.splitTextToSize(e,n,{fontName:r.fontName,fontSize:r.fontSize}),r.pdf.text(i,t,a)}},r.DrawLine=function(e,t,a){r.pdf.line(e,t,e+a,t)},r.Reset=function(){r.pdf=null},r.SetFont=function(e,t){null!==r.pdf&&(r.pdf.setFont(e,t),r.fontName=e,r.fontStyle=t)},r.SetFontSize=function(e){null!==r.pdf&&(r.pdf.setFontSize(e),r.fontSize=e)},r.Save=function(e){null!==r.pdf&&r.pdf.save(e)},r.SetTextColor=function(e,t,a){null!==r.pdf&&(r.pdf.setTextColor(e,t,a),r.textRed=e,r.textGreen=t,r.textBlue=a)},r.SetFillColor=function(e,t,a){null!==r.pdf&&(r.pdf.setFillColor(e,t,a),r.fillRed=e,r.fillGreen=t,r.fillBlue=a)},r.showOnPage=function(){return r.pdf.output("bloburl")},r.Rectangle=function(e,t,a,n){null!==r.pdf&&r.pdf.roundedRect(e,t,a,n,0,0,"F")},r.textWidth=function(e){for(var t=e.split(" "),a=0,n=0;n<t.length;n++)a=Math.max(a,r.pdf.getTextWidth(t[n]));return a/25},r.textWidthMultiLine=function(e,t){for(var a=r.pdf.splitTextToSize(e,b(t)),n=0,i=0;i<a.length;i++)n=Math.max(n,r.pdf.getTextWidth(a[i]));return n/25},r.adjustTextWidth=function(e){for(var t=0,a=0;a<e.length;a++)t=Math.max(t,r.pdf.getTextWidth(e[a]));return t/25},r.tableRow=function(e,t,a,n,i,s,o,l,u,p){var c,d,g=i.length,h=n+s/2+.05,m=s;for(c=1;c<=g;c++){r.pdf.getTextWidth(i[c-1])>2*b(o[c-1])&&m<parseFloat(2.7*s)?(m=2.7*s,h=n+s/2+.07):r.pdf.getTextWidth(i[c-1])>b(o[c-1])&&m<parseFloat(1.6*s)&&(m=1.6*s,h=n+s/2+.07);var f=void 0;m>s&&(f=r.pdf.splitTextToSize(i[c-1],b(o[c-1]-.1)),!0===p&&(f.length>2&&m<parseFloat(2.7*s)?m=2.7*s:f.length>1&&m<parseFloat(1.6*s)&&(m=1.6*s),h=n+s/2+.07))}r.SetTextColor(t[0],t[1],t[2]);var y=a;for(c=1;c<=g;c++){var E=void 0;m>s?E=r.pdf.splitTextToSize(i[c-1],b(o[c-1]-.1)):(E=i[c-1],void 0!==u&&void 0!==u[c-1]&&2===u[c-1]&&(d=!0)),r.SetFillColor(e[0],e[1],e[2]),r.Rectangle(b(y),b(n),b(o[c-1]+.1),b(m)),l&&(r.pdf.setDrawColor(155,155,155),r.pdf.rect(b(y),b(n),b(o[c-1]+.1),b(m))),d?r.RightText(i[c-1],b(y-.05),b(h),b(o[c-1])):r.pdf.text(E,b(y+.1),b(h)),y+=o[c-1]}return m-s},r.Text=function(e,t,a){null!==r.pdf&&r.pdf.text(e,t,a)},r.CenterText=function(e,t,a,n){if(null!==r.pdf){var i=r.pdf.getTextWidth(e);r.pdf.text(e,t+(n-i)/2,a)}},r.RightText=function(e,t,a,n){if(null!==r.pdf){var i=r.pdf.getTextWidth(e);r.pdf.text(e,t+(n-i)+.1,a)}},r.Header=function(e,t){void 0===t&&(t=0),r.SetFillColor(148,148,148),r.Rectangle(b(1),b(.48+t),b(6.4),b(.45)),r.SetTextColor(255,255,255),r.SetFont(p,d),r.SetFontSize(10),r.CenterText(e,b(1),b(.75+t),b(6))},r.addFooterAndHeader=function(e,t,a){r.Footer(t),r.AddPage(),r.Header(a,e)},r.Footer=function(e){r.SetTextColor(69,85,96),r.SetFont(c,d),r.SetFontSize(8),r.Text(e,b(1.5),b(10.625))},r.FooterLandscape=function(e){r.SetTextColor(69,85,96),r.SetFont(c,d),r.SetFontSize(8),r.Text(e,b(1.5),b(7.625))},r.addFooter=function(e,t){r.Footer(e),r.AddPage(),r.Header(t)},r.addHeaderNoFooter=function(e,t){r.AddPage(),r.Header(t,e)},r.tableRowSingle=function(e,t,a,n,i,s,o,l){var u=[i];l?r.tableRow(e,t,a,n+.1,u,s-.1,[1.2]):r.tableRow(e,t,a,n,u,s,o)},r.state={},r.pdf=new u.a,r}return Object(r.a)(a,[{key:"drawRect",value:function(e,t,a,n,r){this.SetFillColor(r[0],r[1],r[2]),this.pdf.rect(b(e),b(t),b(a),b(n),"F")}}]),a}(o.Component)},42:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a(40),r=a(15),i=a(16),s=a(18),o=a(17),l=a(0),u=a.n(l),p=(a(522),a(24)),c=a(258),d=a(843),g=a(845),h=a(83),b=a(110),m=a(846),f=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={open:n.props.infoIcon.popupOpenByProps,name:"",showInfo:!1},n}return Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){e!==this.props&&this.setState({open:e.infoIcon.popupOpenByProps})}},{key:"render",value:function(){var e=Object(b.a)({typography:{fontFamily:'"Trebuchet MS"',fontSize:12,color:"red"}});return u.a.createElement(c.a,{width:"100%",border:2,borderColor:this.props.infoIcon.popupBorderColor,borderRadius:5},u.a.createElement(d.a,null," ",u.a.createElement(g.a,null,u.a.createElement(m.a,{theme:e},u.a.createElement(h.a,{color:"textPrimary",component:"p"},this.props.infoIcon.infoText)))))}}]),a}(l.Component),y=function(e){Object(s.a)(l,e);var t=Object(o.a)(l);function l(e){var a;return Object(r.a)(this,l),(a=t.call(this,e)).showPopup=function(){a.setState({open:!a.state.open}),void 0!==a.props.respondToPopUp&&a.props.respondToPopUp()},a.popupInfo=function(){document.getElementById(a.props.infoIcon.infoID).classList.toggle("show"),a.props.respondToPopUp(),a.chkClose=!1},a.state={open:a.props.infoIcon.popupOpenByProps},a.chkClose=!1,a}return Object(i.a)(l,[{key:"componentDidMount",value:function(){this.props.iconMode===p.a&&(this.popupInfo(0),this.chkClose=!0)}},{key:"componentWillReceiveProps",value:function(e){this.setState({open:this.props.infoIcon.popupOpenByProps})}},{key:"render",value:function(){var e,t=this.props.infoIcon.position,r=(void 0!==t&&(t.marginLeft,t.marginTop,t.width),this.props.infoIcon.iconMode===p.c?a(526):this.props.infoIcon.iconMode===p.b?"":this.props.infoIcon.iconMode===p.d?a(527):a(528)),i=!0===this.state.open?"popup2":"popup",s=t.marginLeft,o=t.marginTop,l=t.width,c=(t.height,void 0===this.props.zIndex?1:this.props.zIndex);return u.a.createElement("div",{className:i,style:{float:"right",width:"40px",height:"40px"}},u.a.createElement("div",null,this.props.iconMode!==p.a&&this.props.infoIcon.iconMode!==p.b&&u.a.createElement("img",{onMouseEnter:this.showPopup,onMouseLeave:this.showPopup,onClick:this.showPopup,id:"info",alt:"info",src:r,style:{paddingLeft:"8px",height:"14px"}})),u.a.createElement("div",{style:(e={position:"absolute",marginTop:"2px"},Object(n.a)(e,"marginTop",o),Object(n.a)(e,"marginLeft",s),Object(n.a)(e,"width",l),Object(n.a)(e,"zIndex",c),e)},"   ",u.a.createElement("span",{onMouseEnter:this.showPopup,onMouseLeave:this.showPopup,onClick:this.showPopup},!0===this.state.open&&u.a.createElement(f,{infoIcon:this.props.infoIcon}))))}}]),l}(l.Component)},46:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(15),r=a(16),i=a(18),s=a(17),o=a(0),l=a.n(o),u=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var r;Object(n.a)(this,a),(r=t.call(this,e)).setupButtons=function(e,t,a){e=void 0===e?0:e-1;var n,r=[];for(n=0;n<t;++n)n===e?r.push({id:e,name:a[e],style:1===t?"roundedCornerCmd":"multiButtons multiButtonsAct"}):r.push({id:n,name:a[n],style:"multiButtons"});return r},r.selectButton=function(e){var t,a=r.state.buttons;for(t=0;t<r.props.noButtons;++t)a[t].style=a[t].id===e?"multiButtons multiButtonsAct":"multiButtons";r.setState({buttons:a}),r.props.selectMultiButton(e+1)};var i=r.setupButtons(r.props.selected,r.props.noButtons,r.props.buttonCaption);return r.state={buttons:i},r}return Object(r.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=this.setupButtons(e.selected,e.noButtons,e.buttonCaption);this.setState({buttons:t})}},{key:"render",value:function(){var e=this,t=void 0!==this.props.width?{width:this.props.width}:{},a=void 0!==this.props.width?{width:this.props.width,marginRight:"5px"}:{marginRight:"5px"};return l.a.createElement("div",{style:{marginRight:"10px"}},this.state.buttons.map((function(n,r){return l.a.createElement("button",{key:n.id,className:n.style,style:n.id===e.props.noButtons-1?a:t,onClick:function(){return e.selectButton(n.id)}},n.name)})))}}]),a}(l.a.Component)},484:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAAhdEVYdENyZWF0aW9uIFRpbWUAMjAxOTowODozMSAwOTowOTo1NrtZ+qQAAAJgSURBVEhL7ZVLaBNRFIb/ySRNTCaPJjUqIii4sG4tahRxJ924qkUQoaCCO6HV2oi616JSqFtFdFGVboRu4kJQrOAiuvCxEgSpVfsgSTPJZJJ5eO7t1DyamSYt3fnN3MWcO3P+c+8954xgEiB6ztzGr4UleNwimGnZ2iYC4BIEaLqBsOTDh4kkuMDU60/ov/oQ8aiE2fkcOjxueDvcaE9FgGEakIsq+QkhXyxh7Eof82GaqekvppQYMgOJQfa4YY6du2cGDg+aT6bemxSmBS3PS5E/S6Uh+b0I+n0UUesroJ1BSdWgqBUsZApwucjAbqb48t1X9A0/QDTkR04uwTCMDZ1BKOCDrKgYT/bDZU1xBJqMBLcgGg4gFlk9omE/RFFAkBw0m4/Rd50UpChW3dYJOMFWNTOXxfPR89jRFeKH2QotCWi6jp+UXZ8nr+NEohvpiRHs270N2bxivWHPmgLlisbPZe7VLXTv2W5ZgbePhnD8wF4sZguWpTmOAhVN5zWRn77L97eRF2MXMXDyIDJLRcuyGlsBSi7oVJEfnyZ58el0Bo3M/Mni/rXT6D26H2pZs6z12AqwjGLVvKv3BnYeuYwfvzPWTJVDZ0fh6bmEN+lvy5XfBMctYiJdEQm+aBDumtRbgaVmnObsnDMcBWrhlbkOWhJgztnVCLOwFuEEbxUpahWnqFU0y5QV5jMyKpSytcRjbOtE66menKxgfKSmVRSUMs8Eu8H6S4zOo3boutn0XTaK5I/9F/79cAZuPsb32UV4bCJqB+Z4a6eEyTsXqgKbRctZtF7+C6zJJgsAfwFSJkjpY7Y95gAAAABJRU5ErkJggg=="},485:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAAhdEVYdENyZWF0aW9uIFRpbWUAMjAxOTowODozMSAwOTowOTo1NrtZ+qQAAAMVSURBVEhLpZVLTBNRFIb/PqcPKoXyKoqvsFFZ4GPloqJBowkLHxDApSy6MCExxkeKG2OMcYHEsEDcqEsDNRHi0hWiGBegYmIMwZAYCaIgUNppO9N6zm2bTgEHCl9z03bm3vnvOf85dwxJ4sOXKdT7u+F22WEwGLBV6JFYCMl4fv8ShMDVzhd4OjiCAruE5UgMiUQCyfTkfDEZjXDYrYjGFDT4alICge4B9Pa/gWQ1o+3sUXjcTvE7LxUKXFFUzM6H8GRgRAg0nTyYFejpG6IUOfD91e30is1zqOUepqbn0XL6cFbgcXBY7JrSh3KPi9JlRSKPCIwUwbIcw6+5EFQ1QWuTaKyvzRUocEiIxRXEKdREPk9PwwViMZtgtZggU4pWCdgoApvNgqryItglS3rZxlFpU9OzC5j5s8hquQJscjQeR+htV3r65mlo78Hw2CQunjmiEaAIzCYDzp+oRYm7AC6nJPK4UTg9shzH4rKM4OsxhKncm05pqohT5CRjI9G4yH8+D8/ALWokt+0S9QF5ySkypm5licXVlNH0ne9IrVVFJ2egbkqRpE8oEkXvrRZxZPAutBPXhbbPkS+EIgh0D1K5LqUuZ1KUMlkhkx+IG1vB19aF8YlptK5sNPbgJ5WZ2WSE3ZYbATePNh4jmcr5zsAmc2rlqIKyYheVbGK1Bzxpe5lbTOCDz+WwieEgsZ0VxdjtLcYuGnsqPfCWbBPXM3N4vqfQiR3lbtFoGVaZzLAQ7y4zfv8NYTzYgc/9HRin8akvgJddfpFv7Txet5I1BdaCT0ct80vh9C991hUI0wEWE++I3IpSyBN+d8jUN3roCvDDLzf74G8+JozXUkEetLfWoZHOfD0RXQHO6+jXH3hEvWHRGMdUV5Xi4fVGvPs4CdMKcS26AjarBUOjE9h37k76ShY2uMh3TZQ1H9H/Q1eA4RKcWwyj9PhNUefMt6kZeOpuwEllKtEm9BAC3ER68LuBd1lRH8CzgfeouXAXleSBWWfnDBeCEDhQ7RV/9ODm4dfolc4gvKWF5I9+8IqqYv9eL/4BgXeca9Es3FcAAAAASUVORK5CYII="},497:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return c}));var n=a(498),r=a(15),i=a(16),s=a(18),o=a(17),l=a(0),u=a.n(l),p=a(32);e.appVersion=p.version;e.appVersion;var c=function(t){Object(s.a)(l,t);var a=Object(o.a)(l);function l(e){var t;return Object(r.a)(this,l),(t=a.call(this,e)).state={loading:!0,isLatestVersion:!1,refreshCacheAndReload:function(){console.log("Clearing cache and hard reloading..."),caches&&caches.keys().then((function(e){var t,a=Object(n.a)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;caches.delete(r)}}catch(i){a.e(i)}finally{a.f()}})),window.location.reload(!0)}},t}return Object(i.a)(l,[{key:"componentDidMount",value:function(){var t=this;fetch("/meta.json").then((function(e){return e.json()})).then((function(a){var n=a.version;(function(e,t){for(var a=e.split(/\./g),n=t.split(/\./g);a.length||n.length;){var r=Number(a.shift()),i=Number(n.shift());if(r!==i)return r>i||isNaN(i)}return!1})(n,e.appVersion)?(console.log("We have a new version - ".concat(n,". Should force refresh")),t.setState({loading:!1,isLatestVersion:!1})):(console.log("You already have the latest version - ".concat(n,". No cache refresh needed.")),t.setState({loading:!1,isLatestVersion:!0}))}))}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.isLatestVersion,n=e.refreshCacheAndReload;return this.props.children({loading:t,isLatestVersion:a,refreshCacheAndReload:n})}}]),l}(u.a.Component)}).call(this,a(36))},514:function(e,t,a){e.exports=a(819)},515:function(e,t,a){},516:function(e,t,a){},522:function(e,t,a){},526:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAhdEVYdENyZWF0aW9uIFRpbWUAMjAxOTowODozMSAwOTowOTo1NrtZ+qQAAApUSURBVHhe5ZsNbBTHFcfnzRkfTc5XsCIKFEURalFEKcoHBXw2NCASWQmJUNJQqqSpCMVnk9DEPgdKEbWsJER82ISGYp8hIlXSkCAaVRASRCNIi302KSKojWhqtQihBlOEKAUTBXM3r//ZGxuvb/c+fGfwqT/J2vdmz7szb9+8N7MzS2KIqatjeXl8ZJJkuoeF+C7+7hAkxgvmUbj5SPwEp+grYnEJ8jmcP43yvykZO+4fET1ev3jOV9aFhoghMcDyzR1+r1fNV0I8jDvMxU3GmFMZwSx04yOo5r4Yi/c2V5Wcip/JHTk1QKi5bTaeYBDiAiK6JV6aG1gw7EmtkkX41mL/7vqFU3rMqazIiQFqwu2PkFCrcbnppmhIgWecJhIbfKP9LdkaIisD1La03qVYbsZFZpuiG81JeEaoMVj6e6NnzKAMULfrs8LuC5fqmUQtLlBgim8ezHtkAVdt+GnZGVOSNhkboHpb5FtSiZ0Qp8VL0iMe0PgEYsMJKLqil2HAqGCSqMXX0Mn9cOtixJDbiXmKICqO/2eaMJ/HpZY0Bkv2mJK0yMgAteHIPGZ+N/3K8Sk0cDcS3Yc+9nbUB6d9aU4kpa7uUMGX47xTY0KU4xqPoZZ3kYChUmAFSqY1jZWBtaYoJWkbIBRuW4Sn+Bs8wUJT5IiuBDF9gKe5+dYzJQfr6wnROztqt7VPVUpV4eJPpZNd8JC2FHUFnkvn3mkZoLq59UkiuSNVf4eBDkipVm6sKDtuinLKC9tbx8eicjVqXZGqLqjMdl9XIJjKCCkNEGpq+wFL2pnshnjqZ3Gb5Q1VpbtN0ZCiPYKV2obqJ027eCBbi7pKliczQtJ+ZQ1siN5Mbm3eL68V3H2jGq/ZuLTkL77RX5+FgPlSfIDkDLrhssvjInVGdcTVA1aGD99+TXj+jB+4D2NZbPR1lazMRT8fLDXhtgUIkG9C9MVL7FgxSYgnGoKl75giG44GMHn+EM4GTJGNeKAT1Q2Vpb8yRYMCKbVYXuMC3797LtTXz4ma4oyBEQKoz17X7MTiYpTpbqe5hKMBQuHIL3Goj2uOLG8IBrYYOWNCTe33CanWwYWnWekNFWTid2KFPas2L55z0fwsI6pbDs+U7PkDRGdPYHEQ8eD+gd6aEANCTR2TkUYwrncBbp9V41siC1kyKkrT+3I7CUyNqdLTU9imvcIqy5BNFbM6YMQfwaiOnoR4MPfS2PYnjdpHggGYYpvdcr1Oc76uq6uMmjE14aO3CSXCcDvHoAojTJYxXmfUjGmsKH0fD8g16JHkdXqqblQLmwH0SA+Nn2dUOxhqegrU4mz6KomrC/XTNqozRIvqdhzSL0oGRVHX1fXwgj8Z1QYMPHaEVz1rVAubAdA51hgxAcUUGsxkoz/M9B0jJsN3KeqdYOSM0Q+IpVgCb3V8k0SYPfb3gj4D6KktXNN5Wssi4j9b8pbRBg1u3m3EpBSQSmvO4MampYF/oC2vGtUOMkXhSPWU0a4bAE9Yv8lxhml1LnK9EnTIiO4wd2braRrlERt0djGqHRbPGCluAJ33kUcXWiUDYdHRUFXysdGywt9VckB7k1EdwXTuRSNmBbzggiDealQ7JO58vrnVms5bBrhy4eJ9boMIJdSvjZg12oso6nkM4tF4yXX04Ar9dvWmyrKsu1ovBUKF3dKiR8gf6qNlACXkQ/qYAFzITyPfM1pO2PjsjLO+0f5SpcRP4O7bMeZ4G8f1HqbvZTKPT4d1wVmnEXc+MqoNjBke1EdrJFgTjvwVwhQtD+AtDHp+bOS8BMPkp5H+XjeqDelR35TxlMCTTdkAeJ8R8hbMVD9wmzGqqGemLPTGHF836X+SHnYcUOQTusvh8HlcGwCpe3XD74xrdtAlTuciHQ0HkOEcMw8LmkSh5sgraO3PTVkfCE4fNVaW3m/UnBBqaZsrFP3OqM4Qd2LuPsNoOQExbgUeaMIcA1nnuMQNxxvdDtGgpqXJIMUFMPaopH9MtslKLiBmx7YQ8SjMxZ1vCIsN6arsjYSldF0+kwh2ji8Q8G837TVXrmEVc53BStKrM//H6C7gYoDUKzH5AkmP61ttHQQvGNkGskDSFaB8gpRybYv2gHNGHsig3s0NR5jI5S0Unddu/s+4YoeIJhox70Ea/LYRbWCmeEoiD3Qa3Qaywx21W46MNWpeAw+YacSBfC6jI3qOOU0W9PyAC2M3a+dHzghtbRsDEzhO9ojpU6kXIiA4egEiofN7gjxCEZU7TfY0FJUR6wQ8wPGlAU7Mz+YV9XBAknjciDbQ5hN6pmgMQM7zfqLi7p7CBUbLO1a0dExAQx8wqg29iUMfLQP4i/0H4e7ntZxAvzeo+UaUVdBtlUvJmDUrtQyg99rBC3ZpOQGiMr1PwGh5w3M7Do1C+ltmVDvMnf4vyj7RYl9wwFS1ySkbGF7We36NnBd4erwh3YWNaoNJbOtd5+hrVMOy0s9wxjkYwguujGtfZLRhz/NbD0/EU64x6kC6hfC+YeTrBrAgdt0ToEhsyoeBkfZUKT3bXHeTsdjSGJzWF+9sBmgMlkbwg/eNaoOEGMMjojv0Hj5TNCy5PL69Vu8FMKoNDH3PRb1Xba/GEvo1S0/IbWUVZijvHufNydLVUFDdHCnH4eW45gQn7EBJMEBjxYxOWPAVoybAxCtC4Tbn6JqCmEceRd/8frK/mFCDWoipbopMl8TvwlMdPVTvGSg6E+jr+73g94lYm6T+89/DOO24D09nCwwknmmoDDSbopuKafw+BOvbTNEA+JKSdK9eNjcFfTgaQFPTcmQSqdgR/MJxLh1PmbS26ExJXS6WzgdLTUvbfGLxW9TF9W0yzj+xsTLwtlFtuBpAU9vc+oAStNdtNBWH99O1gsVmBeaGoYNx93jvL+Daa9zcPg6vbQiWum76SogB/dlYWXZAClrstsQch8rViOinoeb2R03BkKN3siEY/xFifbLGo94tvjMB120/mqQe0IteYcVPXXd3XQfeQLxqqDZL63GIKoitwn0qk3slYH7D1xVYkqp7pmUAjbVjXNDrqW5sAuQeIfk13xeBj3MRH6y9ixSrgvi06wCnH/rJIzZVpXPvtA2gqW5qfVBK2ol/S3f56iSexG4mubdodNEn6X7gpEdz3d+ITGaPKEcFH0eD4jtKU2AFZhYvFXUF6tM1fEYG0FhPQyqdb502VCSjGw05hhlaJ257HpXtwTWuWWdIN469GID58YQnxhuc4beGzBfQ+GCmu9YzNoCmLnz0lm5x9UVMoX+GCwyDoTHv95Bn6fqKmf8yBWkzKAP08kJz5B742Wu4iuOu8qEGHnMaHhXK5luFrAygsfrr2MijLKkOF8u0WwwKNPwMCV7n8/a0ZPttcdYG6EUb4sq4tnmKKIi+OD9lmsoQk106lFBN/uJRu4bVp7MD0VveUdlHUOeHMQyd7T5GTw4z96CG+uPpD1UstvvVZbNOmlM5Y0gM0J/elEaSpiK6W5/Pw30n4KgjfnxvAjNGmqQXaZEdxEkMpv6O4/Giwp5jQ/v5vBD/Aw18AV2saLBMAAAAAElFTkSuQmCC"},527:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhpSURBVHhe7ZtrcBvVFcd3V7uSLMmS5WeCEieAnbQlpFBMYgODcT5kGBj6AbAZptN20i8lQ2lJWqAfOkWTlhkerUPp8EiHTodMOi0xpECY4ZXABJrEdt5PQ+RH/AiRbMuWrMdK+/Cyd3Ws+iHt3l3Zljz092XvOdbI9/733Oe5IokF5sLXUnX/1cBtDEPda5KotcUOy7VWs6m4yMJY4CMKbJLnEpwQ5XgxGGG5MyYTderwifOt3i1NCfjIgrAgAnx0Zuw7xRaq1emwNFrNtA3chpCFScYT/JfCJPG329e6XgH3vDGvAnx0avj3ngrHU1Yzk1Ojs4HE6LkS2nV6YOwJb8s6Dtw5MS8C7D/mf271MufjclibwbXg+IaC+zq6Rx/OVYicBPjsfPCJclfRH2b358Wkq3/0hftuXf4kmLoxJMDxgcS1lCh84bRbPODKK+MRdjye4H7aeEP5fnBhQ8ETm/9+FXqsxGrqLZTGI9zFRW5Phes91BXBhY2uCDjmm3jL7Sp6AMyCZCgwcfiuG8vuAFMTbAFO9EaOuhzWejALmsBYtPuTf5es9XrJSXBlBUuAs4Nxn83C1IBplKMSKbURk2Q7QdODtWXkEPgVfEFpBSGKDQQ5uYKUiAa5as3wJ0OEo4nh/bsdy7VE0BTgZG/kiNNhlStkBKlNksidtVXMUXDowjcsNJPEpCyEMTHkSOiRI2GNmgiqAhzvjrxZ4rS2gKkDueEmZvvst5wL3cPcXiNCDPjD7ZvWl2d9gVlngXZfeKv+xqOG0ytrKs0t89l4BPpO9N3of4ALi+plrvp3O75+Ecw5ZIyA80OJO+UNyyEwsZD79/baCvNOMLHY9vqRUhMv0Y4AN+b1Ngng1sQ3wm0jJbIVTCw6vvQ3/OjOle1gpskowKnLsYFim1lWG4shSSJa9PTzl9+/1Py9Ve7XSp22UntRavXsH4v00DS1tb6m5BPFoYEvwDeQJCF3C2JFyqNOcIINf7CnuHT2eDBHgEMXx7d5yh246g7JYdmgJ9wPnBt5Y3VVyU/AnEOc43+3foXtGTBVQTMHKQpIeCwRzvYMv3x/g+cXYCrMEaB7mJegqIXuxp/oi/3MZTf/HcysSATZUltJY/V1PSLEEpz4+jvnSv/6y/oJcM0cBA9dDL4KRU2UsNc50Imi8CgUNZB+DQVNUB1QXcBUxS4PbLffdM1rYCrMEMBT7nwEiqooA56BuV3u8z+AoipyWG6EIhaoLqhOYKry3VVlDz32UrsTzP8JgLa2UNRAatM72i8GqTppT5HyoEs13uJJ1z8tQGWJ7WkoqoIWOFDUTYITuqCogb65fgrcuq1ZWZYehBUBuq5yD1vMtF3xqCK//RwWOGaa8UJRFYmgDAmQqpu2eDYrQ+/68NI9qKwIkExyWH0frcagaIg1y+i90QSnGmnK+II5A2QCNwpqlrt3oKciAEObMAYnY2E5m5uq7Tvk2agxFGE7wUVwvBBhk/wBtNTNdXzBjYIKt309eirrAJy5X8/cnG9glXgEzKyc6QvUUaf72ayrsukslcYjcKdoNsZvpiJxdgPYKsxP+C8ymiI4HeZNlDwgah5zSaT2lxUayumTBgxNryJP9kWHtE5456v/4+4zaiqZjLtUPeCMA6PheIyyMCY32NkxmZZcBKBzRyhlxWahLZS8ANLM4+Wy+MkXOHW2Wc10ein8beX/AsDzWwuV5IQ4lLOiJC2WGDh1jsvbUyrJiyGwsyMIuAekhQPKMmnAJoUEFYtz2nt0SloSOcEZkJOaEZDkhRAlUdIlsLNCSrnl6fJBKr+oTiiW7KLMjOk/YKthMDeYTzBemkSepcrcLqxjKrS0hGLBg5KqUFTli2ODf6LQikmeCaLgywpJStugWPCkMsrqxBM8/8KjG/zKOiDK8hjpKLJ56UyH2uEfjSd70VMRwGQxYyUiSJHXlZDMB6k0ujYxTtiNnooAddXWPpxuUOhRkKqb9ttHC6DD+8qfReX0Ung0zGLlBQo5CnDr1jUQ/NdUljgtQOMNpa1skse4mCxHwQhXcANiqk5465XOC8Ppo/O0AIirYzGstDS6nFBI06Jy+oN5YeJC38jBP/+8bhTMmQJs/n7FHxNYUSCLQBJ7C2E8QHWAixJYfHbxqwehqDBDAMR4jHsKilooefl8iqA0XtcFicCrL25pmrH5y3j4uFBXZNCdIEqQ1oGZkUlCiu985I7jYGYFDj31XJGZ+GBPsVvzigwCXYZG94HBxMLIJSmjGLkk1X1lrOXum6vmnGzP6QIItC6QB8RfgYkFqhBahCxkl0Dfjf6H3saf7x15KVPjEarn752+ibdLXUX3g6kDqS3XTPJ0Un0dzfH6t+UD/nDnpvXlWW+cZIyAKTbUOh8IRxMdYOqAbEZJECUiMHdmmUD9XHnjojBopPH+YKT3831lqtM1Vgbm7EC822ZlrgfTIFKbkmKTqCGUaJl9bq90HXT0Rkn1coijxua0zghFEyPv73Ysy/my9BTHeyc6ShxFGInU/IPe/IE33bVajUeodoHp1F3n3BgMxd8Bs2BBl6NxG4/AjoApdN4kXVQu9o20/nDjNdh3DBG6BUCc7os1yQuWfzrtluXgyitjETbUH4hsbr7Ncwxc2BgSYIpPzwWfrK5y6v6h0nwh7+vFy1fDf9H71qeDPQZkYtONZc/veYU29ftDb4BrUYiznHjqkv8f+w52OnJpPCKnCJiO1ytRG+8L7FhZ6dxutTBF4J5X0A+su6+M7zozMP6bgvrp7GxOXo5tmRTFrVYzvS5XMdDvhYNhtnNwNPLbH9+1WvPml14WRIDpoMhoah5/nBOFm+0Wcx1Dm8pVfj4fC0eSl3lJ7I2z/MeeKtfB+uudPfCRBYAgvgHmxpqM/OyhXQAAAABJRU5ErkJggg=="},528:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAiTSURBVHhe5ZtbbBRlFMc7MzszbaOJBqgtBaQtRUpbjHjB4BU16oMx+mSMiKjxFvXFJx5MKom3B6MxGEAevKBGY2I0xhCvKF5JvFR7AaG0YGm3hSLBC+3OzM6M/7Oc1m5nvtmZ3dm2qz+y2XO+0u58Z87t++ZbqazIjCxofMXUy5dCrFNs+wzZsTW85FM/zcaVZNdWFMuRlb9dSUqqltlV1b/vVv5xUSiKAY6cveyddEJdjQlUiSYbHqnM1PQ/Ifw0v69rzamx+IjVAIMNK/aqltGISSs8FDuGXjGsWcbOef37b+OhgojFAJj4b7oxuojVacHUyk+oaXNHoYYoyACDDa0/6sbYSlZnBEOvPFzb25G38fOKz7a3u7ThxcvHZnryBDxv4cjCpc5QXfPHPBSJyB6QrG/5SjNTl7IaGWR4Gy8LWd7Gp7v4B1xFcl1Fdhy88s8f8IZ+eMPZrIYikgEGl6zo0VOjS1gNBaqBYSfUfiTH9qrf9t3Cw4GMLGzcjhhvgUEa8Xun8XAoLFX/u+Zg9+ms5iS0ARDvSbh8DauB4O66pl7Rq6XGvpk30LOeh/MGn/19Im2dq9hplYcCgdGtLXfsKd+4UXJ4SEgoA+AChjH5s1gVkpm4Vt5e29t5Pg/FCsU5vOJKxbZyGsJWEunN6/fquYyQ0wCY/AAmX8uqENTnQUx8AatFhTwC13QBq0JsRbU2rw/2hMAqQI1NrsnTXUfcfTRdkyfwWRduevY93VK1MR7yhTzl/u3Nf7Hqi9ADhuqbP1NN4ypWfaEEh1irDBNrxQI3qZ9KIau+wDuHYLT5rGbhawCq8w8/cpPBqi/UiaE3P5PVvBhe3PQ+PCiBBHds3uGedTwcGRihC0ZoZtUXXO8XfmsJXwMg2ZxE+alk1UOhk8cF/4oLPofVDEha1pOPbal6/s41J3goEsgLnQjXFlZ9kMo23b1fmeqtHgPgD+3GH1rFqgdy++pDe8tZjQz+/iD+vq87Ek+0bZ/z3D2rj7MaCfQph9CnCBshhMJRhEJWNfMkQXR5wslTwttyx+ZIjclk0D5/EDR5YsPjdx1hMTK1BzoWUyPEqgd8dhUt1VnNkGUA6vTQkrLmJZ3QPt24cU2a1cg4sryaRSFodhJHF53zJquR2bruhcDQRBt+LYsZsgwQ1OaS+6DFzPrlqCi2Hcp7EGZ5l1S6QchRX7PqgVrryV4wYQDE5o8s+rJtbUeoNjgIhJDNYiDwwsD6ngsk6MvgrSlWPSDhTpT3CQOgFLWy6AGrrH1x1Hp8cJLFQHCXBlgsAPcTFjwgz53B4ikDjCxa+kbQQgNLzGUsFsS2tb80sigEoXZk7sCBu1jNG1SqG9EpCr0AHv8zvWcMYKrlwsxPF8RiwZAXPb3hDWEoUQZHmapmtXAk6VuWPOCGZ25qxgDomYWtpJo2d7EYC888tGqY+nhKqrRiow0Silfo7VHW8WGo6eu+mko3q1kg5HV6zzRCxxYs8f1PdHFV/fsSrJYkcPUR1P+5rGYBj/tEntoYTAYxdJTFkkV2HGF1ww1ukuF+y1n3gF/uYrFkQVhdz6IH2UnPlZINrcc0Y2wOj03l5Tgy8mQQbi+x6Evcn0fAyy3KNKxOgM7UkWh7O5E2PYsbJI8yLFGF+wX5gFZ7P7rNnKUQRoj1c5P1zX9qpuGbYGXZtX3rPwwQ/yaH+2/jNa1IssmSB1lyXMFF+ZePUgQTCdoTdP3dLVYnnHGCDHDq2cz/FXFM/rfMIpyn7KIUsDyV/0wQYCJiAziS7LvDI7mO2DtKDdfRWPIgox08yXIWtDWWq2kpFRTbrmAxC2qEKAR+Z90DFguBG5ilgl8XSGA1ashK2upm3QMsJNwlKhWG6pbvYNGDIyd+l6sP7b2ZdQ9q2sz5RHi2gxAXPqmWHbs7k+joeXpmZAqybSuFbFHPBjQzNY9FD7RSzBjAVtTDmREfLFW7gsWSY6i++VMkc99yTk+46D1jAM1K7aZ3P/SQp0JmJa4rfBCDBNhD7xkD0Fk7OkxAsh90ToDFkmF4cdO7qmX6lj9CM1KZnaKJZiedSLSz6EE3Rpe1tYlWjbMTLOevY9GDqel/jZ9dmphUbW/nKtEOKnHv6ysGWZz1JOtbdgXdfdlxv2Qxu0c2tYo9LHpALqgeqmv+kNVZC3mqZhqXs+qBtuCrD+25gdVsA9T2drQEeUEibV7b1vb5rN4mv++1lhPBS1k36yZ64trSyr9j0QOVlAdefTDw0NFMgmTdK9r7Iwy94tjUxs9jgPm9nZdgDTDKqgfaQEWM5XWC45kNWy8y9Mpfg16PP/rKhfzfI4HJ/4JkXc+qL9vWdng6W98mIeQhqePz+7pE2+nTCk9+Bau+0JkBemzO6gTCTY9kQ+s3mjEWeKKDzultXdd9WhyPzvMl17kgwtArhlHlfBu6wF0fWPYALNvAqi+UNJFZPw56AlMMKBnfv/2hP4JOsxH0iLzm4B5hSQw0ADHY0DpEJZBVIYjfAVSRwAOLcYFrCjzJNg49fc51XjinAYigJ6yTIW9ArBXzsPSHkuusSaQt4RbXOJi8jclrucIzlAEIGCHUiXGCvv5m6uUHtNTYtzEdl9+t2OmVmHio4/Jh7vw4oQ1AICf0ISfUsRoK6rxwQQex4mwP+wUn/q5hE+52U1Bd9wMxP4rEfHrYxBzJAETY+BNBdwceghc9rZnoOnEdroxGS6H9O9EaPhfI9pGP7Of1QW0v/lD5wFO3Hx8/ZjLTZCqRqu2s6eu+hodCk5cBxoE3/ARvOI/VGSGfuz4ZTyscBXzwyk139yh0ETw0bdCJdUdW3ipk8kRBHjAZWobe+/q5+1UrVSc7xXuqBGMf0Szjs1n11dmp0BchkOwuRpc2Jw5j0A4OLrUdvXzsG7RFMcBkxksaxEW5vz4vuTAcfX3+JCpFEgbsLO7X58vK/gEVbbN64CGAoQAAAABJRU5ErkJggg=="},533:function(e,t){},534:function(e,t){},539:function(e,t,a){var n={"./ar":341,"./ar.js":341,"./az":342,"./az.js":342,"./be":343,"./be.js":343,"./bg":344,"./bg.js":344,"./bs":345,"./bs.js":345,"./ca":346,"./ca.js":346,"./cs":347,"./cs.js":347,"./cy":348,"./cy.js":348,"./da":349,"./da.js":349,"./de":350,"./de.js":350,"./el":351,"./el.js":351,"./en":221,"./en.js":221,"./es":352,"./es.js":352,"./et":353,"./et.js":353,"./eu":354,"./eu.js":354,"./fa":355,"./fa.js":355,"./fi":356,"./fi.js":356,"./fr":357,"./fr.js":357,"./hr":358,"./hr.js":358,"./hu":359,"./hu.js":359,"./id":360,"./id.js":360,"./it":361,"./it.js":361,"./ja":362,"./ja.js":362,"./ka":363,"./ka.js":363,"./ko":364,"./ko.js":364,"./lt":365,"./lt.js":365,"./lv":366,"./lv.js":366,"./mk":367,"./mk.js":367,"./mn":368,"./mn.js":368,"./ms":369,"./ms.js":369,"./nb_NO":370,"./nb_NO.js":370,"./nl":371,"./nl.js":371,"./pl":372,"./pl.js":372,"./pt":373,"./pt.js":373,"./pt_BR":374,"./pt_BR.js":374,"./ro":375,"./ro.js":375,"./ru":376,"./ru.js":376,"./se":377,"./se.js":377,"./sl":378,"./sl.js":378,"./sq":379,"./sq.js":379,"./sr":380,"./sr.js":380,"./sv":381,"./sv.js":381,"./tr":382,"./tr.js":382,"./ua":383,"./ua.js":383,"./uk":384,"./uk.js":384,"./vi":385,"./vi.js":385,"./zh":386,"./zh.js":386,"./zh_TW":387,"./zh_TW.js":387};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=539},678:function(e,t){},680:function(e,t){},691:function(e,t){},693:function(e,t){},7:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"e",(function(){return r})),a.d(t,"h",(function(){return i})),a.d(t,"g",(function(){return s})),a.d(t,"f",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return u})),a.d(t,"a",(function(){return p})),a.d(t,"i",(function(){return c}));var n=0,r=1,i=2,s=3,o=4,l=5,u=6,p=7,c={en:{pg1T:"Protecting Your Estate",pg1P1:"Designed for: ",pg1P2:"Designed by: ",pg1P3:"Date: ",pg1P4:"Province: ",pg2T:"Introduction",pg2Paragraphs:["Throughout your lifetime, your success has allowed you to accumulate assets beyond those that you will need to provide for an enjoyable retirement. The ownership of some of these assets will result in a tax liability upon your death (or the death of your spouse). These assets can be divided into three groups: ","First, assets of a capital nature. The current Canadian tax law provides for the deemed disposition of your capital assets on your death at fair market value, and any increase in value over the cost (the tax term is Adjusted Cost Base) is taxed as a capital gain. The most common assets in this category are:","Shares in private or public companies","Second home or vacation properties","Second, assets that generally produce income on your death. The most common assets in this category are:","Registered assets, RRSPs or RRIFs","Assets that are taxed as income such as interest bearing assets, GICs or money market funds","Third, are assets that are either fully tax paid or do not attract tax on death. The most common of these are:","Non-taxable assets such as cash and TFSAs","Principal residence","The tax free proceeds from a life insurance policy"],pg3T:"Your Financial Situation",pg3P1:"Your current balance sheet and estimated net worth are summarized below. In order to calculate your future tax liability it is necessary to project the growth in the value of your assets going forward. (See Appendix for details.)",pg3TabT:"Assets",pg3TabRTot:"Total Assets Available",pg3Tab2T:"Liabilities",pg3Tab2RTot:"Total",pg3Tab2NW:"Net Worth",pg3T2:"Your Growing Tax Liability",pg3P2:"As the value of your assets grow so does the tax liability that your estate will incur upon death. To project this liability, we have assumed the following asset growth rates:",pg3P3:"",pg3Tab3R1C1:"Assets",pg3Tab3R1C2:"Growth Rate",pg3Tab3R1C3:"Tax Liability Today",pg3Tab3R1C4:"Tax Liability Life Exp. + 3*",pg3Tab3R2C1:"Real Estate (Non-Principal)",pg3Tab3R2C2:"",pg3Tab3R2C3:"",pg3Tab3R2C4:"",pg3Tab3R3C1:"Stocks & Bonds",pg3Tab3R3C2:"",pg3Tab3R3C3:"",pg3Tab3R3C4:"",pg3Tab3R4C1:"Small Business Shares",pg3Tab3R4C2:"",pg3Tab3R4C3:"",pg3Tab3R4C4:"",pg3Tab3R5C1:"RRSP/RRIF",pg3Tab3R5C2:"",pg3Tab3R5C3:"",pg3Tab3R5C4:"",pg3Tab3R6C1:"Interest Bearing",pg3Tab3R6C2:"",pg3Tab3R6C3:"",pg3Tab3R6C4:"",pg3Tab3R7C1:"Other",pg3Tab3R7C2:"",pg3Tab3R7C3:"",pg3Tab3R7C4:"",pg3Tab3R8C1:"Total",pg3Tab3R8C2:"",pg3Tab3R8C3:"",pg3Tab3R8C4:"",pg3P4:" * Tax liability is estimated based on today's  personal income tax rate and current income tax legislation",pg3P5:" ** Please see assumptions in Appendix for withdrawals of amounts from RRIF as they factor into this calculation",pg4T:"Future Value of Your Estate",pg4P1:"Using the growth rate and income tax assumptions, this chart shows the total value of your estate in the future and the corresponding tax liability on death that would need to be funded for each year going forward.",pg4GT:"Estate Value & Tax Liability",pg4P2:" * Life Expectancy is slightly shaded in the bar graph (year: ",pg4P3:"Your future tax liability grows from $X1 today to $X2 at life expectancy plus 3 years, and will need to be funded upon death.",pg5T:"Estate Protection Alternatives",pg5Paragraphs:["Many people want to keep their estate intact to pass on to their heirs.  But what is the best method to fund this tax liability upon your death so that your assets can be passed to your heirs unencumbered?","Typically, there are four options to provide the liquidity to pay taxes that come due upon death:","Liquidate assets ","Borrow funds, which usually means using assets as security","Create a cash reserve by systematically saving during your lifetime","Transfer the risk by purchasing life insurance in advance","Some of the advantages and disadvantages to each of these methods are:","Liquidate assets -  Business cycles and the state of the markets are critical in the value of an asset. You have no way of knowing what this will be at your death. Further, the sale of assets by an estate often signals to a purchaser that there is a degree of urgency, which does not help the seller realize full value.","Borrow Funds -  In estate situations, the main objective is usually to distribute the assets to the beneficiaries.  Borrowing against the assets, which will likely require pledging them as security, makes this more difficult. Further, it is not possible to predict the market conditions at the time of death. Financial institutions go through cycles, as do loan rates. ","Create a cash reserve - In the context of an estate situation a cash reserve is not a practical option as you do not know when death will occur and whether there will be ample cash flow at that time.","Transfer the risk by purchasing life insurance -  Life insurance, purchased in advance, removes many of the risks associated with funding the tax liability upon death. The death benefit provides liquidity at exactly the time it is needed, and in Canada it is paid tax-free to the named beneficiary."],pg5Plast:"The most practical, and cost effective, method to transfer the risk of funding a tax liability is to purchase life insurance.",pg6T:"Using Life Insurance to Preserve Your Estate",pg6Paragraphs1:["A permanent life insurance policy can be a good way to provide for this future tax liability. Life insurance removes many of the financial risks associated with a premature death. It provides the financial assistance when it is needed, upon the death of the life insured. ","The type of life insurance that is most appropriate for this need is permanent insurance, because coverage stays in place until death, no matter the age. There are three types of permanent cash value life insurance coverage:","Universal Life","Whole Life","Hybrid Life","Cash values are made up of accumulated capital within the policy's tax deferred accumulation fund including any guaranteed cash surrender values that are offered to the policyowner by the insurance company upon cancellation of the contract. Depending on the type of policy the total cash value, including the guaranteed portion, may be accessed by the policyowner through a number of different methods.","One of the challenges facing the purchase of insurance is that the tax liability changes over time. Insurance policies can be custom designed to meet your unique situation by matching the death benefit as closely as possible to the need for cash to pay tax liabilities at the time of death. "],pg6Paragraphs2:["This is a hybrid product that is customized to address your growing estate liability insurance needs. A hybrid life insurance policy offers a unique combination of the best elements of traditional whole life and universal life insurance:","Cost of insurance is guaranteed not to increase","Death benefit is a combination of the base insurance amount, additional paid up coverage and the value of investments","Policy has contractually guaranteed cash values","Additional funds, above the cost of insurance, may be deposited","The funds are invested at the discretion of the policy owner (not the insurance company) and include these options: fixed income, stock market index accounts, mutual fund mirrored accounts and smoothed return investment account"],pg7T:"Summary",pg7P1:"The best method of covering a future tax liability upon death is to purchase life insurance, which effectively transfers the risk away from the estate. Not only does it give you peace of mind, it also outperforms other alternative methods in terms of financial cost.",pg8T:"Appendix",pg8P1:"Detailed tax liability projections for all asset categories",pg8P2:"Detailed tax liability projections by individual asset category:",pg8O1:"Hide",pg8O2:"Show",pgFooter:"See Some Important Notes at the end of this presentation.",pg9T:"Some Important Notes",pg9P1:"This presentation is for general information purposes. The information contained in this presentation must not be taken or relied upon by the reader as legal, accounting, taxation or actuarial advice. For these matters readers should seek independent professional advice. Please refer to insurance company illustrations, policy contracts and information folders regarding any insurance matters referred to in this presentation.",pg9P2:"Any tax calculations are provided as examples only and are based on the personal income tax rates and income tax legislation in effect on the date of the presentation. It is assumed that the taxpayer is a Canadian resident and not a US citizen.",graphsT1:"Estate Liability breakdown Today and at Life Expectancy plus 3 years:",graphsT2:"Estate Liability Today",graphsT3:"Estate Liability at Life Expectancy +3",graphsL1:"Liabilities",graphsL2:"Taxes: RRSP/RRIF",graphsL3:"Taxes: Capital Gains",graphsL4:"Taxes: As Income",graphsL5:"Taxes: Dividend",graphs2L1:"Future Insurance Needs",graphs2L2:"Life Expectancy",graphsTaxes:"Taxes: ",graphsLeakageT1:"Estate Leakage Today and at Life Expectancy plus 3 years:",graphsLeakageT2:"Estate Leakage Today",graphsLeakageT3:"Estate Leakage at Life Expectancy +3",graphsLeakage1:"Net Estate Value",graphsLeakage2:"Tax Liability"},fr:{pg1T:"Protection de votre patrimoine",pg1P1:"Pr\xe9par\xe9 pour : ",pg1P2:"Pr\xe9par\xe9 par : ",pg1P3:"Date : ",pg1P4:"Province : ",pg2T:"Introduction",pg2Paragraphs:["Tout au long de votre vie, votre r\xe9ussite vous a permis d'accumuler plus d'actifs que ce dont vous aurez besoin pour vous assurer une retraite agr\xe9able. La propri\xe9t\xe9 de certains de ces actifs entra\xeenera une obligation fiscale \xe0 votre d\xe9c\xe8s (ou au d\xe9c\xe8s de votre conjoint). Ces actifs se divisent en trois cat\xe9gories : ","Premi\xe8rement, les immobilisations. La Loi de l'imp\xf4t sur le revenu du Canada pr\xe9voit actuellement une disposition pr\xe9sum\xe9e de vos biens en immobilisation \xe0 la juste valeur marchande \xe0 votre d\xe9c\xe8s, et toute augmentation de la valeur par rapport au co\xfbt d'acquisition (le terme fiscal est \xab prix de base rajust\xe9 \xbb) sera impos\xe9e comme un gain en capital. Les actifs les plus courants dans cette cat\xe9gorie sont les suivants :","Actions de soci\xe9t\xe9s publiques ou ferm\xe9es","R\xe9sidences secondaires ou de vacances","Deuxi\xe8mement, les actifs qui produisent g\xe9n\xe9ralement des revenus \xe0 votre d\xe9c\xe8s. Les actifs les plus courants dans cette cat\xe9gorie sont les suivants :","Actifs enregistr\xe9s, REER ou FERR","Actifs impos\xe9s en tant que revenus, tels que les actifs porteurs d'int\xe9r\xeats, les CPG ou les fonds du march\xe9 mon\xe9taire","Troisi\xe8mement, les actifs totalement lib\xe9r\xe9s d'imp\xf4t ou qui ne sont pas imposables au d\xe9c\xe8s. Les actifs les plus courants dans cette cat\xe9gorie sont les suivants :","Actifs non imposables, tels que les liquidit\xe9s et les CELI","R\xe9sidence principale","Capital d\xe9c\xe8s libre d'imp\xf4t au titre d'une police d'assurance vie"],pg3T:"Votre situation financi\xe8re",pg3P1:"Votre bilan actuel et la valeur nette approximative de vos actifs sont r\xe9sum\xe9s ci-dessous. Afin de calculer l'imp\xf4t que vous aurez \xe0 payer, il est n\xe9cessaire de pr\xe9voir la croissance future de vos actifs. (Voir les projections d\xe9taill\xe9es en annexe.)",pg3TabT:"Actifs",pg3TabRTot:"Total des actifs disponibles",pg3Tab2T:"Passifs",pg3Tab2RTot:"Total",pg3Tab2NW:"Valeur nette",pg3T2:"Augmentation de votre obligation fiscale",pg3P2:"L'obligation fiscale \xe0 laquelle sera assujetti votre patrimoine \xe0 votre d\xe9c\xe8s augmente proportionnellement \xe0 la valeur de vos biens. Pour pr\xe9voir cette obligation, nous avons utilis\xe9 les hypoth\xe8ses de taux de croissance suivantes :",pg3P3:"",pg3Tab3R1C1:"Actifs",pg3Tab3R1C2:"Taux de croissance",pg3Tab3R1C3:"Obligation fiscale actuelle",pg3Tab3R1C4:"Obligation fiscale \xe0 l'esp\xe9rance de vie, plus 3 ans*",pg3Tab3R2C1:"Biens immobiliers (non principaux)",pg3Tab3R2C2:"",pg3Tab3R2C3:"",pg3Tab3R2C4:"",pg3Tab3R3C1:"Actions et obligations",pg3Tab3R3C2:"",pg3Tab3R3C3:"",pg3Tab3R3C4:"",pg3Tab3R4C1:"Actions de petites entreprises",pg3Tab3R4C2:"",pg3Tab3R4C3:"",pg3Tab3R4C4:"",pg3Tab3R5C1:"REER/FERR**",pg3Tab3R5C2:"",pg3Tab3R5C3:"",pg3Tab3R5C4:"",pg3Tab3R6C1:"Actifs porteurs d'int\xe9r\xeats",pg3Tab3R6C2:"",pg3Tab3R6C3:"",pg3Tab3R6C4:"",pg3Tab3R7C1:"Autres",pg3Tab3R7C2:"",pg3Tab3R7C3:"",pg3Tab3R7C4:"",pg3Tab3R8C1:"Total",pg3Tab3R8C2:"",pg3Tab3R8C3:"",pg3Tab3R8C4:"",pg3P4:" * L'obligation fiscale est projet\xe9e en utilisant votre taux d'imposition personnel actuel et la loi de l'imp\xf4t sur le revenu courante",pg3P5:" ** Veuillez consulter en annexe les hypoth\xe8ses relatives aux retraits de montants du FERR, puisqu'ils sont pris en compte dans ce calcul",pg4T:"Valeur future de votre patrimoine",pg4P1:"Selon les taux de croissance et d'imposition pr\xe9sum\xe9s, le tableau ci-dessous pr\xe9sente la valeur totale future de votre patrimoine et l'obligation fiscale au d\xe9c\xe8s qu'il faudrait financer pour chaque ann\xe9e \xe0 venir.",pg4GT:"Valeur du patrimoine et obligation fiscale",pg4P2:" * L'esp\xe9rance de vie est l\xe9g\xe8rement ombrag\xe9e dans le graphique \xe0 barres (year ^F : ",pg4P3:"Votre obligation fiscale future passe de X1 $ aujourd'hui \xe0 X2 $ \xe0 l'esp\xe9rance de vie plus 3 ans, et devra \xeatre financ\xe9e au d\xe9c\xe8s.",pg5T:"Options de protection du patrimoine",pg5Paragraphs:["Beaucoup de gens veulent garder leur patrimoine intact pour le transmettre \xe0 leurs h\xe9ritiers.  Mais quel est le meilleur moyen de financer l'obligation fiscale qui en d\xe9coule \xe0 au d\xe9c\xe8s afin que leurs actifs puissent \xeatre transmis sans encombre \xe0 leurs h\xe9ritiers?","En r\xe8gle g\xe9n\xe9rale, il y a quatre moyens d'obtenir les liquidit\xe9s n\xe9cessaires pour payer les imp\xf4ts exigibles au d\xe9c\xe8s :","Liquider les actifs","Emprunter de l'argent, ce qui signifie g\xe9n\xe9ralement utiliser des actifs en garantie","Cr\xe9er une r\xe9serve de liquidit\xe9s en \xe9pargnant de fa\xe7on syst\xe9matique tout au long de sa vie","Transf\xe9rer le risque en souscrivant une assurance vie \xe0 l'avance","Voici certains des avantages et inconv\xe9nients de chacune de ces options :","Liquider les actifs - Les cycles \xe9conomiques et l'\xe9tat des march\xe9s sont d\xe9terminants pour la valeur d'un actif. Vous n'avez aucun moyen de savoir ce qu'elle sera \xe0 votre d\xe9c\xe8s. En outre, la vente d'actifs par les ayants droit indique souvent \xe0 un acheteur qu'il y a une certaine urgence, ce qui n'aide pas le vendeur \xe0 en obtenir la pleine valeur.","Emprunter de l'argent -  En planification successorale, l'objectif principal est g\xe9n\xe9ralement de distribuer les actifs aux b\xe9n\xe9ficiaires. Emprunter de l'argent en c\xe9dant des actifs en garantie rend la t\xe2che plus difficile. En outre, il n'est pas possible de pr\xe9voir les conditions du march\xe9 au moment du d\xe9c\xe8s. Les institutions financi\xe8res connaissent des cycles, tout comme les taux d'int\xe9r\xeat sur les pr\xeats. ","Cr\xe9er une r\xe9serve de liquidit\xe9s - en planification successorale, une r\xe9serve de liquidit\xe9s n'est pas une option pratique, puisque vous ne savez pas quand le d\xe9c\xe8s surviendra et si, \xe0 ce moment-l\xe0, il y aura assez de liquidit\xe9s.","Transf\xe9rer le risque en souscrivant une assurance vie -  la souscription \xe0 l'avance d'une assurance vie permet d'\xe9liminer une grande partie des risques associ\xe9s au financement de l'obligation fiscale au d\xe9c\xe8s. Le capital d\xe9c\xe8s procure des liquidit\xe9s au moment m\xeame o\xf9 on en a besoin. Au Canada, il est vers\xe9 au b\xe9n\xe9ficiaire en franchise d'imp\xf4t."],pg5Plast:"La souscription d'une assurance vie est la m\xe9thode la plus pratique et la plus rentable pour transf\xe9rer le risque associ\xe9 au financement de l'obligation fiscale.",pg6T:"Utiliser l'assurance vie pour prot\xe9ger votre patrimoine",pg6Paragraphs1:["Une police d'assurance vie permanente peut \xeatre un bon moyen de s\xe9curiser cette future obligation fiscale. L'assurance vie \xe9limine une grande partie des risques financiers associ\xe9s \xe0 un d\xe9c\xe8s pr\xe9matur\xe9. Elle fournit l'aide financi\xe8re n\xe9cessaire moment du d\xe9c\xe8s de l'assur\xe9. ","\xc0 cette fin, l'assurance permanente est le type d'assurance vie le plus appropri\xe9, car la protection reste en vigueur jusqu'au d\xe9c\xe8s, peu importe l'\xe2ge. Il y a trois formules d'assurance vie permanente avec valeur de rachat :","Vie universelle","Vie enti\xe8re","Vie hybride","Les valeurs de rachat comprennent le capital accumul\xe9 dans le fonds d'accumulation \xe0 imp\xf4t diff\xe9r\xe9 de la police, y compris toute valeur de rachat garantie offerte au titulaire de police par la compagnie d'assurance \xe0 la r\xe9siliation du contrat. Selon le type de police, le titulaire peut avoir acc\xe8s \xe0 la valeur de rachat totale, y compris la partie garantie, gr\xe2ce \xe0 un certain nombre de m\xe9thodes diff\xe9rentes.","L'une des difficult\xe9s que pose l'achat d'une assurance est que l'obligation fiscale change au fil du temps. Les polices d'assurance peuvent \xeatre con\xe7ues sur mesure pour r\xe9pondre \xe0 votre situation particuli\xe8re. Pour ce faire, on s'assure que le capital d\xe9c\xe8s correspond le plus possible aux liquidit\xe9s n\xe9cessaires pour payer l'obligation fiscale au moment du d\xe9c\xe8s. "],pg6Paragraphs2:["Il s'agit d'un produit hybride con\xe7u sur mesure pour r\xe9pondre \xe0 vos besoins d'assurance visant \xe0 pr\xe9voir les obligations croissantes li\xe9es \xe0 votre patrimoine. Une police d'assurance vie hybride combine de fa\xe7on unique les meilleurs \xe9l\xe9ments de l'assurance vie enti\xe8re traditionnelle et de l'assurance vie universelle :","Le co\xfbt de l'assurance n'augmentera pas","Le capital d\xe9c\xe8s est constitu\xe9 du montant d'assurance de base, d'une assurance suppl\xe9mentaire lib\xe9r\xe9e et de la valeur des placements","La police comprend des valeurs de rachat garanties par le contrat","Des fonds suppl\xe9mentaires, en sus du co\xfbt de l'assurance, peuvent \xeatre d\xe9pos\xe9s","Les fonds sont investis \xe0 la discr\xe9tion du titulaire de la police (et non de la compagnie d'assurance) et comprennent les options suivantes : revenu fixe, comptes indiciels d'actions, fonds distincts qui calquent des fonds communs et compte de placement \xe0 rendement stabilit\xe9"],pg7T:"R\xe9sum\xe9",pg7P1:"La souscription d'une assurance vie constitue le meilleur moyen de pr\xe9voir l'obligation fiscale au d\xe9c\xe8s. Elle d\xe9gage efficacement les ayants droit du risque financier. Non seulement elle vous apporte la tranquillit\xe9 d'esprit, mais elle surpasse \xe9galement les autres m\xe9thodes alternatives en terme de co\xfbt financier..",pg8T:"Annexe",pg8P1:"Projections d\xe9taill\xe9es de l'obligation fiscale pour toutes les cat\xe9gories d'actifs combin\xe9es",pg8P2:"Projections d\xe9taill\xe9es de l'obligation fiscale par cat\xe9gorie d'actifs :",pg8O1:"Cacher",pg8O2:"Montrer",pgFooter:"Voir les notes importantes \xe0 la fin du document.",pg9T:"Notes importantes",pg9P1:"Le pr\xe9sent expos\xe9 ne comporte que des renseignements g\xe9n\xe9raux. L'information qui s'y trouve ne doit pas \xeatre consid\xe9r\xe9e par le lecteur comme des conseils juridiques, comptables, fiscaux ou actuariels. Pour ces questions, le lecteur devrait consulter un professionnel ind\xe9pendant. Veuillez vous reporter aux expos\xe9s de vente, au libell\xe9 des contrats et \xe0 la documentation des compagnies d'assurance pour obtenir des pr\xe9cisions sur les questions d'assurance mentionn\xe9es dans le pr\xe9sent document.",pg9P2:"Tous les calculs fiscaux sont fournis \xe0 titre d'exemple seulement et sont bas\xe9s sur les taux d'imp\xf4t et la Loi de l'imp\xf4t sur le revenu en vigueur en date de la pr\xe9sentation. Nous pr\xe9sumons qu'il s'agit d'un r\xe9sident canadien et non pas d'un citoyen am\xe9ricain.",graphsT1:"Obligation fiscale aujourd\u2019hui et \xe0 l'esp\xe9rance de vie, plus 3 ans",graphsT2:"Obligation fiscale aujourd\u2019hui",graphsT3:"Obligation fiscale \xe0 l'esp\xe9rance de vie, plus 3 ans",graphsL1:"Passifs",graphsL2:"Imp\xf4t: REER/FERR",graphsL3:"Imp\xf4t: Gain en capital",graphsL4:"Imp\xf4t: sur le revenu",graphsL5:"Imp\xf4t: sur dividende",graphs2L1:"Besoins d\u2019assurance futurs ",graphs2L2:"\xe0 l'esp\xe9rance de vie",graphsTaxes:"Imp\xf4t: ",graphsLeakageT1:"R\xe9duction du patrimoine aujourd\u2019hui et \xe0 l'esp\xe9rance de vie, plus 3 ans",graphsLeakageT2:"R\xe9duction du patrimoine aujourd\u2019hui",graphsLeakageT3:"R\xe9duction du patrimoine \xe0 l'esp\xe9rance de vie, plus 3 ans",graphsLeakage1:"Valeur successorale nette",graphsLeakage2:"Obligation fiscale"}}},720:function(e,t){},722:function(e,t){},723:function(e,t){},729:function(e,t){},731:function(e,t){},749:function(e,t){},751:function(e,t){},763:function(e,t){},766:function(e,t){},771:function(e,t,a){},791:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAWCAIAAAANYFjGAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFVSURBVEhLY/z//z/D4ANMUHqQASqH1o8fPyAMDg4OCIM8MEhDaxBHIjzkaQTIiNDRSCQFoEdi7d63yy5+efHlzz+iMygTI4MED0uUPk+zszBUCBWQEYkIZ917/9t1/rNnn/9AJMgAUrwsuxOllARZoXwYoChtUegmIABqBxoC5VAGoM4Cxh2pbprqL/mpQfN/uzaQBLIhgkBDgEZB2JQAqLOA6QnCIBIA3ZFlIcTLDtIOJIFsuMtINQorgDoLmMYhDCJBrKEAlAUDcBFSjcIKoM4iPt9BACSckAFchFSjsAKoWcBMThL4/PMflAUDcBFSjcIKoM4CFjwQBpFg8fkPUBYMwEVINQorgDoLWBhCGESC7I3Pp514BwkhIAlkA0UgUqQahRUgilPlvocUlltAACxR7xbJQzkwQFFxCiyggYZCOWQBSCkP5VAGBnGdCGUOHsDAAAC1IZnmPH6jBwAAAABJRU5ErkJggg=="},792:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAZCAIAAAD8NuoTAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAKjSURBVEhLzZbPahNBHMc3+6dJdpvQkEojvSRYKCJolYrgVYSiFyV49jXEB5AefQMfQIp4EArqA5SKYsFKD6VFqaS0mnbTbDY7s1m/uzPEdt3sziY55HOYzP42M/nkN38znudJk4fMPyeMCdUa2yCyfs73lslk+mVaxqCFHhi9AFQQhI0cgAqDfVmQUbWYDaV0c6+79tnZ2O8dnPgdzs9k7lTl+q2p27WsqqrMjzURYSQtCLmuSwh5/qb9+kuPRy/y5Kb84rGhaZqiKJDj0SQGan3aJzsNenzWc6N/LsiTSylx3m7Rn6cKj0Zxtya9empks37aBHMWoXViee+27ENzgE4AWsGKku6Hbef7kcqjg6nfkFbrBZgJjmZEVhOdAvxUHfwWcgJrX6WN3Q6m4P9ZiCSshbFLdApS5WEAtxuJ9v/AgsAsZG15aDBhLcwnXovFX34u/WXGTakQmz8kZAvt+HMsYS3McV6LA3/Y1zojKbQaLZlpDZMtUQIvlPxRANhgNxFxAmGt2ekUoobm8poAlUKKiRiWWKwIrSwcLrKsVHSbPwqwdJlgRxXct8Jay1VtrpiYMHQOK3Wh7PCAAA+uuuKnUITBw+u5RDP/HFbU+RnlSuGUh2JZWWgvV6eYFg/FMuThExw8xLEty/yzvmsc2tP8RRRLc9bLR7RcLhuGfziKmA15VKMVlnq32221Ws1mc/Wj8n6vyN9d5H7NfHbPLZVKhUKKw2f4GwQaYh+CWbvdNk0TF5v1He3bsX5kaXh7SSfXZq2VRYKLTbFYRJ5GParF6V9sbBvDaXU6HVgigldYdPDI5/O6rudyubFdbARho4m0QQ4l6GshNwBCKAXHrs+oWgA9MOAHUEEw2EJ8UGGwLwsyBi0G6+d8b0wlrZCPJP0F2oqhNNA6qd4AAAAASUVORK5CYII="},793:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAZCAIAAAD8NuoTAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACFSURBVEhL7dcxDoAgDAVQ6sSN4P6nYhKRdtA42B8YOvy3WBvT/AjRIL33FM9h12AYCxE01mvLt9as2i3nbJUPFxHBWAjGQvzHKqXUWu1m8nQWud7W93fu6azg5xTBWAjGQjAWImisDQeyMUGd0yhGU0SOaRRKH3badk7UOc9pGgUNdEvpAg55Of2PHimJAAAAAElFTkSuQmCC"},794:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAZCAIAAAD8NuoTAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACBSURBVEhL7dRBCoAgEAVQ9XoRXaFFm04XUl0vmxyRcNUHQYP/FpNFDH/xy4YQTH9cunaGsRA/ibX5Y15Wmem+kTKW3888GypjTeOQZ0P8byFYeQQrj2DlEaw8gpVHMBai01gVKi8b1BXJQR5aa10kB6Uvf1TtS9Q9720aBQ30MOYGI+VMGsZJ3L0AAAAASUVORK5CYII="},817:function(e,t,a){},819:function(e,t,a){"use strict";a.r(t);a(515),a(516);var n=a(0),r=a.n(n),i=a(26),s=a.n(i),o=a(499),l=a(15),u=a(16),p=a(18),c=a(17),d=a(19),g=a(10),h=a.n(g),b=a(13),m=a(201),f=a(1),y=a(42),E=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({selection:e.label.valueOf(),valueSelected:e.label.valueOf()},(function(){return n.afterStateUpdate()})),n.update=!0},n.disableOption=function(e){return void 0!==n.props.disableOption&&n.props.disableOption[e.value-1]},n.oc=function(){},n.state={selection:"?",valueSelected:n.props.defValue},n.update=!1,n}return Object(u.a)(a,[{key:"componentWillReceiveProps",value:function(e){e!==this.props&&void 0!==e.defValue&&this.setState({valueSelected:e.defValue})}},{key:"afterStateUpdate",value:function(){this.props.updateDDown(this.props.id,this.state.selection)}},{key:"getDefault",value:function(){var e=this;try{return this.props.Values[this.props.Values.find((function(t){return t.label===e.props.defValue})).value-1]}catch(t){return this.props.defValue}}},{key:"render",value:function(){var e=this,t="dropDown";this.props.width===f.U&&(t="dropDown dropDown2");var a=this.props.Title,n={control:function(e){return Object(d.a)(Object(d.a)({},e),{},{height:35,minHeight:35,backgroundColor:"#e9eef1","&:hover":{backgroundColor:"#d6e5ee"}})}},i=this.getDefault()===this.props.unlistedValue,s=[];s.push({label:this.props.unlistedValue,value:1});var o=r.a.createElement(m.a,{isSearchable:!0,onfocus:this.oc,styles:n,key:this.props.defValue,isDisabled:this.props.disable,value:this.getDefault(),id:this.props.id,onChange:this.handleChange,options:this.props.Values,isOptionDisabled:function(t){return e.disableOption(t)}});return!0===i&&(o=r.a.createElement(m.a,{isSearchable:!0,styles:n,key:this.props.defValue,isDisabled:!1,value:s[0],id:this.props.id,options:s})),void 0!==this.props.unlistedGreyedOption&&(o=r.a.createElement(m.a,{isSearchable:!0,styles:n,key:this.props.defValue,isDisabled:!0,value:this.props.unlistedGreyedOption[0],id:this.props.id,options:this.props.unlistedGreyedOption})),r.a.createElement("div",null,r.a.createElement("div",{className:t,key:this.props.defValue},r.a.createElement("div",{className:"controlTitle"},a,void 0!==this.props.infoIcon?r.a.createElement(y.a,{infoIcon:this.props.infoIcon,zIndex:999}):""),o))}}]),a}(n.Component),v=a(27),T=a(95),A=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).doRemove=function(e){n.props.handleDoRemove(e)},n.doAdd=function(){n.props.handleDoAdd()},n.doAdd=n.doAdd.bind(Object(T.a)(n)),n.doRemove=n.doRemove.bind(Object(T.a)(n)),n}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t="addRemove";this.props.disabled&&(t="addRemove addRemoveDisabled");var a=this.props.minComps,n=void 0===this.props.maxRows?100:this.props.maxRows;void 0===a&&(a=1);var i="";return(this.props.currentID>=this.props.numberComps||0===this.props.numberComps)&&this.props.currentID<n?(i=r.a.createElement("span",null,r.a.createElement("button",{className:t,onClick:this.doAdd},"+")),(a>1&&this.props.currentID>a||this.props.currentID>a)&&(i=r.a.createElement("span",null,r.a.createElement("button",{className:t,onClick:this.doAdd},"+"),r.a.createElement("button",{className:t,onClick:function(){e.doRemove(e.props.currentID)}},"-")))):!0===this.props.fixedFirstRow&&1===this.props.currentID||!(this.props.currentID>a||a<=1)||(i=r.a.createElement("span",null,r.a.createElement("button",{className:t,onClick:function(){e.doRemove(e.props.currentID)}},"-"))),i}}]),a}(r.a.Component),O=a(2),I=a(24),C=a(32),S=a(40);function N(e,t){var a=e.Clients[0].Age;e.length>1?e.Clients[f.tb].avgTaxRate:e.Clients[f.rb].avgTaxRate;return e.length>1&&e.Clients[f.tb].Age<a&&(a=e.Clients[f.tb].Age),{lives:function(e){var t,a=[];for(t=0;t<e.Clients.length;t++)a.push({Age:e.Clients[t].Age,Sex:e.Clients[t].sexKey,Smk:e.Clients[t].smokerKey===f.vb.SMOKER.Key?"S_STD":"NS_STD",Rating:100,member:e.Clients[t].memberKey,salary:e.Clients[t].Income,CPPeligibility:e.Clients[t].Eligibility/100,retirementAge:e.Clients[t].retirementAge,avgTaxRate:e.Clients[t].avgTaxRate/100,isQC:"QC"===e.Presentations[0].provinceKey,Name:e.Clients[t].Name});return a}(e),assets:function(e){var t,a=[],n=function(){var n=e.Assets[t],r=n.description,i=n.assetTypeKey;a.push({name:Object.values(f.c).filter((function(e){return e.Key===i}))[0].value.en,desc:r,ID:Object.values(f.c).filter((function(e){return e.Key===i}))[0].ID,taxMethod:n.assetTaxTypeKey,owner:Object.values(f.q).filter((function(e){return e.Key===n.ownerKey}))[0].ID,ACB:n.ACB,smallBusinessCapGainExemption:n.smallBusinessCapGainExemption,dispositionYr:n.assetTaxTypeKey===f.r.REGISTERED.Key&&n.ownerKey!==f.q.CLIENT_LIQUIDATE.Key?99:n.DisposeYr,dispositionDur:0===n.DisposeDur?1:n.DisposeDur,dispositionYrUlt:100,currValue:n.currValue,annualGrowth:n.growth/100,incomeRate:n.incomeRate/100,contributionAmt:n.contributionAmt,contributionStartYr:n.contributionStartYr,contributionDur:n.contributionDur,withdrawalAmt:n.withdrawalAmt,withdrawalStartYr:n.withdrawalStartYr,withdrawalDur:n.withdrawalDur,RRIFStartAge:n.RRIFStartAge})};for(t=0;t<e.Assets.length;t++)n();return a}(e),liabilities:function(e){var t,a=[],n=function(){var n=e.Liabilitys[t].growthDirKey===f.Y.GROWS.Key?e.Liabilitys[t].growth/100:-e.Liabilitys[t].growth/100,r=e.Liabilitys[t].liabTypeKey;a.push({name:Object.values(f.fb).filter((function(e){return e.Key===r}))[0].value.en,ID:Object.values(f.fb).filter((function(e){return e.Key===r}))[0].ID,owner:e.Liabilitys[t].ownerKey,currValue:e.Liabilitys[t].currValue,annualGrowth:n,exposureDur:e.Liabilitys[t].exposureDur,annualRepay:e.Liabilitys[t].repay})};for(t=0;t<e.Liabilitys.length;t++)n();return a}(e),personalIncomeSources:function(e,t){var a,n=[],r=function(){var t=void 0,r=e.Clients.filter((function(t){return t.id===e.Sources[a].ownerID}));void 0!==r&&r.length>0&&(t=r[0].avgTaxRate/100);var i=e.Sources[a].sourceTypeKey;e.Sources[a].sourceTypeKey!==f.eb.GOV_SURVIVORS_PENSION.Key&&e.Sources[a].sourceTypeKey!==f.eb.GOV_ORPHANS_BENEFIT.Key&&e.Sources[a].sourceTypeKey!==f.eb.GOV_DEATH_BENEFIT.Key&&n.push({ID:Object.values(f.eb).filter((function(e){return e.Key===i}))[0].ID,name:Object.values(f.eb).filter((function(e){return e.Key===i}))[0].value.en,amount:e.Sources[a].amount,startYear:e.Sources[a].startYear,duration:e.Sources[a].duration,annualGrowth:e.Presentations[0].inflation/100,taxRate:i===f.eb.DIVIDEND_INCOME.Key?e.Sources[a].taxRate/100:t,ownerID:e.Sources[a].ownerID})};for(a=0;a<e.Sources.length;a++)r();return n}(e),estateContingiencies:[],incomeNeeds:function(e){var t,a=[],n=function(){var n=e.Needs[t].needTypeKey;a.push({ID:Object.values(f.db).filter((function(e){return e.Key===n}))[0].ID,name:Object.values(f.db).filter((function(e){return e.Key===n}))[0].value.en,amount:e.Needs[t].amount,incomePercent:e.Needs[t].Percent/100,startYear:e.Needs[t].startYear,duration:e.Needs[t].duration,annualGrowth:e.Presentations[0].inflation/100})};for(t=0;t<e.Needs.length;t++)n();return{incomePercentAfterDeath:.6,incomeNeedItems:a,upToChildrenOutYrs:0,childrenOutToRetirementYrs:0,retirementToEndYrs:0}}(e),ratesPack:function(e){return{investmentRate:e.Presentations[0].invRate/100,taxRate:e.Presentations[0].taxRate/100,dividendTaxRate:.33,capitalGainsInclusion:.5,inflationRate:e.Presentations[0].inflation/100}}(e),projectionSettings:function(e,t,a){var n=new Date,r=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();return{deathYear:0,deathOf:0,startYear:1,endYear:100-e+1,province:t.Presentations[0].provinceKey,language:"en"===t.Presentations[0].language?0:1,returnType:4,projectEndOption:t.Presentations[0].periodOption,clientsName1:t.Presentations[0].designedFor,agentName:t.Presentations[0].designedBy,valuationDate:r,notes:t.Presentations[0].notes,version:Object(O.B)().version,caller:C.appletMode,insuranceAmt:parseFloat(Object(O.b)(a))}}(a,e,t)}}function R(e,t){var a,n;for(t.Presentations[0].language=0===e.projectionSettings.language?"en":"fr",t.Clients=[],t.clientsNo=e.lives.length,a=0;a<e.lives.length;a++){n=e.lives[a].Smk<=2?"NS_STD":"S_STD";var r=Object.values(f.ib).filter((function(t){return t.ID===e.lives[a].member}))[0].Key,i=!0;f.a&&r!==f.ib.CLIENT.Key&&r!==f.ib.SPOUSE.Key&&(i=!1),i&&t.Clients.push({id:a+1,Age:e.lives[a].Age,sexKey:Object.values(f.ub).filter((function(t){return t.ID===e.lives[a].Sex}))[0].Key,smokerKey:"NS_STD"===n?f.vb.NON_SMOKER.Key:f.vb.SMOKER.Key,Income:e.lives[a].salary,avgTaxRate:100*e.lives[a].avgTaxRate,memberKey:r,retirementAge:e.lives[a].retirementAge,Eligibility:100*e.lives[a].CPPeligibility,Name:e.lives[a].Name})}for(t.Assets=[],t.assetsNo=e.assets.length,a=0;a<e.assets.length;a++){e.assets[a].name===f.c.PERSONAL_RESIDENCE.value.oldName&&(e.assets[a].name=f.c.PERSONAL_RESIDENCE.value.en);var s=Object.values(f.q).filter((function(t){return t.ID===e.assets[a].owner}))[0].Key;f.a&&e.assets[a].name===f.c.RRSP_RRIF.value.en&&(1===e.lives.length?s=f.q.CLIENT.Key:s!==f.q.CLIENT.Key&&(s=f.q.SPOUSE.Key)),t.Assets.push({id:a+1,assetTypeKey:w(Object.values(f.c),e.assets[a].name),description:e.assets[a].desc,ownerKey:s,assetTaxTypeKey:Object.values(f.r).filter((function(t){return t.ID===e.assets[a].taxMethod}))[0].Key,currValue:e.assets[a].currValue,growth:100*e.assets[a].annualGrowth,DisposeYr:e.assets[a].dispositionYr,DisposeDur:e.assets[a].dispositionDur,ACB:e.assets[a].ACB,smallBusinessCapGainExemption:e.assets[a].smallBusinessCapGainExemption,contributionAmt:e.assets[a].contributionAmt,contributionStartYr:e.assets[a].contributionStartYr,contributionDur:e.assets[a].contributionDur,withdrawalAmt:e.assets[a].withdrawalAmt,withdrawalStartYr:e.assets[a].withdrawalStartYr,withdrawalDur:e.assets[a].withdrawalDur,incomeRate:100*e.assets[a].incomeRate,RRIFStartAge:e.assets[a].RRIFStartAge})}for(t.Liabilitys=[],t.liabilitysNo=e.liabilities.length,a=0;a<e.liabilities.length;a++)t.Liabilitys.push({id:a+1,liabTypeKey:w(Object.values(f.fb),e.liabilities[a].name),ownerKey:f.pb.CLIENT.Key,currValue:e.liabilities[a].currValue,growthDirKey:e.liabilities[a].annualGrowth>=0?f.Y.GROWS.Key:f.Y.REDUCES.Key,growth:Math.abs(100*e.liabilities[a].annualGrowth),exposureDur:e.liabilities[a].exposureDur,assetTaxLiabID:0,repay:e.liabilities[a].annualRepay});for(t.Sources=[],t.sourcesNo=e.personalIncomeSources.length,a=0;a<e.personalIncomeSources.length;a++)t.Sources.push({id:a+1,sourceTypeKey:w(Object.values(f.eb),e.personalIncomeSources[a].Name),amount:e.personalIncomeSources[a].amount,startYear:e.personalIncomeSources[a].startYear,duration:e.personalIncomeSources[a].duration,taxRate:100*e.personalIncomeSources[a].taxRate,ownerID:void 0===e.personalIncomeSources[a].ownerID||0===e.personalIncomeSources[a].ownerID?t.Clients.length>1?2:1:e.personalIncomeSources[a].ownerID});for(t.Needs=[],t.needsNo=e.incomeNeeds.incomeNeedItems.length,a=0;a<e.incomeNeeds.incomeNeedItems.length;a++){var o=w(Object.values(f.db),e.incomeNeeds.incomeNeedItems[a].name),l=e.incomeNeeds.incomeNeedItems[a].amount;o===f.db.PERCET_OF_INCOME.Key&&t.Clients.length>1&&(l=parseInt(e.incomeNeeds.incomeNeedItems[a].incomePercent*Object(O.f)(t.Clients,1))),t.Needs.push({id:a+1,needTypeKey:o,Percent:100*e.incomeNeeds.incomeNeedItems[a].incomePercent,amount:l,startYear:e.incomeNeeds.incomeNeedItems[a].startYear,duration:e.incomeNeeds.incomeNeedItems[a].duration})}t.Presentations=[],t.presentationsNo=1;var u,p,c=x();if(void 0!==c&&null!==c)u=c.Presentations[0].adviserLogo,p=c.Presentations[0].appletImage;else{var d=Object(O.k)();u=d.adviserLogo,p=d.appletImage}return t.Presentations.push({id:1,provinceKey:Object.values(f.qb).filter((function(t){return t.ID===e.projectionSettings.province}))[0].Key,invRate:100*e.ratesPack.investmentRate,inflation:100*e.ratesPack.inflationRate,taxRate:100*e.ratesPack.taxRate,designedFor:e.projectionSettings.clientsName1,designedBy:e.projectionSettings.agentName,valuationDate:e.projectionSettings.valuationDate,notes:e.projectionSettings.notes,language:0===e.projectionSettings.language?"en":"fr",periodOption:e.projectionSettings.projectEndOption,adviserLogo:u,appletImage:p}),t}function x(){var e=f.F;return JSON.parse(localStorage.getItem(e))}function j(e){var t,a=(t={designedFor:"",designedBy:"",dateApplet:"",province:"",clients:[],assets:[],liabilities:[],source:[],totalLiab:0,Income:0,Income2:0,survivorATaxIncome:0,percentNeed1:0,percentNeed2:[],govDB:0,totalAsset:0,totalDisposeAsset:0},Object(S.a)(t,"totalLiab",0),Object(S.a)(t,"totalSource",0),Object(S.a)(t,"totalSource2",0),Object(S.a)(t,"percentNeed1",0),Object(S.a)(t,"totalSource",0),Object(S.a)(t,"totalSourceATax",0),Object(S.a)(t,"totalSource2ATax",0),Object(S.a)(t,"infRate",0),Object(S.a)(t,"invRate",0),Object(S.a)(t,"insNeedLE",0),Object(S.a)(t,"insNeedRet",0),Object(S.a)(t,"insNeedYgChild25",0),Object(S.a)(t,"insNeedYgChild18",0),Object(S.a)(t,"ygChild",100),Object(S.a)(t,"hasChild",!1),t),n=new Date,r=n.getUTCMonth()+1,i=n.getUTCDate(),s=n.getUTCFullYear(),o=e.dataInput,l=Object(O.y)(o.Clients);a.language=o.Presentations[0].language,a.dateApplet="en"===a.language?f.kb[a.language][r-1]+" "+i+", "+s:i+" "+f.kb[a.language][r-1]+" "+s,a.designedFor=o.Presentations[0].designedFor,a.designedBy=o.Presentations[0].designedBy,a.province=Object(O.q)(f.qb,o.Presentations[0].provinceKey,a.language),a.Income=o.Clients[f.rb].Income,a.Income2=o.Clients.length>1?o.Clients[f.tb].Income:0,a.invRate=o.Presentations[0].invRate,a.infRate=o.Presentations[0].inflation,a.insNeedRet=parseFloat(Object(O.b)(e.insuranceNeedRet)),a.insNeedLE=parseFloat(Object(O.b)(e.insuranceNeedLE)),a.ygChild=100,a.hasChild=!1;var u=f.ib.CHILD.Key,p=o.Clients.filter((function(e){return e.memberKey===u}));p.length>0&&(a.hasChild=!0,p.forEach((function(e){e.Age<=a.ygChild&&(a.ygChild=e.Age)})));var c="QC"===Object(O.p)(f.qb,a.province)?f.hb:f.gb;a.youngestChildEndAge=c,a.hasChild&&(a.youngestChildEndAge=Math.min(c,o.Clients.filter((function(e){return e.Age===a.ygChild}))[0].retirementAge)),a.insNeedYgChild25=0,a.insNeedYgChild18=0;for(var d=0;d<a.youngestChildEndAge-a.ygChild;a.insNeedYgChild25+=e.dataShortfall[d++]/Math.pow(1+a.invRate/100,d-1));for(var g=0;g<18-a.ygChild;a.insNeedYgChild18+=e.dataShortfall[g++]/Math.pow(1+a.invRate/100,g-1));a.insNeedYgChild25=a.insNeedYgChild25<0?0:a.insNeedYgChild25,a.insNeedYgChild18=a.insNeedYgChild18<0?0:a.insNeedYgChild18,a.liabilities=[],Object.values(f.fb).forEach((function(e){e.order>0&&a.liabilities.push({name:e.value[a.language],value:0})})),a.incomeNeeds=[],Object.values(f.db).forEach((function(e){a.incomeNeeds.push({name:e.value[a.language],value:0})})),a.totalLiab=0,a.totalLiabExcludeDeathRelated=0,o.Liabilitys.forEach((function(e){var t=a.liabilities.indexOf(a.liabilities.filter((function(t){return t.name===Object(O.q)(f.fb,e.liabTypeKey,a.language)}))[0]);a.totalLiab+=e.currValue,a.totalLiabExcludeDeathRelated+=e.liabTypeKey===f.fb.LAST_EXPENSES.Key||e.liabTypeKey===f.fb.LEGAL_AND_EXECUTOR_FEES.Key?0:e.currValue,void 0!==t&&(a.liabilities[t].value+=e.currValue)})),a.clients=[];var h=0;o.Clients.forEach((function(e){h+=e.Income,a.clients.push({id:e.id,memberKey:e.memberKey,age:e.Age,name:e.Name,income:e.Income,ret:e.memberKey!==u||l?e.retirementAge:" - "})})),a.assets=[],Object.values(f.c).forEach((function(e){"EP"===C.appletMode&&e.Key===f.c.CHARITABLE_GIFTS_TAX_CREDIT.Key||a.assets.push({name:e.value[a.language],value:0,disposeValue:0})})),a.totalAsset=0,a.totalAssetExcludeInsurance=0,a.totalAssetInsurance=0,a.totalAssetInsuranceIfSpouse=0,o.Assets.forEach((function(e){var t=a.assets.indexOf(a.assets.filter((function(t){return t.name===Object(O.q)(f.c,e.assetTypeKey,a.language)}))[0]),n=void 0!==t&&t>=0&&0===e.DisposeYr;e.assetTypeKey===f.c.LIFE_INSURANCE.Key&&e.ownerKey!==f.q.CLIENT_LIQUIDATE.Key&&e.ownerKey!==f.q.CLIENT_ROLLOVER.Key&&(n=!1),a.totalAsset+=e.currValue,a.totalAssetExcludeInsurance+=e.assetTypeKey===f.c.LIFE_INSURANCE.Key?0:e.currValue,a.totalAssetInsurance+=e.assetTypeKey===f.c.LIFE_INSURANCE.Key&&e.ownerKey!==f.q.SPOUSE.Key?e.currValue:0,a.totalAssetInsuranceIfSpouse+=e.assetTypeKey===f.c.LIFE_INSURANCE.Key&&e.ownerKey!==f.q.CLIENT_LIQUIDATE.Key&&e.ownerKey!==f.q.CLIENT_ROLLOVER.Key?e.currValue:0,a.totalDisposeAsset+=n?e.currValue:0,void 0!==t&&t>=0&&(a.assets[t].value+=e.currValue),n&&(a.assets[t].disposeValue+=e.currValue)}));var b="";o.Assets.forEach((function(e){e.assetTypeKey===f.c.OTHER_ASSETS.Key&&e.currValue>0&&(b+=" "+(""===e.description?"...":e.description)+" - ")})),a.otherAssetsList=""!==b?"* "+f.c.OTHER_ASSETS.value[a.language]+":"+b.substring(0,b.length-3):"",a.sources=[],a.govDB=0;var m=f.eb.GOV_DEATH_BENEFIT.Key;Object.values(f.eb).forEach((function(e){a.sources.push({name:e.value[a.language],value:0})})),a.totalSource=0,a.totalSource2=0,a.totalSourceATax=0,a.totalSource2ATax=0,a.totalDesiredGrossIncome=0,a.totalDesiredGrossIncome2=0;var y=f.eb.GOV_ORPHANS_BENEFIT.Key;o.Sources.forEach((function(e){var t=a.sources.indexOf(a.sources.filter((function(t){return t.name===Object(O.q)(f.eb,e.sourceTypeKey,a.language)}))[0]);e.sourceTypeKey===m?(a.govDB=e.amount,a.totalAsset+=a.govDB,a.totalDisposeAsset+=a.govDB):(a.totalSource+=e.amount,a.totalSource2+=e.sourceTypeKey!==y?e.amount:0),void 0!==t&&(a.sources[t].value+=e.amount)})),a.sources=a.sources.filter((function(e){return e.name!==Object(O.q)(f.eb,m,a.language)})),a.totalSourceATax=o.Clients.length>1?a.totalSource*(1-o.Clients[f.tb].avgTaxRate/100):a.totalSource*(1-o.Clients[f.rb].avgTaxRate/100),a.totalSource2ATax=o.Clients.length>1?a.totalSource2*(1-o.Clients[f.tb].avgTaxRate/100):a.totalSource2*(1-o.Clients[f.rb].avgTaxRate/100),a.percentNeed1=0,a.percentNeed2=[],a.percent1=0,a.percent2=[];var E=f.db.PERCET_OF_INCOME.Key;return a.needs=[],Object.values(f.db).forEach((function(e){a.needs.push({name:e.value[a.language],value:0})})),a.totalNeed=0,o.Needs.forEach((function(e){var t=a.needs.indexOf(a.needs.filter((function(t){return t.name===Object(O.q)(f.db,e.needTypeKey,a.language)}))[0]);a.totalNeed+=e.amount,e.needTypeKey===E&&(0===a.percent1?(a.percent1=e.Percent,a.percentNeed1=e.amount,a.totalDesiredGrossIncome=h*e.Percent/100):(a.percent2.push(e.Percent),a.percentNeed2.push(e.amount),a.totalDesiredGrossIncome2+=h*e.Percent/100)),void 0!==t&&(a.needs[t].value+=e.amount)})),a}function w(e,t){return e.filter((function(e){return e.value.en.replace(/ /g,"").replace(/[\u00A0\u1680\u200b\u180e\u2000-\u2009\u200a\u200b\u200b\u200b\u202f\u205f\u200b\u3000]/g,"")==t.replace(/ /g,"").replace(/[\u00A0\u1680\u200b\u180e\u2000-\u2009\u200a\u200b\u200b\u200b\u202f\u205f\u200b\u3000]/g,"")||e.value.fr.replace(/ /g,"").replace(/[\u00A0\u1680\u200b\u180e\u2000-\u2009\u200a\u200b\u200b\u200b\u202f\u205f\u200b\u3000]/g,"")==t.replace(/ /g,"").replace(/[\u00A0\u1680\u200b\u180e\u2000-\u2009\u200a\u200b\u200b\u200b\u202f\u205f\u200b\u3000]/g,"")}))[0].Key}function D(e){return{id:e,assetTypeKey:f.c.PERSONAL_RESIDENCE.Key,description:"",ownerKey:"EP"===C.appletMode?f.q.CLIENT_ROLLOVER.Key:f.q.JOINT.Key,currValue:0,assetTaxTypeKey:f.r.NON_TAXABLE.Key,growth:0,DisposeYr:99,DisposeDur:1,ACB:0,smallBusinessCapGainExemption:0,contributionAmt:0,contributionStartYr:0,contributionDur:0,withdrawalAmt:0,withdrawalStartYr:1,withdrawalDur:0,incomeRate:0,RRIFStartAge:f.G,projection:null}}function P(e){return JSON.parse(JSON.stringify(e))}function L(e){var t={id:1,Age:f.w,sexKey:f.ub.MALE.Key,smokerKey:f.vb.NON_SMOKER.Key,Income:f.z,avgTaxRate:f.v,memberKey:f.ib.CLIENT.Key,retirementAge:f.y,Eligibility:f.x,Name:""},a={id:2,Age:f.H,sexKey:f.ub.FEMALE.Key,smokerKey:f.vb.NON_SMOKER.Key,Income:f.K,avgTaxRate:f.v,memberKey:f.ib.SPOUSE.Key,retirementAge:f.J,Eligibility:f.I,Name:""},n={id:e,Age:1,sexKey:f.ub.MALE.Key,smokerKey:f.vb.NON_SMOKER.Key,Income:0,avgTaxRate:0,memberKey:f.ib.CHILD.Key,retirementAge:65,Eligibility:0,Name:""};return 1===e?t:2===e?a:n}function F(e){return{id:e,sourceTypeKey:f.eb.SURVIVORS_INCOME.Key,amount:f.K,startYear:0,duration:f.J-f.H,ownerID:2,taxRate:f.v,growthRate:f.B}}function K(e){return{id:e,liabTypeKey:f.fb.LAST_EXPENSES.Key,ownerKey:f.pb.CLIENT.Key,currValue:0,growthDirKey:f.Y.GROWS.Key,growth:0,repay:0,exposureDur:99,assetTaxLiabID:0,assetTaxLiabProj:[]}}function B(e){var t={id:1,needTypeKey:f.db.PERCET_OF_INCOME.Key,Percent:f.D,amount:f.D*(f.K+f.z)*(1-f.v/100)/100,startYear:0,duration:f.J-f.H},a={id:e,needTypeKey:f.db.PERCET_OF_INCOME.Key,Percent:f.E,amount:f.E*(f.K+f.z)*(1-f.v/100)/100,startYear:f.J-f.H,duration:100};return 1===e?t:a}function k(e,t){var a=Object(O.k)();return{id:e,provinceKey:f.qb.BC.Key,invRate:f.C,inflation:f.B,taxRate:t,designedFor:"",designedBy:"",valuationDate:new Date,presentationDate:new Date,notes:"",version:Object(O.B)().version,periodOption:f.b?f.S:f.M,language:"en",resultsOption:f.R,adviserLogo:a.adviserLogo,appletImage:a.appletImage}}function _(){var e;if(null===localStorage.getItem(f.F))e=V();else try{e=x()}catch(t){e=V()}return e}function V(){var e=[];e.push(L(1)),f.b&&e.push(L(2));var t=[];t.push(D(1));var a=[];f.b&&a.push(F(1));var n=[K(1)],r=[];return r.push(B(1)),r.push(B(2)),{Clients:e,Assets:t,Liabilitys:n,Sources:a,Needs:r,Presentations:[k(1,0)]}}var M=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).displayName=a.name,n.handleDoRemove=function(e){n.props.handleRemoveClient(e)},n.handleDoAdd=function(){var e;1===n.props.clientsNo?e=L(2):((e=L(n.props.clientsNo+1)).Age=18-2*(n.props.clientsNo>6?4:n.props.clientsNo+1),e.sexKey=n.props.clientsNo%2?f.ub.MALE.Key:f.ub.FEMALE.Key,e.retirementAge=25),n.props.handleAddClient(e)},n.doSwitch=function(){n.props.switchClients()},n.handleUpdateInput=function(e,t){var a=n.getCurrClient(),r=!1;0===e?(r=a.Age!==parseInt(t),a.Age=parseInt(t)):1===e?(r=a.Income!==parseInt(Object(O.b)(t)),a.Income=parseInt(Object(O.b)(t))):2===e?(r=a.avgTaxRate!==parseInt(100*Object(O.b)(t,n.props.language))/100,a.avgTaxRate=parseInt(100*Object(O.b)(t,n.props.language))/100):3===e?(r=a.retirementAge!==parseInt(t),a.retirementAge=parseInt(t)):4===e&&(r=a.Eligibility!==parseInt(100*Object(O.b)(t,n.props.language))/100,a.Eligibility=parseInt(100*Object(O.b)(t,n.props.language))/100),r&&n.props.handleUpdate(a)},n.updateDDown=function(e,t){var a=n.getCurrClient();1===e?a.sexKey=Object(O.p)(f.ub,t):2===e?a.smokerKey=Object(O.p)(f.vb,t):3===e?a.memberKey=Object(O.p)(f.ib,t):5===e&&(a.Name=t),a.memberKey===f.ib.CHILD.Key?(a.Income=0,a.avgTaxRate=0,a.Age=16,a.retirementAge=25):a.memberKey===f.ib.DEPENDENT_ADULT.Key?(a.Income=0,a.avgTaxRate=0,a.Age=25,a.retirementAge=65):a.memberKey===f.ib.SPOUSE.Key&&(a.Income=6e4,a.avgTaxRate=.25,a.Age=40,a.retirementAge=65),n.props.handleUpdate(a)},n.writeBack=function(e){var t=n.getCurrClient();t.Name=e,n.props.handleUpdate(t)},n.updateName=function(e){n.setState({name:e.target.value},n.writeBack(e.target.value))},n.getCurrClient=function(){return{id:n.props.id,Age:n.props.clientCurr.Age,sexKey:n.props.clientCurr.sexKey,smokerKey:n.props.clientCurr.smokerKey,Income:n.props.clientCurr.Income,avgTaxRate:n.props.clientCurr.avgTaxRate,memberKey:n.props.clientCurr.memberKey,retirementAge:n.props.clientCurr.retirementAge,Eligibility:n.props.clientCurr.Eligibility,Name:n.props.clientCurr.Name}},n.handleFocus=function(e){e.target.select()},n.state={name:n.props.clientCurr.Name};var r=[{label:f.ub.MALE.value[n.props.language],value:1},{label:f.ub.FEMALE.value[n.props.language],value:2}],i=[{label:f.vb.NON_SMOKER.value[n.props.language],value:1},{label:f.vb.SMOKER.value[n.props.language],value:2}],s=[{label:f.ib.CLIENT.value[n.props.language],value:1},{label:f.ib.SPOUSE.value[n.props.language],value:2},{label:f.ib.CHILD.value[n.props.language],value:3},{label:f.ib.DEPENDENT_ADULT.value[n.props.language],value:4}];f.a&&(s=[{label:f.ib.CLIENT.value[n.props.language],value:1},{label:f.ib.SPOUSE.value[n.props.language],value:2}]);var o=f.u[n.props.language];return n.dataValues={DD:[{id:1,Title:o.sex,defValue:Object(O.q)(f.ub,n.props.clientCurr.sexKey,n.props.language),disableOptionValue:Object(O.l)(f.ub),Values:r},{id:2,Title:o.smoking,defValue:Object(O.q)(f.vb,n.props.clientCurr.smokerKey,n.props.language),disableOptionValue:Object(O.l)(f.vb),Values:i},{id:3,Title:o.member,defValue:Object(O.q)(f.ib,n.props.clientCurr.memberKey,n.props.language),disableOptionValue:Object(O.l)(f.ib),Values:s}]},n}return Object(u.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.clientCurr===this.props.clientCurr&&e.id===this.props.id&&e.clientsNo===this.props.clientsNo||(this.dataValues.DD[0].defValue=Object(O.q)(f.ub,e.clientCurr.sexKey,this.props.language),this.dataValues.DD[1].defValue=Object(O.q)(f.vb,e.clientCurr.smokerKey,this.props.language),this.dataValues.DD[2].defValue=Object(O.q)(f.ib,e.clientCurr.memberKey,this.props.language),this.setState({name:e.clientCurr.Name}))}},{key:"render",value:function(){var e=this,t=this.props.clientCurr.memberKey===f.ib.CHILD.Key||this.props.clientCurr.memberKey===f.ib.DEPENDENT_ADULT.Key,a=t&&this.props.isTheSurvivor,n=(this.props.clientCurr.Income>0&&(this.props.clientCurr.memberKey===f.ib.CHILD.Key||(this.props.clientCurr.memberKey,f.ib.DEPENDENT_ADULT.Key)),f.u[this.props.language]),i=this.props.clientCurr.memberKey===f.ib.CLIENT.Key&&1===this.props.id,s=i;this.dataValues.DD[2].disableOptionValue[f.rb]=!0,this.dataValues.DD[2].disableOptionValue[f.tb]=!a||2!==this.props.clientCurr.id;var o=1===this.props.clientCurr.id?f.wb[this.props.language].insured:2===this.props.clientCurr.id?f.wb[this.props.language].benef:"";f.a&&(o=1===this.props.clientCurr.id?1===this.props.clientsNo?f.wb[this.props.language].insured:f.wb[this.props.language].insuredJLTD:2===this.props.clientCurr.id?f.wb[this.props.language].insuredJLTD:"");var l=o;""===this.state.name||this.state.name,""===this.state.name||this.state.name;return r.a.createElement("div",{className:"inputRow"},r.a.createElement("div",{className:"dropDown inputDiv"},r.a.createElement("div",{className:"controlTitle"},f.u[this.props.language].name),r.a.createElement("input",{key:5,id:5,className:"inputField  textareaAssetName",placeholder:l,value:this.state.name,onClick:function(t){return e.handleFocus(t)},onFocus:function(t){return e.handleFocus(t)},type:"text",onBlur:function(t){return e.updateName(t)},onChange:function(t){return e.setState({name:t.target.value})}})),r.a.createElement(v.a,{id:0,inputName:n.age,format:1,Count:this.props.clientsNo,language:this.props.language,inputValue:this.props.clientCurr.Age,handleUpdateInput:this.handleUpdateInput}),this.dataValues.DD.map((function(a){return t&&a.Title===n.smoking||a.Title===n.age?"":r.a.createElement(E,{key:a.id,id:a.id,Count:e.props.clientsNo,Title:a.Title,defValue:a.defValue,disable:a.Title===n.member&&s,infoIcon:a.Title===n.member&&a.defValue===Object(O.q)(f.ib,f.ib.CLIENT.Key,e.props.language)?Object(I.n)(e.props.language):void 0,Values:a.Values,language:e.props.language,disableOption:a.disableOptionValue,updateDDown:e.updateDDown})})),r.a.createElement(v.a,{id:1,inputName:n.income,format:2,Count:this.props.clientsNo,infoIcon:1===this.props.id?Object(I.u)(this.props.language):void 0,language:this.props.language,inputValue:this.props.clientCurr.Income,handleUpdateInput:this.handleUpdateInput}),r.a.createElement(v.a,{id:2,inputName:n.avgTax,format:3,Count:this.props.clientsNo,infoIcon:1===this.props.id?Object(I.o)(this.props.language):void 0,showInfo:!s,language:this.props.language,inputValue:this.props.clientCurr.avgTaxRate,handleUpdateInput:this.handleUpdateInput}),t&&!a?"":r.a.createElement(v.a,{id:3,inputName:a?n.protectToAge:n.retAge,format:1,Count:this.props.clientsNo,language:this.props.language,inputValue:this.props.clientCurr.retirementAge,handleUpdateInput:this.handleUpdateInput}),t?"":r.a.createElement(v.a,{id:4,inputName:n.cppElig,format:3,Count:this.props.clientsNo,infoIcon:1===this.props.id?Object(I.m)(this.props.language):Object(I.s)(this.props.language),showInfo:s,language:this.props.language,inputValue:this.props.clientCurr.Eligibility,handleUpdateInput:this.handleUpdateInput}),!0===i&&this.props.clientsNo>1&&!this.props.singleFamily&&f.b&&r.a.createElement("button",{className:"switchClient",onClick:this.doSwitch},"Switch Client"),r.a.createElement(A,{currentID:this.props.id,numberComps:this.props.clientsNo,fixedFirstRow:!0,minComps:1,maxRows:f.b?100:2,handleDoAdd:this.handleDoAdd,handleDoRemove:this.handleDoRemove,disabled:this.props.disableAddRemove}))}}]),a}(n.Component),U=a(31),G=a(501),q=a(492),Y=a.n(q),H=a(408),z=a(83),Q=a(409),J=a(110),X=a(846),W=a(266),Z=a.n(W),$=Z.a.ExcelFile,ee=Z.a.ExcelFile.ExcelSheet,te=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e,t,a,n={alignment:{horizontal:"right"},font:{name:"Trebuchet MS"},numFmt:"##,##0"},i={alignment:{horizontal:"right"},font:{name:"Trebuchet MS"},numFmt:"0"},s={alignment:{horizontal:"right"},font:{name:"Trebuchet MS"},fill:{patternType:"solid",fgColor:{rgb:"E9EAEB"}},numFmt:"##,##0"},o={alignment:{horizontal:"right"},font:{name:"Trebuchet MS"},fill:{patternType:"solid",fgColor:{rgb:"E9EAEB"}},numFmt:"0"},l={font:{name:"Trebuchet MS",color:{rgb:"FFFFFF"},bold:!0},alignment:{wrapText:!0,horizontal:"center"},border:{top:{style:"thin",color:{rgb:"C0C0C0"}},bottom:{style:"thin",color:{rgb:"C0C0C0"}},right:{style:"thin",color:{rgb:"C0C0C0"}},left:{style:"thin",color:{rgb:"C0C0C0"}}},fill:{patternType:"solid",fgColor:{rgb:"7399c6"}}},u={alignment:{horizontal:"left"},font:{name:"Trebuchet MS"}},p={font:{name:"Trebuchet MS",color:{rgb:"FFFFFF"},bold:!0},alignment:{wrapText:!0,horizontal:"center"},border:{top:{style:"thin",color:{rgb:"C0C0C0"}},bottom:{style:"thin",color:{rgb:"C0C0C0"}},right:{style:"thin",color:{rgb:"C0C0C0"}},left:{style:"thin",color:{rgb:"C0C0C0"}}},fill:{patternType:"solid",fgColor:{rgb:"334D7C"}}},c=[],d=[],g=[],h=[],b=[];if(b=[],void 0!==this.props.excelColumnsDataInfoSection)for(e=0;e<this.props.excelColumnsDataInfoSection.length;++e){for(t=0;t<this.props.excelColumnsDataInfoSection[0].length;++t)a=void 0===this.props.excelColumnsDataInfoSection[e][t]?"":this.props.excelColumnsDataInfoSection[e][t].toString().indexOf("%")>=0||!0===isNaN(this.props.excelColumnsDataInfoSection[e][t].toString())||""===this.props.excelColumnsDataInfoSection[e][t].toString()?this.props.excelColumnsDataInfoSection[e][t].toString():parseFloat(Object(O.b)(this.props.excelColumnsDataInfoSection[e][t])),b.push({value:a,style:0===e?l:n});c.push(b),b=[]}if(void 0!==this.props.excelColumnsHeaders){for(d.push([{value:this.props.title,style:{font:{sz:"14",name:"Trebuchet MS",bold:!0}}}]),e=0;e<this.props.excelColumnsHeaders.length;++e)g.push({title:"",width:{wpx:this.props.width},font:{name:"Trebuchet MS",bold:!0}});for(e=0;e<this.props.excelColumnsHeaders.length;++e)b.push({value:this.props.excelColumnsHeaders[e],style:p});h.push(b)}if(b=[],void 0!==this.props.excelColumnsDataMain)for(t=0;t<this.props.excelColumnsDataMain[0].length;++t){for(e=0;e<this.props.excelColumnsHeaders.length;++e)a=void 0===this.props.excelColumnsDataMain[e][t]?"":this.props.excelColumnsDataMain[e][t].toString().indexOf("%")>=0||!0===isNaN(this.props.excelColumnsDataMain[e][t].toString())||""===this.props.excelColumnsDataMain[e][t].toString()?this.props.excelColumnsDataMain[e][t].toString():parseFloat(Object(O.b)(this.props.excelColumnsDataMain[e][t])),b.push({value:a,style:isNaN(parseFloat(Object(O.b)(a)))?u:t%2?0===e?o:s:0===e?i:n});h.push(b),b=[]}var m=[{columns:[],data:d},{columns:[],data:c},{xSteps:0,ySteps:1,columns:g,data:h}],y=new Date,E=y.getDate()+y.toLocaleString("en-us",{month:"short"})+y.getFullYear();return 0===this.props.downloadNow?"":r.a.createElement($,{hideElement:!0,filename:(f.b?"INA":"PYE")+"_Data_"+E},r.a.createElement(ee,{dataSet:m,name:f.b?"INAd":"PYE"}))}}]),a}(r.a.Component),ae=a(260),ne=a(411),re=(a(771),function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(){e.props.setExcel()},e}return Object(u.a)(a,[{key:"render",value:function(){this.props.classes;var e=r.a.createElement("span",{style:{fontSize:"12px",marginBottom:"0px",margin:"0px",padding:"0px"}},this.props.excelToolbarText);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{placement:"left-end",style:{fontSize:"12px",margin:"0px",padding:"0px"},title:e},r.a.createElement(ae.a,{onClick:this.handleClick},r.a.createElement("svg",{className:"icon",xmlns:"http://www.w3.org/2000/svg",padding:"0px",width:"30",height:"30",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"})))))}}]),a}(r.a.Component)),ie=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getMuiTheme=function(){return Object(J.a)({typography:{fontFamily:'"Trebuchet MS"',fontSize:11,fontWeight:"100"},overrides:{MUIDataTable:{tableRoot:{margin:0},paper:{boxShadow:"none",borderBottom:"1px solid rgb(150, 150, 150)",borderRight:"1px solid rgb(200, 200, 200)"}},MuiTableRow:{root:{height:"100%"},head:{height:"100%"},footer:{display:"none"}},MuiTableCell:{head:{fontSize:".8rem"},sizeSmall:{padding:"8px 3px 8px 3px"}},MUIDataTableToolbar:{root:{paddingLeft:"0px"},titleRoot:{fontSize:24,fontWeight:"bold"},icon:{fontSize:24}},MUIDataTableBodyCell:{root:{backgroundColor:"#FF0000"}},MUITypography:{root:{backgroundColor:"blue"},body2:{color:"blue"}},MUITablePagination:{caption:{value:"blue"}}}})},n.setExcel=function(){var e=1===n.state.downloadExcelNow?0:1;n.setState({downloadExcelNow:e})},n.state={downloadExcelNow:0},n}return Object(u.a)(a,[{key:"render",value:function(){var e,t,a=this,n=[],i=[],s=65;this.props.dataColTitles.length<4&&(s=95);var o={width:1.3*s*this.props.dataColTitles.length,marginBottom:"10px"};1.3*s*this.props.dataColTitles.length>1/1.3*window.innerWidth&&(o={width:1.3*(s=1/1.3*window.innerWidth/(1.3*this.props.dataColTitles.length))*this.props.dataColTitles.length}),s<60&&(s=60,o={width:"100%"});var l=[];if(void 0!==this.props.dataProjection){for(t=0;t<this.props.dataProjection[0].length;++t){for(e=0;e<this.props.dataColTitles.length;++e)i.push(this.props.dataProjection[e][t]);n.push(i),i=[]}var u={backgroundColor:"#334d7c",color:"#FFFFFF",textAlign:"center",width:s,fontWeight:"bold",position:"sticky",top:0,zIndex:0},p=function(e){var t=e.index,n=Object(G.a)(e,["index"]);return r.a.createElement(H.a,{key:t,style:u},void 0!==a.props.gridIcons&&void 0!==a.props.gridIcons[t]&&r.a.createElement("div",null,r.a.createElement(y.a,{infoIcon:a.props.gridIcons[t]}),r.a.createElement("br",null)),n.name)};for(t=0;t<this.props.dataColTitles.length;++t)l.push({name:this.props.dataColTitles[t],options:{filter:!1,customHeadRender:p}})}var c=f.X[this.props.language],d=(c.excel,c.excel),g={filter:!1,filterType:"dropdown",selectableRows:"none",responsive:"scrollMaxHeight",resizableColumns:!0,selectableRowsHeader:!1,viewColumns:!1,search:!1,download:!1,print:!1,textLabels:{pagination:{rowsPerPage:c.rows,displayRows:c.of}},rowsPerPage:100,setTableProps:function(){return{padding:"default",size:"small",margin:"0px"}},downloadOptions:{filename:"INAtableDownload.csv",separator:","},onDownload:function(e,t,n,r){return a.setExcel(),!1},customRowRender:function(e,t,n){var i={textAlign:"right"};"wwwwwww"===e[0]&&(i.backgroundColor="green",i.fontSize="36px");var s,o=[];for(s=0;s<a.props.dataColTitles.length;++s){var l=e[s];o.push(r.a.createElement(H.a,{key:s,style:i},r.a.createElement(z.a,null,l)))}return r.a.createElement(Q.a,{key:n,style:{backgroundColor:void 0===a.props.specialRow?n%2?"#f9f9f9":"#e4e5e6":n===a.props.specialRow?"#d0d7e6":n%2?"#f9f9f9":"#e4e5e6"}},o)},customToolbar:function(){return r.a.createElement(re,{excelToolbarText:d,setExcel:a.setExcel})}};return r.a.createElement("div",{style:o},r.a.createElement(X.a,{theme:this.getMuiTheme()},r.a.createElement(Y.a,{title:this.props.gridTitle,data:n,columns:l,options:g})),1===this.state.downloadExcelNow&&r.a.createElement(te,{excelColumnsDataMain:this.props.dataProjection,width:"90",excelColumnsHeaders:this.props.dataColTitles,title:this.props.gridTitle,excelColumnsDataInfoSection:this.props.gridColumnsDataExcelInfoSection,downloadNow:this.state.downloadExcelNow,hideElement:!0}))}}]),a}(r.a.Component),se=a(121),oe=a.n(se),le=a(23),ue=a.n(le),pe=(n.Component,a(500));function ce(e){var t=e.assetProjection,a=e.lang,i=Object(n.useState)(t),s=Object(pe.a)(i,2),o=s[0],l=s[1];return Object(n.useEffect)((function(){l(t)}),[t]),r.a.createElement("div",null,t?r.a.createElement(ie,{gridTitle:o.gridTitle,dataColTitles:o.dataColTitles,dataProjection:o.dataProjection,language:a}):null)}var de=a(39),ge=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleClick=function(){n.props.handleClickGridButton()},n.handleClick=n.handleClick.bind(Object(T.a)(n)),n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("span",null,r.a.createElement("img",{className:this.props.className,onClick:this.handleClick,id:this.props.id,alt:this.props.alt,src:this.props.src}))}}]),a}(r.a.Component);function he(e,t,a,n){return be.apply(this,arguments)}function be(){return(be=Object(b.a)(h.a.mark((function e(t,a,n,r){var i,s,o,l,u,p,c,d,g,b,m,y,E,v,T,A,I,S,N,R,x,j,w,D,P,L;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=f.t[n],e.next=3,Object(de.a)(t,a.id);case 3:if(void 0===(s=e.sent)||void 0===s){e.next=31;break}for(console.log("POST: NA_AssetProj success"),o=[],l=0;l<s[f.m].numericValues.length;++l)o[l]=s[f.i].numericValues[l]>0?s[f.m].numericValues[l]:0;if(o=Object(O.a)(o,n,0),(u=s[f.p].numericValues)[0]=f.s[n].today,p=s[f.e].numericValues,c=[],"EP"===C.appletMode&&t.lives.length>1)for(d=t.lives[0].Age,g=t.lives[1].Age,b=0;b<u.length;++b)c.push(parseInt(d+b)+"/"+parseInt(g+b));else c=p;if(m=Object(O.a)(s[f.h].numericValues,n,0),y=Object(O.a)(s[f.k].numericValues,n,0),E=Object(O.a)(s[f.l].numericValues,n,0),v=Object(O.a)(s[f.j].numericValues,n,0),T=Object(O.a)(s[f.o].numericValues,n,0),A=Object(O.a)(s[f.n].numericValues,n,0),I=Object(O.a)(s[f.m].numericValues,n,0),S=Object(O.a)(s[f.i].numericValues,n,0),N=Object(O.a)(s[f.d].numericValues,n,0),R=Object(O.a)(s[f.g].numericValues,n,0),x=Object(O.a)(s[f.f].numericValues,n,0),j="INA"===C.appletMode?" ("+Object(O.q)(f.q,a.ownerKey,n)+")":""!==a.description?" ("+a.description+")":"",w=Object(O.q)(f.c,a.assetTypeKey,n)+j+" Projection",D=[],P=[],!0===r){for(L=0;L<f.t.EP_SHEET_HEADERS[n].Full.length;++L)D.push(f.t.EP_SHEET_HEADERS[n].Full[L]);P[0]=u,P[1]=c,P[2]=y,P[3]=y,P[4]=m,P[5]=E,P[6]=S,P[7]=A,P[8]=R,P[9]=x,P[10]=v,P[11]=y,P[12]=I}else a.assetTaxTypeKey===f.r.REGISTERED.Key?f.b?(D=[i.Year,i.Age,i.FMV,i.AnnualContribution,i.MinRRIFIncome,i.EOYBalance],P[0]=u,P[1]=c,P[2]=y,P[3]=m,P[4]=E,P[5]=v):(D=[i.Year,i.Age,i.FMV,i.AnnualContribution,i.MinRRIFIncome,i.Withdrawal,i.Taxonincome,i.EOYBalance,i.TaxLiability],P[0]=u,P[1]=c,P[2]=y,P[3]=m,P[4]=E,P[5]=T,P[6]=A,P[7]=v,P[8]=I):a.assetTypeKey===f.c.PERSONAL_RESIDENCE.Key?f.b?(D=[i.Year,i.Age,i.FMV,i.SaleProceeds],P[0]=u,P[1]=c,P[2]=y,P[3]=S):(D=[i.Year,i.Age,i.FMV,i.SaleProceeds,i.TaxLiability],P[0]=u,P[1]=c,P[2]=y,P[3]=S,P[4]=I):a.assetTypeKey===f.c.LIFE_INSURANCE.Key?(f.b,D=[i.Year,i.Age,i.FA],P[0]=u,P[1]=c,P[2]=y):a.assetTypeKey===f.c.REAL_ESTATE.Key?f.b?(D=[i.Year,i.Age,i.FMV,i.ACB,i.SaleProceeds,i.TaxLiability],P[0]=u,P[1]=c,P[2]=y,P[3]=N,P[4]=S,P[5]=o):(D=[i.Year,i.Age,i.FMV,i.ACB,i.RentalIncome,i.Taxonincome,i.SaleProceeds,i.CapitalGain,i.TaxLiability],P[0]=u,P[1]=c,P[2]=y,P[3]=N,P[4]=T,P[5]=A,P[6]=S,P[7]=R,P[8]=I):a.assetTypeKey===f.c.SMALL_BUSINESS_SHARES.Key?f.b?(D=[i.Year,i.Age,i.FMV,i.ACB,i.SaleProceeds,i.TaxLiability],P[0]=u,P[1]=c,P[2]=y,P[3]=N,P[4]=S,P[5]=o):(D=[i.Year,i.Age,i.FMV,i.ACB,i.SaleProceeds,i.CapitalGainsExemption,i.CapitalGain,i.TaxLiability],P[0]=u,P[1]=c,P[2]=y,P[3]=N,P[4]=S,P[5]=x,P[6]=R,P[7]=I):a.assetTypeKey===f.c.INTEREST_BEARING.Key||a.assetTypeKey===f.c.STOCKS_BONDS.Key?f.b?(D=[i.Year,i.Age,i.FMV,i.AnnualContribution,i.EOYBalance],P[0]=u,P[1]=c,P[2]=y,P[3]=m,P[4]=v):(D=[i.Year,i.Age,i.FMV,i.AnnualContribution,i.EOYBalance,i.TaxLiability],P[0]=u,P[1]=c,P[2]=y,P[3]=m,P[4]=v,P[5]=I,a.assetTypeKey===f.c.STOCKS_BONDS.Key&&(D=[i.Year,i.Age,i.FMV,i.ACB,i.AnnualContribution,i.Withdrawal,i.SaleProceeds,i.EOYBalance,i.TaxLiability],P[0]=u,P[1]=c,P[2]=y,P[3]=N,P[4]=m,P[5]=T,P[6]=S,P[7]=v,P[8]=I)):f.b?(D=[i.Year,i.Age,i.FMV,i.EOYBalance],P[0]=u,P[1]=c,P[2]=y,P[3]=v):(D=[i.Year,i.Age,i.FMV,i.EOYBalance,i.Withdrawal,i.TaxLiability],P[0]=u,P[1]=c,P[2]=y,P[3]=v,P[4]=T,P[5]=I);return e.abrupt("return",{dataColTitles:D,dataProjection:P,gridTitle:w});case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var me=a(197),fe=a.n(me),ye=function(e){Object(p.a)(n,e);var t=Object(c.a)(n);function n(e){var a,r;Object(l.a)(this,n),(a=t.call(this,e)).displayName=n.name,a.componentDidMount=function(){a.setState({description:a.props.assetCurr.description})},a.componentDidUpdate=function(){var e=Object(b.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.props;case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.handleDoRemove=function(e){!1===a.props.disableAddRemove&&a.props.handleRemoveAsset(e)},a.handleDoAdd=function(){if(!1===a.props.disableAddRemove){var e=a.props.assetsNo>a.dataValues.DD[0].Values.length-1?a.dataValues.DD[0].Values.length-2:a.props.assetsNo,t=a.dataValues.DD[0].Values[e].label;e=4===e||5===e?0:a.props.assetsNo>a.dataValues.DD[3].Values.length-1?a.dataValues.DD[3].Values.length-1:a.props.assetsNo;a.dataValues.DD[3].Values[e].label;var n=Object(O.p)(f.r,a.dataValues.DD[3].Values[e].label),r=D(a.props.assetsNo+1);r.assetTypeKey=Object(O.p)(f.c,t),r.description="",r.ownerKey=f.b?f.q.CLIENT_ROLLOVER.Key:f.q.CLIENT.Key,r.assetTaxTypeKey=n,r=a.setAssetValuesToDefault(r),a.dataValues.DD[3].Values=a.taxValues,a.props.handleAddAsset(r)}},a.updateDDown=function(e,t){var n=a.props,r=n.id,i=P(n.assetCurr);i.id=r,1===e?((i=D(r)).assetTypeKey=Object(O.p)(f.c,t),i=a.setAssetValuesToDefault(i)):2===e?(i.ownerKey=Object(O.p)(f.q,t),i=a.setAssetValuesToDefault(i)):3===e&&(i.assetTaxTypeKey=Object(O.p)(f.r,t)),a.props.handleUpdate(i)},a.debounceHandleUpdataDesc=fe()((function(e){return a.props.handleUpdate(e)}),500),a.updateDesc=function(e){var t=P(a.props.assetCurr);t.description=e.target.value,a.props.handleUpdate(t)},a.handleUpdateInput=function(e,t){var n=P(a.props.assetCurr);n.id=a.props.id;var r=!1;2===e?(r=n.DisposeYr!==parseInt(t),n.DisposeYr=parseInt(t)):3===e?(r=n.DisposeDur!==parseInt(t),n.DisposeDur=parseInt(t)):4===e?(r=n.ACB!==parseInt(Object(O.b)(t)),n.ACB=parseInt(Object(O.b)(t))):10===e?(r=n.smallBusinessCapGainExemption!==parseInt(Object(O.b)(t)),n.smallBusinessCapGainExemption=parseInt(Object(O.b)(t))):1===e?(r=n.currValue!==parseInt(Object(O.b)(t)),n.currValue=parseInt(Object(O.b)(t))):5===e?(r=n.growth!==parseInt(1e4*Object(O.b)(t,a.props.language))/1e4,n.growth=parseInt(1e4*Object(O.b)(t,a.props.language))/1e4):6===e?(r=n.contributionAmt!==parseInt(Object(O.b)(t)),n.contributionAmt=parseInt(Object(O.b)(t))):7===e?(r=n.contributionStartYr!==parseInt(t),n.contributionStartYr=parseInt(t)):8===e?(r=n.contributionDur!==parseInt(t),n.contributionDur=parseInt(t)):13===e?(r=n.withdrawalAmt!==parseInt(Object(O.b)(t)),n.withdrawalAmt=parseInt(Object(O.b)(t))):14===e?(r=n.withdrawalStartYr!==parseInt(t),n.withdrawalStartYr=parseInt(t)):15===e?(r=n.withdrawalDur!==parseInt(t),n.withdrawalDur=parseInt(t)):9===e?(r=n.incomeRate!==parseInt(1e4*Object(O.b)(t,a.props.language))/1e4,n.incomeRate=parseInt(1e4*Object(O.b)(t,a.props.language))/1e4):11===e?(r=n.RRIFStartAge!==parseInt(t),n.RRIFStartAge=parseInt(t)):12===e&&(r=n.description!==t,n.description=t),r&&a.props.handleUpdate(n)},a.updateClientTaxLiability=Object(b.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.getAssetProjection(),e.next=3,Object(de.b)(t,a.props.id);case 3:if(void 0===(n=e.sent)){e.next=6;break}return e.abrupt("return",n[f.m].numericValues);case 6:case"end":return e.stop()}}),e)}))),a.getData=function(){var e=Object(b.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(de.c)(t,a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.handleClickGridButton=function(){var e=a.state.displaySreadsheet;a.props.adjustVisibleOutputSection(!1===e?1:-1),a.setState({displaySreadsheet:!e,loading:!1})},a.setAssetValuesToDefault=function(e){return a.dataValues.DD[3].Values=a.taxValues,e.assetTypeKey===f.c.RRSP_RRIF.Key?e.assetTaxTypeKey=f.r.REGISTERED.Key:e.assetTypeKey===f.c.PERSONAL_RESIDENCE.Key?(e.assetTaxTypeKey=f.r.NON_TAXABLE.Key,e.ACB=0,e.DisposeYr=99,e.DisposeDur=1):e.assetTypeKey===f.c.CASH.Key?(e.assetTaxTypeKey=f.r.NON_TAXABLE.Key,e.ACB=0):e.assetTypeKey===f.c.LIFE_INSURANCE.Key?(e.assetTaxTypeKey=f.r.NON_TAXABLE.Key,e.DisposeYr=f.b?0:99,e.DisposeDur=1,e.ACB=0):e.assetTypeKey===f.c.STOCKS_BONDS.Key||e.assetTypeKey===f.c.REAL_ESTATE.Key?(e.assetTaxTypeKey=f.r.CAPITAL_GAINS_DEFERRED.Key,a.dataValues.DD[3].Values=[],a.dataValues.DD[3].Values.push({label:f.r.CAPITAL_GAINS_DEFERRED.value[a.props.language],value:1}),a.dataValues.DD[3].Values.push({label:f.r.CAPITAL_GAINS_ANNUAL.value[a.props.language],value:2})):e.assetTypeKey===f.c.SMALL_BUSINESS_SHARES.Key?e.assetTaxTypeKey=f.r.QUALIFYING_SMALL_BUSINESS.Key:e.assetTypeKey===f.c.INTEREST_BEARING.Key?e.assetTaxTypeKey=f.r.INTEREST.Key:e.assetTypeKey===f.c.OTHER_ASSETS.Key&&(e.assetTaxTypeKey=f.r.FULLY_TAXABLE.Key),e.ownerKey===f.q.CLIENT_LIQUIDATE.Key&&(e.DisposeYr=0,e.DisposeDur=1),e},a.clone2=function(){if(!0===a.state.displaySreadsheet){var e=document.getElementById("assetGrid").cloneNode(!0);e.id="ll";var t=document.createElement("div");t.appendChild(e),t.id="lll",document.addEventListener("click",(function(e){e.target&&e.target.id})),document.getElementById("copyDiv").appendChild(t)}},a.state={description:"",displaySreadsheet:!1,loading:!0};var i=[],s=Object(O.r)(f.c);for(r=0;r<s.length;++r)i.push({label:s[r].value[a.props.language],value:r+1});var o=[{label:f.q.CLIENT_LIQUIDATE.value[a.props.language],value:1},{label:f.q.CLIENT_ROLLOVER.value[a.props.language],value:2},{label:f.q.SPOUSE.value[a.props.language],value:3},{label:f.q.JOINT.value[a.props.language],value:4}];f.a&&(o=[{label:f.q.CLIENT.value[a.props.language],value:1},{label:f.q.SPOUSE.value[a.props.language],value:2}]),a.taxValues=[],a.desc=a.props.assetCurr.description;var u=Object(O.r)(f.r);for(r=0;r<u.length;++r)a.taxValues.push({label:u[r].value[a.props.language],value:r+1});return a.dataValues={DD:[{id:1,Title:f.u[a.props.language].type,defValue:Object(O.q)(f.c,a.props.assetCurr.assetTypeKey,a.props.language),Values:i,disableOptionValue:Object(O.l)(f.c)},{id:12,Title:"Description"},{id:2,Title:f.u[a.props.language].owner,defValue:Object(O.q)(f.q,a.props.assetCurr.ownerKey,a.props.language),Values:o,disableOptionValue:Object(O.l)(f.q)},{id:3,Title:f.u[a.props.language].tax,defValue:Object(O.q)(f.r,a.props.assetCurr.assetTaxTypeKey,a.props.language),Values:a.taxValues}]},a.dataColTitles=[],a.taxLiabOfClient=[],a}return Object(u.a)(n,[{key:"componentWillReceiveProps",value:function(e){ue.a.isEqual(e.assetCurr,this.props.assetCurr)&&e.id===this.props.id&&e.assetsNo===this.props.assetsNo&&e.clientsNo===this.props.clientsNo&&ue.a.isEqual(e.projection,this.props.projection)||(this.props.assetCurr.assetTypeKey!==f.c.CHARITABLE_GIFTS_TAX_CREDIT.Key&&e.assetCurr.assetTypeKey!==f.c.CHARITABLE_GIFTS_TAX_CREDIT.Key||this.dataValues.DD[0].Values.push({label:f.c.CHARITABLE_GIFTS_TAX_CREDIT.value[this.props.language],value:this.dataValues.DD[0].Values.length+1}),this.dataValues.DD[0].defValue=Object(O.q)(f.c,e.assetCurr.assetTypeKey,this.props.language),this.dataValues.DD[2].defValue=Object(O.q)(f.q,e.assetCurr.ownerKey,this.props.language),this.dataValues.DD[3].defValue=Object(O.q)(f.r,e.assetCurr.assetTaxTypeKey,this.props.language),this.dataValues.DD[2].disableOptionValue[1]=f.a&&1===e.clientsNo,this.setState({description:e.assetCurr.description}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,i=t.assetCurr,s=t.language,o=(t.themeColor,t.assetsNo),l=i.assetTypeKey,u=i.assetTypeKey===f.c.LIFE_INSURANCE.Key||i.assetTypeKey===f.c.CASH.Key||i.assetTypeKey===f.c.PERSONAL_RESIDENCE.Key||i.assetTypeKey===f.c.RRSP_RRIF.Key||i.assetTypeKey===f.c.INTEREST_BEARING.Key||i.assetTypeKey===f.c.SMALL_BUSINESS_SHARES.Key,p=i.assetTypeKey===f.c.LIFE_INSURANCE.Key,c=!(!f.a||this.props.assetCurr.assetTypeKey===f.c.RRSP_RRIF.Key),d=f.u[s].tax,g=f.u[s].owner,h=(f.jb[s].assetTax,i.Type===f.c.CHARITABLE_GIFTS_TAX_CREDIT.value[this.props.language]),b=i.assetTaxTypeKey===f.r.REGISTERED.Key,m=!(i.assetTaxTypeKey===f.r.NON_TAXABLE.Key||b||i.assetTypeKey===f.c.INTEREST_BEARING.Key||i.assetTaxTypeKey===f.r.CAPITAL_GAINS_ANNUAL.Key),y=f.a&&(i.assetTaxTypeKey===f.r.CAPITAL_GAINS_DEFERRED.Key||i.assetTypeKey===f.c.OTHER_ASSETS.Key||b)||f.b&&b&&i.ownerKey!==f.q.CLIENT_LIQUIDATE.Key,T=!(b||i.assetTypeKey===f.c.PERSONAL_RESIDENCE.Key||i.assetTypeKey===f.c.REAL_ESTATE.Key||h||f.q.CLIENT_LIQUIDATE.Key),O=!(i.assetTypeKey===f.c.LIFE_INSURANCE.Key||i.assetTypeKey===f.c.CASH.Key||h||i.ownerKey===f.q.CLIENT_LIQUIDATE.Key),C=!(b||f.b&&i.assetTypeKey===f.c.LIFE_INSURANCE.Key||i.ownerKey===f.q.CLIENT_LIQUIDATE.Key||h),S=i.ownerKey!==f.q.CLIENT_LIQUIDATE.Key&&(b||i.assetTypeKey===f.c.INTEREST_BEARING.Key||i.assetTypeKey===f.c.STOCKS_BONDS.Key),N=f.a&&i.ownerKey!==f.q.CLIENT_LIQUIDATE.Key&&(i.assetTypeKey===f.c.INTEREST_BEARING.Key||i.assetTypeKey===f.c.STOCKS_BONDS.Key),R=i.assetTypeKey===f.c.SMALL_BUSINESS_SHARES.Key,x=new Array(this.dataColTitles.length);this.dataColTitles.forEach((function(t){t===f.t[e.props.language].TaxLiability&&(x[e.dataColTitles.length-1]=Object(I.y)(s))}));var j=!1;this.props.assetCurr.assetTypeKey===f.c.CHARITABLE_GIFTS_TAX_CREDIT.Key&&(j=!0,this.dataValues.DD[0].Values.push({label:f.c.CHARITABLE_GIFTS_TAX_CREDIT.value[this.props.language],value:this.dataValues.DD[0].Values.length+1}));var w=void 0===this.props.projection[this.props.assetCurr.id-1]?null:this.props.projection[this.props.assetCurr.id-1].grid;return this.dataValues.DD[0].disableOptionValue[f.c.PERSONAL_RESIDENCE.ID]=this.props.hasPersonalResidenceAlready,this.dataValues.DD[2].disableOptionValue[1]=f.a&&1===this.props.clientsNo,r.a.createElement("div",{className:"inputRow"},this.dataValues.DD.map((function(t){return t.id<4?!(!0===c&&2===t.id)&&r.a.createElement(E,{key:t.id.toString(),id:t.id,Count:o,Title:t.Title,disable:!0===j||t.Title===f.u[s].owner&&!1||t.Title===d&&u||h&&(t.Title===d||t.Title===f.u[e.props.language].ownerAction),defValue:t.defValue,unlistedValue:h?f.c.CHARITABLE_GIFTS_TAX_CREDIT.value[e.props.language]:"",Values:t.Values,infoIcon:t.Title===g&&1===i.id?Object(I.k)(e.props.language):void 0,language:s,disableOption:t.disableOptionValue,width:f.U,updateDDown:e.updateDDown}):r.a.createElement("div",{className:"dropDown inputDiv"},r.a.createElement("div",{className:"controlTitle"},f.u[e.props.language].desc),r.a.createElement("input",{key:t.id.toString(),id:12,className:"inputField  textareaAssetName",value:e.state.description,onClick:e.select,type:"text",onChange:function(t){return e.setState({description:t.target.value})},onBlur:function(t){return e.updateDesc(t)}}))})),r.a.createElement(v.a,{inputName:p?f.u[s].FA:f.u[s].amount,id:1,format:2,Count:o,language:s,inputValue:i.currValue,handleUpdateInput:this.handleUpdateInput}),O&&r.a.createElement(v.a,{inputName:f.u[s].growth,format:3,id:5,Count:o,language:s,inputValue:i.growth,inputTitle:n,handleUpdateInput:this.handleUpdateInput}),C&&r.a.createElement(v.a,{inputName:(f.b,f.u[s].disposeYr),id:2,infoIcon:Object(I.l)(this.props.language),format:1,Count:o,language:s,inputValue:i.DisposeYr,handleUpdateInput:this.handleUpdateInput}),T&&r.a.createElement(v.a,{inputName:f.u[s].disposeDur,id:3,format:1,Count:o,language:s,inputValue:i.DisposeDur,handleUpdateInput:this.handleUpdateInput}),b&&i.ownerKey!==f.q.CLIENT_LIQUIDATE.Key&&r.a.createElement(v.a,{inputName:f.u[s].RRIFAge,format:1,id:11,Count:o,infoIcon:Object(I.r)(this.props.language),language:s,inputValue:i.RRIFStartAge,handleUpdateInput:this.handleUpdateInput}),y&&r.a.createElement(v.a,{inputName:b?f.u[s].RRIFRate:f.u[s].incomeRate,format:3,id:9,Count:o,infoIcon:!1===b&&1===i.id?Object(I.j)(this.props.language):void 0,language:s,inputValue:i.incomeRate,handleUpdateInput:this.handleUpdateInput}),R&&r.a.createElement(v.a,{inputName:f.u[s].smallBusinessCapGainExemption,format:2,id:10,Count:o,language:s,infoIcon:Object(I.t)(this.props.language),inputValue:i.smallBusinessCapGainExemption,handleUpdateInput:this.handleUpdateInput}),m&&r.a.createElement(v.a,{inputName:f.u[s].ACB,format:2,id:4,Count:o,language:s,inputValue:i.ACB,handleUpdateInput:this.handleUpdateInput}),S&&r.a.createElement("div",null,r.a.createElement(v.a,{inputName:f.u[s].contributionAmt,id:6,format:2,Count:o,language:s,inputValue:i.contributionAmt,colorDiv:"green",handleUpdateInput:this.handleUpdateInput}),r.a.createElement(v.a,{inputName:f.u[s].contributionDur,id:8,format:1,Count:o,language:s,inputValue:i.contributionDur,colorDiv:"green",handleUpdateInput:this.handleUpdateInput})),N&&r.a.createElement("div",null,r.a.createElement(v.a,{inputName:f.u[s].withdrawalAmt,id:13,format:2,Count:o,language:s,inputValue:i.withdrawalAmt,colorDiv:"red",handleUpdateInput:this.handleUpdateInput}),r.a.createElement(v.a,{inputName:f.u[s].withdrawalStartYr,id:14,format:1,Count:o,language:s,inputValue:i.withdrawalStartYr,minValue:1,colorDiv:"red",handleUpdateInput:this.handleUpdateInput}),r.a.createElement(v.a,{inputName:f.u[s].withdrawalDur,id:15,format:1,Count:o,language:s,inputValue:i.withdrawalDur,colorDiv:"red",handleUpdateInput:this.handleUpdateInput})),!h&&!j&&r.a.createElement(ge,{className:"iconMore",handleClickGridButton:this.handleClickGridButton,id:"gridOn",alt:"ll",src:!0===this.state.displaySreadsheet?a(484):a(485)}),r.a.createElement(A,{currentID:n,minComps:0,id:l,numberComps:o,disabled:this.props.disableAddRemove,handleDoAdd:this.handleDoAdd,handleDoRemove:this.handleDoRemove}),!0===this.state.displaySreadsheet&&r.a.createElement("div",{id:"assetGrid",style:{clear:"both",float:"left"}},null!==w&&r.a.createElement(ce,{assetProjection:w,lang:s})," "))}}]),n}(n.Component),Ee=function(e){Object(p.a)(n,e);var t=Object(c.a)(n);function n(e){var a,r;Object(l.a)(this,n),(a=t.call(this,e)).displayName=n.name,a.handleDoRemove=function(e){a.props.handleRemoveLiability(e)},a.handleDoAdd=function(){var e=a.props.liabilitysNo>a.dataValues.DD[0].Values.length-1?a.dataValues.DD[0].Values.length-1:a.props.liabilitysNo,t=a.dataValues.DD[0].Values[e].label,n=Object(O.p)(f.fb,t),r={id:a.props.liabilitysNo+1,liabTypeKey:n,ownerKey:f.pb.CLIENT.Key,currValue:0,growthDirKey:f.Y.GROWS.Key,growth:0,repay:0,exposureDur:99,assetTaxLiabID:0,assetTaxLiabProj:[]};r=a.setLiabilityValuesToDefault(r),a.props.handleAddLiability(r)},a.updateDDown=function(e,t){var n={id:a.props.liabilityCurr.id,liabTypeKey:a.props.liabilityCurr.liabTypeKey,ownerKey:a.props.liabilityCurr.ownerKey,currValue:a.props.liabilityCurr.currValue,growth:a.props.liabilityCurr.growth,growthDirKey:a.props.liabilityCurr.growthDirKey,exposureDur:a.props.liabilityCurr.exposureDur,repay:a.props.liabilityCurr.repay};1===e?n.liabTypeKey=Object(O.p)(f.fb,t):2===e?n.ownerKey=Object(O.p)(f.pb,t):3===e&&(n.growthDirKey=Object(O.p)(f.Y,t)),n=a.setLiabilityValuesToDefault(n),a.props.handleUpdate(n),a.state.displaySreadsheet&&a.handleClick()},a.handleUpdateInput=function(e,t){var n={id:a.props.liabilityCurr.id,liabTypeKey:a.props.liabilityCurr.liabTypeKey,ownerKey:a.props.liabilityCurr.ownerKey,currValue:a.props.liabilityCurr.currValue,growth:a.props.liabilityCurr.growth,exposureDur:a.props.liabilityCurr.exposureDur,repay:a.props.liabilityCurr.repay,growthDirKey:a.props.liabilityCurr.growthDirKey},r=!1;1===e?(r=n.currValue!==parseInt(Object(O.b)(t)),n.currValue=parseInt(Object(O.b)(t))):2===e?(r=n.growth!==parseInt(100*Object(O.b)(t,a.props.language))/100,n.growth=parseInt(100*Object(O.b)(t,a.props.language))/100):3===e&&(r=n.exposureDur!==parseInt(t),n.exposureDur=parseInt(t)),4===e&&(r=n.repay!==parseInt(Object(O.b)(t)),n.repay=parseInt(Object(O.b)(t))),r&&a.props.handleUpdate(n),a.state.displaySreadsheet&&a.handleClick()},a.handleClick=function(){var e=a.props.liabilityCurr.liabTypeKey===f.fb.OUTSTANDING_LOANS.Key||a.props.liabilityCurr.liabTypeKey===f.fb.MORTGAGE_REDEMPTION.Key;a.dataColTitles=e?["Year","Repayment","Projected Value"]:["Year","Projected Value"];var t,n,r,i=a.props.language,s=Object(O.v)(a.props.liabilityCurr,i),o=[],l=[];for(t=0;t<a.props.liabilityCurr.exposureDur+1;++t)n=t>0?a.props.liabilityCurr.repay:0,r=t>0?t:"today",o.push(r),l.push(n);a.dataProjection[0]=o,e?(a.dataProjection[1]=Object(O.a)(l,i,0),a.dataProjection[2]=Object(O.a)(s,i,0)):a.dataProjection[1]=Object(O.a)(s,i,0),a.setState((function(e){return{displaySreadsheet:!e.displaySreadsheet}}))},a.setLiabilityValuesToDefault=function(e){return e.liabTypeKey===f.fb.OUTSTANDING_LOANS.Key?e.exposureDur=10:e.liabTypeKey===f.fb.MORTGAGE_REDEMPTION.Key&&(e.exposureDur=25),e},a.state={displaySreadsheet:!1};var i=[],s=Object(O.r)(f.fb);for(r=0;r<s.length;++r)i.push({label:s[r].value[a.props.language],value:r+1});var o=[{label:f.pb.CLIENT.value[a.props.language],value:1},{label:f.pb.SPOUSE.value[a.props.language],value:2},{label:f.pb.JOINT.value[a.props.language],value:3}],u=[{label:f.Y.GROWS.value[a.props.language],value:1},{label:f.Y.REDUCES.value[a.props.language],value:2}];return a.dataValues={DD:[{id:1,Title:f.u[a.props.language].type,defValue:Object(O.q)(f.fb,a.props.liabilityCurr.liabTypeKey,a.props.language),Values:i},{id:2,Title:f.u[a.props.language].owner,defValue:Object(O.q)(f.pb,a.props.liabilityCurr.ownerKey,a.props.language),Values:o},{id:3,Title:f.u[a.props.language].growthDir,defValue:Object(O.q)(f.Y,a.props.liabilityCurr.growthDirKey,a.props.language),Values:u}]},a.dataProjection=[],a.dataColTitles=[],a}return Object(u.a)(n,[{key:"componentWillReceiveProps",value:function(e){e.liabilityCurr===this.props.liabilityCurr&&e.id===this.props.id&&e.liabilitysNo===this.props.liabilitysNo||(this.dataValues.DD[0].defValue=Object(O.q)(f.fb,e.liabilityCurr.liabTypeKey,this.props.language),this.dataValues.DD[1].defValue=Object(O.q)(f.pb,e.liabilityCurr.ownerKey,this.props.language),this.dataValues.DD[2].defValue=Object(O.q)(f.Y,e.liabilityCurr.growthDirKey,this.props.language))}},{key:"render",value:function(){var e=this,t=this.props.liabilityCurr.growthDirKey===f.Y.GROWS.Key?f.Y.GROWS.ID:f.Y.REDUCES.ID,n=this.props.liabilityCurr.liabTypeKey===f.fb.OUTSTANDING_LOANS.Key||this.props.liabilityCurr.liabTypeKey===f.fb.MORTGAGE_REDEMPTION.Key||this.props.liabilityCurr.liabTypeKey===f.fb.CLIENT_TAX_LIABILITY.Key,i=(!f.b&&!n&&this.dataValues.DD.map((function(e){return 3===e.id})),!f.b&&(this.props.liabilityCurr.liabTypeKey===f.fb.MORTGAGE_REDEMPTION.Key||this.props.liabilityCurr.liabTypeKey===f.fb.OUTSTANDING_LOANS.Key)),s=!f.b&&!(this.props.liabilityCurr.liabTypeKey===f.fb.CLIENT_TAX_LIABILITY.Key);return r.a.createElement("div",{className:"inputRow"},this.dataValues.DD.map((function(t){return t.id<3&&!(2===t.id)&&r.a.createElement(E,{key:t.id,id:t.id,Count:e.props.liabilitysNo,Title:t.Title,width:f.U,defValue:t.defValue,Values:t.Values,updateDDown:e.updateDDown})})),r.a.createElement(v.a,{inputName:f.u[this.props.language].amount,id:1,format:2,Count:this.props.liabilitysNo,language:this.props.language,inputValue:this.props.liabilityCurr.currValue,handleUpdateInput:this.handleUpdateInput}),i&&r.a.createElement(v.a,{inputName:f.u[this.props.language].repay,id:4,format:2,Count:this.props.liabilitysNo,language:this.props.language,inputValue:this.props.liabilityCurr.repay,handleUpdateInput:this.handleUpdateInput}),!f.b&&!n&&this.dataValues.DD.map((function(t){return 3===t.id&&r.a.createElement(E,{key:t.id,id:t.id,Count:e.props.liabilitysNo,Title:t.Title,defValue:t.defValue,Values:t.Values,updateDDown:e.updateDDown})})),!f.b&&!n&&r.a.createElement(v.a,{inputName:0===t?f.u[this.props.language].growth:f.u[this.props.language].changeRate,id:2,format:3,Count:this.props.liabilitysNo,language:this.props.language,inputValue:this.props.liabilityCurr.growth,handleUpdateInput:this.handleUpdateInput}),s&&r.a.createElement(v.a,{inputName:f.u[this.props.language].exposureDur,id:3,format:1,Count:this.props.liabilitysNo,language:this.props.language,inputValue:this.props.liabilityCurr.exposureDur,handleUpdateInput:this.handleUpdateInput}),!f.b&&r.a.createElement("img",{className:"iconMore",onClick:this.handleClick,id:"gridOn",alt:"ll",src:!0===this.state.displaySreadsheet?a(484):a(485)}),r.a.createElement(A,{currentID:this.props.liabilityCurr.id,minComps:0,id:this.props.liabilityCurr.liabTypeKey,numberComps:this.props.liabilitysNo,handleDoAdd:this.handleDoAdd,handleDoRemove:this.handleDoRemove,disabled:this.props.disableAddRemove}),!0===this.state.displaySreadsheet&&r.a.createElement("div",{style:{clear:"both",float:"left",width:"60%"}},r.a.createElement(ie,{dataColTitles:this.dataColTitles,dataProjection:this.dataProjection,gridTitle:Object(O.q)(f.fb,this.props.liabilityCurr.liabTypeKey,this.props.language)+" Projection",language:this.props.language})))}}]),n}(n.Component),ve=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(e){var n,r;Object(l.a)(this,a),(n=t.call(this,e)).displayName=a.name,n.handleDoRemove=function(e){n.props.handleRemoveSource(e)},n.isSourceGovNonOrphanBenefit=function(e){return e===f.eb.GOV_SURVIVORS_PENSION.Key||e===f.eb.GOV_DEATH_BENEFIT.Key},n.isDividendIncome=function(e){return e===f.eb.DIVIDEND_INCOME.Key},n.isSourceGovOrphansBenefit=function(e){return e===f.eb.GOV_ORPHANS_BENEFIT.Key},n.handleDoAdd=function(){var e=n.props.sourcesNo>n.dataValues.DD[0].Values.length-1?n.dataValues.DD[0].Values.length-1:n.props.sourcesNo;e>n.dataValues.DD[0].Values.length-1&&(e-=1);for(var t=Object(O.p)(f.eb,n.dataValues.DD[0].Values[e].label);t===f.eb.GOV_DEATH_BENEFIT.Key||t===f.eb.GOV_SURVIVORS_PENSION.Key||t===f.eb.GOV_ORPHANS_BENEFIT.Key&&!1===n.props.includeGovOrphanBenefit;)e+=1,t=Object(O.p)(f.eb,n.dataValues.DD[0].Values[e].label);for(;t===n.props.sourceCurr.sourceTypeKey&&n.props.sourceCurr.sourceTypeKey!==f.eb.OTHER.Key;)e+=1,t=Object(O.p)(f.eb,n.dataValues.DD[0].Values[e].label);var a={id:n.props.sourcesNo+1,sourceTypeKey:t,amount:0,startYear:0};t===f.eb.DIVIDEND_INCOME.Key&&(a.taxRate=f.A),n.props.handleAddSource(a)},n.updateDDown=function(e,t){var a={id:n.props.sourceCurr.id,sourceTypeKey:n.props.sourceCurr.sourceTypeKey,amount:n.props.sourceCurr.amount,startYear:n.props.sourceCurr.startYear,duration:n.props.sourceCurr.duration,taxRate:n.props.sourceCurr.taxRate,annualGrowth:n.props.sourceCurr.annualGrowth};1===e?a.sourceTypeKey=Object(O.p)(f.eb,t):2===e&&(a.ownerID=t),n.props.handleUpdate(a)},n.handleUpdateInput=function(e,t){var a={id:n.props.sourceCurr.id,sourceTypeKey:n.props.sourceCurr.sourceTypeKey,amount:n.props.sourceCurr.amount,startYear:n.props.sourceCurr.startYear,duration:n.props.sourceCurr.duration,ownerID:n.props.sourceCurr.ownerID,taxRate:n.props.sourceCurr.taxRate,annualGrowth:n.props.sourceCurr.annualGrowth},r=!1;1===e?(r=a.amount!==parseInt(Object(O.b)(t)),a.amount=parseInt(Object(O.b)(t))):2===e?(r=a.startYear!==t,a.startYear=t):3===e?(r=a.duration!==t,a.duration=t):4===e?(r=a.taxRate!==parseInt(100*Object(O.b)(t,n.props.language))/100,a.taxRate=parseInt(100*Object(O.b)(t,n.props.language))/100):5===e&&(r=a.annualGrowth!==parseInt(100*Object(O.b)(t,n.props.language))/100,a.annualGrowth=parseInt(100*Object(O.b)(t,n.props.language))/100),r&&n.props.handleUpdate(a)};var i=[],s=Object(O.r)(f.eb);for(r=0;r<s.length;++r)i.push({label:s[r].value[n.props.language],value:r+1});return n.state={},n.dataValues={DD:[{id:1,Title:f.u[n.props.language].type,defValue:Object(O.q)(f.eb,n.props.sourceCurr.sourceTypeKey,n.props.language),disableOptionValue:Object(O.l)(f.eb),Values:i}]},n.dataValues.DD[0].disableOptionValue[f.eb.GOV_DEATH_BENEFIT.ID]=!0,n.dataValues.DD[0].disableOptionValue[f.eb.GOV_SURVIVORS_PENSION.ID]=!0,n.dataValues.DD[0].disableOptionValue[f.eb.GOV_ORPHANS_BENEFIT.ID]=!0,n}return Object(u.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.sourceCurr===this.props.sourceCurr&&e.id===this.props.id&&e.sourcesNo===this.props.sourcesNo||(this.dataValues.DD[0].defValue=Object(O.q)(f.eb,e.sourceCurr.sourceTypeKey,this.props.language))}},{key:"render",value:function(){var e,t=this,a=this.isSourceGovNonOrphanBenefit(this.props.sourceCurr.sourceTypeKey),n=this.isSourceGovOrphansBenefit(this.props.sourceCurr.sourceTypeKey),i=this.isDividendIncome(this.props.sourceCurr.sourceTypeKey),s=this.props.sourceCurr.sourceTypeKey===f.eb.RRIF.Key;return s&&(e=[]).push({label:f.eb.RRIF.value[this.props.language],value:1}),r.a.createElement("div",{className:"inputRow"},this.dataValues.DD.map((function(a){return r.a.createElement(E,{key:a.id,id:a.id,Count:t.props.sourcesNo,Title:a.Title,width:f.U,language:t.props.language,defValue:a.defValue,Values:a.Values,disableOption:a.disableOptionValue,unlistedGreyedOption:e,updateDDown:t.updateDDown})})),!s&&r.a.createElement(v.a,{format:2,id:1,key:"amt",inputName:f.u[this.props.language].amountGross,readOnly:a,Count:this.props.sourcesNo,language:this.props.language,infoIcon:a||n?Object(I.q)(this.props.language):void 0,maxValue:n?this.props.sourceCurr.maxOrphan:void 0,inputValue:this.props.sourceCurr.amount,inputTitle:this.props.sourceCurr.id,handleUpdateInput:this.handleUpdateInput}),a||n?"":r.a.createElement(v.a,{format:1,id:2,inputName:s?f.u[this.props.language].RRIFAge:f.u[this.props.language].startYear,Count:this.props.sourcesNo,language:this.props.language,inputValue:this.props.sourceCurr.startYear,infoIcon:Object(I.l)(this.props.language),readOnly:s,inputTitle:this.props.sourceCurr.id,handleUpdateInput:this.handleUpdateInput}),a||s?"":r.a.createElement(v.a,{format:1,id:3,inputName:f.u[this.props.language].dur,Count:this.props.sourcesNo,language:this.props.language,inputValue:this.props.sourceCurr.duration,maxValue:n?this.props.sourceCurr.maxOrphanDur:void 0,inputTitle:this.props.sourceCurr.id,handleUpdateInput:this.handleUpdateInput}),i&&r.a.createElement(v.a,{id:4,inputName:f.u[this.props.language].dividendTaxRate,format:3,Count:this.props.sourcesNo,language:this.props.language,inputValue:this.props.sourceCurr.taxRate,inputTitle:this.props.sourceCurr.id,handleUpdateInput:this.handleUpdateInput}),r.a.createElement(A,{currentID:this.props.sourceCurr.id,numberComps:this.props.sourcesNo,handleDoAdd:this.handleDoAdd,handleDoRemove:this.handleDoRemove,disabled:this.props.disableAddRemove}))}}]),a}(n.Component),Te=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(e){var n,r;Object(l.a)(this,a),(n=t.call(this,e)).displayName=a.name,n.handleDoRemove=function(e){n.props.handleRemoveNeed(e)},n.handleDoAdd=function(){var e=n.props.needsNo>n.dataValues.DD[0].Values.length-1?n.dataValues.DD[0].Values.length-1:n.props.needsNo-1;e>n.dataValues.DD[0].Values.length-1&&(e-=1);var t=n.dataValues.DD[0].Values[e].label;n.props.handleAddNeed(Object(O.p)(f.db,t),0,1)},n.updateDDown=function(e,t){var a={id:n.props.id,needTypeKey:n.props.needCurr.needTypeKey,Percent:n.props.needCurr.Percent,amount:n.props.needCurr.amount,startYear:n.props.needCurr.startYear,duration:n.props.needCurr.duration};1===e?a.needTypeKey=Object(O.p)(f.db,t):2===e&&(a.Owner=t),n.props.handleUpdate(a)},n.handleUpdateInput=function(e,t){var a={id:n.props.id,needTypeKey:n.props.needCurr.needTypeKey,Percent:n.props.needCurr.Percent,amount:n.props.needCurr.amount,startYear:n.props.needCurr.startYear,duration:n.props.needCurr.duration},r=!1;1===e?(r=a.amount!==parseInt(Object(O.b)(t)),a.amount=parseInt(Object(O.b)(t)),a.Percent=(parseInt(1e6*a.amount/n.props.afterTaxTotalIncome)/1e4).toFixed(2)):2===e?(r=a.startYear!==t,a.startYear=t):3===e?(r=a.duration!==t,a.duration=t):4===e&&(r=a.Percent!==parseInt(100*Object(O.b)(t,n.props.language))/100,a.Percent=parseFloat(Object(O.b)(t,n.props.language))),r&&n.props.handleUpdate(a)};var i=[],s=Object(O.r)(f.db);for(r=0;r<s.length;++r)i.push({label:s[r].value[n.props.language],value:r+1});return n.state={},n.dataValues={DD:[{id:1,Title:f.u[n.props.language].type,defValue:Object(O.q)(f.db,n.props.needCurr.needTypeKey,n.props.language),Values:i}]},n}return Object(u.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.needCurr===this.props.needCurr&&e.id===this.props.id&&e.needsNo===this.props.needsNo||(this.dataValues.DD[0].defValue=Object(O.q)(f.db,e.needCurr.needTypeKey,this.props.language))}},{key:"render",value:function(){var e=this;this.props.needCurr.needTypeKey,f.db.PERCET_OF_INCOME.Key;var t=this.props.needCurr.needTypeKey===f.db.PERCET_OF_INCOME.Key,a="dropDown inputDiv";return a+="fr"===this.props.language?" inputDivFrench":"",r.a.createElement("div",{className:"inputRow"},this.dataValues.DD.map((function(t){return r.a.createElement(E,{key:t.id,id:t.id,Count:e.props.needsNo,disable:100===e.props.needCurr.duration,Title:t.Title,defValue:t.defValue,width:f.U,Values:t.Values,updateDDown:e.updateDDown})})),t?r.a.createElement(v.a,{inputName:f.u[this.props.language].percent,format:3,id:4,Count:this.props.needsNo,language:this.props.language,inputValue:this.props.needCurr.Percent,handleUpdateInput:this.handleUpdateInput}):"",r.a.createElement(v.a,{inputName:f.u[this.props.language].afterTaxAmount,format:2,id:1,key:"am1",readOnly:!1,Count:this.props.needsNo,language:this.props.language,infoIcon:Object(I.w)(this.props.language),inputValue:this.props.needCurr.amount,handleUpdateInput:this.handleUpdateInput}),r.a.createElement(v.a,{format:1,id:2,inputName:f.u[this.props.language].startYear,Count:this.props.needsNo,language:this.props.language,infoIcon:Object(I.l)(this.props.language),inputValue:this.props.needCurr.startYear,handleUpdateInput:this.handleUpdateInput}),100===this.props.needCurr.duration?r.a.createElement("div",{className:a},r.a.createElement("div",{className:"controlTitle"},f.u[this.props.language].dur),r.a.createElement("input",{type:"text",className:"inputField inputFieldDisabled",isDisabled:!0,value:f.jb[this.props.language].ever})):r.a.createElement(v.a,{format:1,id:3,inputName:f.u[this.props.language].dur,Count:this.props.needsNo,language:this.props.language,inputValue:this.props.needCurr.duration,handleUpdateInput:this.handleUpdateInput}),r.a.createElement(A,{currentID:this.props.id,numberComps:this.props.needsNo,handleDoAdd:this.handleDoAdd,handleDoRemove:this.handleDoRemove,disabled:this.props.disableAddRemove}))}}]),a}(n.Component);function Ae(){document.getElementById("last").style.display="none"}var Oe=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).hideRecover=function(){var e=n.last.current;void 0!==e&&(e.style.display="none")},n.saveDefault=function(){var e=n.default.current;e.value;void 0!==e&&(e.value===f.wb[n.props.language].default?(n.props.saveAsDefaultCase(!1),e.value=f.wb[n.props.language].defaultClear):(n.props.saveAsDefaultCase(!0),e.value=f.wb[n.props.language].default))},n.defaultCommand=function(e){var t=f.F,a=f.wb[e].default,n=f.wb[e].defaultClear;return null===localStorage.getItem(t)?a:n},n.changeLanguage=function(){n.defaultButton=n.defaultCommand("en"===n.props.language?"en":"fr")},n.last=r.a.createRef(),n.default=r.a.createRef();var i=n.props.language,s=f.F,o=f.wb[i].default,u=f.wb[i].defaultClear;return n.defaultButton=null===localStorage.getItem(s)?o:u,n}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=Object(O.B)().allowEmail,a="en"===this.props.language?{right:"45px"}:{right:"55px"},n="en"===this.props.language?{right:"90px"}:{right:"152px"},i="en"===this.props.language?{right:t?"145px":"97px"}:{right:t?"210px":"158px"},s="en"===this.props.language?{right:t?"255px":"197px"}:{right:t?"320px":"256px"},o=Object(O.x)(),l=!0===o?"headerBarIOS":"headerBar",u=!0===o?{color:"#282e31",marginBottom:"8px",marginTop:"-10px"}:{color:"#282e31",marginBottom:"8px"},p=!0===o?{fontSize:"10px"}:{display:"inline-block",fontSize:"10px",paddingLeft:"4px"};return r.a.createElement("div",{className:l},r.a.createElement("input",{className:"language",style:{marginTop:"0px",right:"0px"},onClick:(this.changeLanguage(),this.props.changeLang),type:"button",value:"en"===this.props.language?"Fran\xe7ais":"English"}),r.a.createElement("span",null,r.a.createElement("div",{style:{maxWidth:"70%"}},r.a.createElement("div",{style:{display:"inline-block"}},r.a.createElement("h2",{style:u},this.props.title)),r.a.createElement("div",{style:p},"(",C.version,")"))),r.a.createElement("span",{style:{marginRight:"0px",marginTop:"0px",float:"right"}},r.a.createElement("input",{className:"titleButtons",onClick:this.props.saveToFile,style:a,type:"button",value:"en"===this.props.language?"Save":"Enregistrer"}),r.a.createElement("label",{className:"titleButtons",style:{right:"0px"}},r.a.createElement("input",{type:"file",required:!0,style:{display:"none"},accept:".ppi_INA_TKD, .ppi_EP_TKD, .json",onChange:this.props.loadFromFile,onClick:function(e){e.target.value=null}}),r.a.createElement("span",{className:"titleLoad"},"en"===this.props.language?"Load":"Ouvrir")),t&&r.a.createElement("input",{className:"titleButtons",style:n,onClick:this.props.EmailINA,type:"button",value:(this.props.language,"e-mail"),id:"email"}),r.a.createElement("input",{className:"titleButtons",style:i,onClick:function(t){e.saveDefault()},type:"button",ref:this.default,value:this.defaultButton,id:"default"}),r.a.createElement("input",{className:"titleButtons",style:s,onClick:function(t){e.props.loadStorage(),Ae()},type:"button",ref:this.last,value:"en"===this.props.language?"Recover":"R\xe9cup\xe9rer",id:"last"})))}}]),a}(n.Component),Ie=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(e){var n,r;Object(l.a)(this,a),(n=t.call(this,e)).displayName=a.name,n.componentDidMount=function(){n.setState({designedFor:n.props.presentationCurr.designedFor,designedBy:n.props.presentationCurr.designedBy,notes:n.props.presentationCurr.notes})},n.getNewPresentation=function(){return{id:n.props.id,provinceKey:n.props.presentationCurr.provinceKey,invRate:n.props.presentationCurr.invRate,inflation:n.props.presentationCurr.inflation,taxRate:n.props.presentationCurr.taxRate,designedFor:n.props.presentationCurr.designedFor,designedBy:n.props.presentationCurr.designedBy,notes:n.props.presentationCurr.notes,periodOption:n.props.presentationCurr.periodOption,language:n.props.presentationCurr.language,resultsOption:n.props.presentationCurr.resultsOption,adviserLogo:n.props.presentationCurr.adviserLogo,appletImage:n.props.presentationCurr.appletImage}},n.updateDDown=function(e,t){var a=n.getNewPresentation();1===e&&(a.provinceKey=Object(O.p)(f.qb,t)),n.props.handleUpdate(a)},n.handleUpdateInput=function(e,t){var a=n.getNewPresentation(),r=n.props.language,i=!1;1===e?(i=a.invRate!==parseInt(1e4*Object(O.b)(t,r))/1e4,a.invRate=parseInt(1e4*Object(O.b)(t,r))/1e4):2===e?(i=a.inflation!==parseInt(1e4*Object(O.b)(t,r))/1e4,a.inflation=parseInt(1e4*Object(O.b)(t,r))/1e4):3===e&&(i=a.taxRate!==parseInt(1e4*Object(O.b)(t,r))/1e4,a.taxRate=parseInt(1e4*Object(O.b)(t,r))/1e4),i&&n.props.handleUpdate(a)};var i=[],s=Object(O.r)(f.qb);for(r=0;r<s.length;++r)i.push({label:s[r].value[n.props.language],value:r+1});return n.state={designedFor:"",designedBy:"",notes:"",showSaved:!1},n.dataValues={DD:[{id:1,Title:f.u[n.props.language].province,defValue:Object(O.q)(f.qb,n.props.presentationCurr.provinceKey,n.props.language),Values:i}]},n}return Object(u.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.presentationCurr!==this.props.presentationCurr&&(this.dataValues.DD[0].defValue=Object(O.q)(f.qb,e.presentationCurr.provinceKey,this.props.language))}},{key:"updateInputValue",value:function(e,t){var a=this.getNewPresentation(),n=!1;3===e?(n=a.designedFor!==t.target.value,a.designedFor=t.target.value):4===e?(n=a.designedBy!==t.target.value,a.designedBy=t.target.value):5===e&&(n=a.notes!==t.target.value,a.notes=t.target.value),n&&this.props.handleUpdate(a)}},{key:"render",value:function(){var e=this,t=Object(I.p)(this.props.language);return r.a.createElement("div",{className:"inputRow"},this.dataValues.DD.map((function(t){return r.a.createElement(E,{key:t.id,id:t.id,Count:1,Title:t.Title,width:f.U,defValue:t.defValue,Values:t.Values,updateDDown:e.updateDDown})})),r.a.createElement(v.a,{inputName:f.u[this.props.language].taxRate,format:3,id:3,Count:1,language:this.props.language,inputValue:this.props.presentationCurr.taxRate,inputTitle:this.props.id,handleUpdateInput:this.handleUpdateInput}),r.a.createElement(v.a,{inputName:f.u[this.props.language].invRate,format:3,id:1,Count:1,language:this.props.language,inputValue:this.props.presentationCurr.invRate,inputTitle:this.props.id,handleUpdateInput:this.handleUpdateInput}),r.a.createElement(v.a,{inputName:f.u[this.props.language].inflation,format:3,id:2,Count:1,language:this.props.language,inputValue:this.props.presentationCurr.inflation,inputTitle:this.props.id,handleUpdateInput:this.handleUpdateInput}),r.a.createElement("div",{className:"dropDown inputText"},r.a.createElement("span",{className:"controlTitle"},f.u[this.props.language].designedFor),r.a.createElement("input",{id:3,className:"inputField Text",value:this.state.designedFor,onFocus:this.handleFocus,onClick:this.select,type:"text",onBlur:function(t){return e.updateInputValue(3,t)},onChange:function(t){return e.setState({designedFor:t.target.value})}})),r.a.createElement("div",{className:"dropDown inputText"},r.a.createElement("span",{className:"controlTitle"},f.u[this.props.language].designedBy),r.a.createElement("input",{id:4,className:"inputField Text",onFocus:this.handleFocus,onClick:this.select,type:"text",value:this.state.designedBy,onBlur:function(t){return e.updateInputValue(4,t)},onChange:function(t){return e.setState({designedBy:t.target.value})}})),r.a.createElement("div",{className:"dropDown inputTextNotes"},r.a.createElement("span",{className:"controlTitle"},f.u[this.props.language].notes),r.a.createElement(y.a,{infoIcon:t})," ",r.a.createElement("textarea",{id:5,className:"inputField textarea",onFocus:this.handleFocus,onClick:this.select,type:"text",value:this.state.notes,onBlur:function(t){return e.updateInputValue(5,t)},onChange:function(t){return e.setState({notes:t.target.value})}})))}}]),a}(n.Component),Ce=a(848),Se=a(415),Ne=a(843),Re=a(845),xe=a(852),je=a(850),we=a(851),De=a(419),Pe=a(849),Le=a(405),Fe=(Object(Le.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}})),function(e){Object(p.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleOK=function(){a.props.respondToInput(a.state.name),a.setState({open:!a.state.open})},a.handleCancel=function(){a.props.respondToInput(""),a.setState({open:!a.state.open})},a.handleInfo=function(){a.setState({showInfo:!a.state.showInfo})},a.state={open:a.props.openDialog,name:"",showInfo:!1},a}return Object(u.a)(n,[{key:"componentWillReceiveProps",value:function(e){e!==this.props&&this.setState({open:e.openDialog})}},{key:"render",value:function(){var e=this,t=Object(I.x)(this.props.language),n=a(791),i=a(792),s=a(793),o=a(794);this.props.language;return r.a.createElement("div",null,r.a.createElement(Ce.a,{open:this.state.open,onClose:this.handleToggle,"aria-labelledby":"confirm-dialog"},r.a.createElement(xe.a,{id:"confirm-dialog"}),r.a.createElement(je.a,null,r.a.createElement(we.a,null,r.a.createElement("span",{className:"dialog"},"Save to File")),r.a.createElement("form",null,r.a.createElement(De.a,{id:"1",label:"file name",value:this.state.name,onChange:function(t){e.setState({name:t.target.value})},margin:"normal"}))),r.a.createElement(Pe.a,{style:{paddingRight:"12px",paddingBottom:"10px"}},r.a.createElement("div",{style:{marginLeft:"12px"}},r.a.createElement(y.a,{infoIcon:t}),r.a.createElement(Se.a,{onClick:this.handleCancel,variant:"contained",style:{marginLeft:"222px",marginRight:"8px"}}," ",r.a.createElement("span",{className:"dialog"}," Cancel ")),r.a.createElement(Se.a,{onClick:this.handleOK,variant:"contained"}," ",r.a.createElement("span",{className:"dialog"}," OK ")))),this.state.showInfo&&r.a.createElement(Ne.a,null," ",r.a.createElement(Re.a,null,r.a.createElement(z.a,{variant:"body2",color:"textSecondary",component:"p"},r.a.createElement("div",null,"To save files in your desired location:",r.a.createElement("ul",null,r.a.createElement("li",null,"Microsofrft Edge:",r.a.createElement("ul",null,r.a.createElement("li",null,"Go to Options ",this.state.showInfo&&r.a.createElement("img",{alt:"info",src:s})," "),r.a.createElement("li",null,"Click Downlods - Click Download settings"),r.a.createElement("li",null,'Turn on "Ask where to save each file before downloading" ',this.state.showInfo&&r.a.createElement("img",{alt:"info",src:n})))),r.a.createElement("li",null,"Google Chrome:",r.a.createElement("ul",null,r.a.createElement("li",null,"Go to Options ",this.state.showInfo&&r.a.createElement("img",{alt:"info",src:o})," "),r.a.createElement("li",null,"Click Settings - Advanced - Downloads"),r.a.createElement("li",null,'Turn on "Ask where to save each file before downloading" ',this.state.showInfo&&r.a.createElement("img",{alt:"info",src:i})))))))))))}}]),n}(n.Component)),Ke=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).togglePanel=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1===n.props.enabled){e.next=4;break}return e.next=3,n.props.handleCollapsibleClick({id:n.state.id,open:n.state.open});case 3:n.setState({open:!n.state.open});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={open:n.props.openCollapsible.open,id:n.props.openCollapsible.id},n}return Object(u.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.state.open!==e.openCollapsible.open&&this.setState({open:e.openCollapsible.open,id:e.openCollapsible.id})}},{key:"render",value:function(){var e=this.state.open?r.a.createElement("span",{style:{fontSize:"14px",float:"right"}},"\u25b2"):r.a.createElement("span",{style:{fontSize:"14px",float:"right"}},"\u25bc");return r.a.createElement("div",null,r.a.createElement("div",{onClick:this.togglePanel,className:"header"},this.props.title,e),this.state.open?r.a.createElement("div",{className:"content"},this.props.children):null)}}]),a}(n.Component),Be=a(7);function ke(e,t,a,n,r,i,s,o,l,u,p,c){var d,g,h=[],b=[],m=i.length,y=(new Date).getFullYear(),E=[],v=0,T=function(e,t,a,n){var r,i=Array(t).fill(0),s=0;for(e.forEach((function(e){if(e.sourceTypeKey===f.eb.SURVIVORS_INCOME.Key){try{s=a.filter((function(t){return t.id===e.ownerID}))[0].avgTaxRate}catch(o){}for(r=0;r<t;r++)i[r]+=r>=e.startYear&&r<parseInt(e.startYear)+parseInt(e.duration)?parseFloat(e.amount)*(1-s/100)*Math.pow(1+n/100,r):0}})),r=0;r<t;r++)i[r]=(Math.round(100*i[r])/100).toFixed(0);return i}(a,m,r,l),A=function(e,t,a,n){var r,i=Array(t).fill(0),s=0;for(e.forEach((function(e){if(e.sourceTypeKey!==f.eb.GOV_DEATH_BENEFIT.Key&&e.sourceTypeKey!==f.eb.GOV_ORPHANS_BENEFIT.Key&&e.sourceTypeKey!==f.eb.GOV_SURVIVORS_PENSION.Key){try{s=a.filter((function(t){return t.id===e.ownerID}))[0].avgTaxRate}catch(o){}for(r=0;r<t;r++)i[r]+=r>=e.startYear&&r<parseInt(e.startYear)+parseInt(e.duration)?parseFloat(e.amount)*(1-s/100)*Math.pow(1+n/100,r):0}})),r=0;r<t;r++)i[r]=(Math.round(100*i[r])/100).toFixed(0);return i}(a,m,r,l),I="fr"===c,C=Object(O.b)(t,I),S=0,N=0;for(r.length>0&&(S=r.filter((function(e){return e.id===f.W}))[0].avgTaxRate,N=r.filter((function(e){return e.id===f.W}))[0].Age),d=0;d<e;d++){for(b=[],g=0;g<m;g++){if(E[g]=0===g?Math.max(0,(C-Object(O.b)(o[g]>0?o[g]:0,I))*Math.pow(1+u/100*(1-S/100),1)):Math.max(0,(E[g-1]-Object(O.b)(o[g]>0?o[g]:0,I))*Math.pow(1+u/100*(1-S/100),1)),0===d)b.push(y+g);else if(1===d)b.push(N+g);else if(2===d)b.push(Object(O.e)(-i[g],0,c,!1));else if(3===d)b.push(Object(O.e)(s[g],0,c,!1));else if(4===d)v=T[g],b.push(Object(O.e)(v,0,c,!1));else if(5===d){var R=(Math.round(100*(parseFloat(A[g])-parseFloat(T[g])))/100).toFixed(0);Math.abs(R)<=1&&(R=0),b.push(Object(O.e)(R,0,c,!1))}else 6===d?b.push(Object(O.e)(parseFloat(A[g])+parseFloat(s[g]),0,c,!1)):7===d&&b.push(Object(O.e)(Math.abs(n[g]-parseFloat(A[g]))>1?n[g]-parseFloat(A[g]):0,0,c,!1));8===d?b.push(Object(O.e)(o[g]>0?o[g]:0,0,c,!1)):9===d?b.push(0===g?Object(O.e)(C,0,c,!1):0):10===d&&b.push(Object(O.e)(E[g],0,c,!1))}h.push(b),b=[]}return h}function _e(e,t,a,n,r,i,s,o,l,u,p,c,d){var g,h,b,m,y;h=f.wb[u].appletINA,m=ke((b=function(e){var t,a=[];for(t=0;t<f.t.INA_SHEET_HEADERS[e].Full.length;++t)a.push(f.t.INA_SHEET_HEADERS[e].Full[t]);return a}(u)).length,e,c,n,r,i,s,o,l,p,0,u),g=new Array(b.length).fill(2),(y=new Array(b.length))[10]=Object(I.h)(u),y[0]=Object(I.g)(u);return{gridTitle:h,dataColTitles:b,dataProjection:m,gridColumnsDataExcelInfoSection:[[f.t[u].intRate,f.t[u].infRate,f.t[u].surplusCapital,f.t[u].blank,f.t[u].additionalCapitalReq,f.t[u].survivor65,f.t[u].survivorLE],[p.toString()+"%",l.toString()+"%",parseFloat(d),"","",t,a]],gridColumnAligns:g,gridIcons:y}}function Ve(e,t,a){return Me.apply(this,arguments)}function Me(){return(Me=Object(b.a)(h.a.mark((function e(t,a,n){var r,i,s,o,l,u,p,c,d,g,b,m,y,E,v,T,A,I;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a,i=n.Presentations[0].language,s="fr"===i,"en"===i?".":",","en"===i?",":" ",0,o=new Array(t).fill(0).map((function(){return new Array(r).fill(0)})),e.next=9,N(n);case 9:l=e.sent,u=n.Assets.length,p=0;case 12:if(!(p<u)){e.next=23;break}return c=n.Assets[p],e.next=16,he(l,c,i,!0);case 16:for(d=e.sent,1,g=0;g<2;g++)for(b=0;b<r;b++)o[g][b]=d.dataProjection[g][b];for(m=2;m<Math.min(t,d.dataProjection.length);m++)for(y=0;y<r;y++)o[m][y]=parseInt(Object(O.b)(o[m][y],s))+parseInt(Object(O.b)(d.dataProjection[m][y],s));case 20:p++,e.next=12;break;case 23:for(E=0;E<t;E++)for(v=0;v<r;v++)o[2][v]=0===v?parseInt(o[10][v])-parseInt(o[4][v])-parseInt(o[5][v])+parseInt(o[6][v])+parseInt(o[7][v]):o[10][v-1],o[11][v]=Math.round(1e4*((parseInt(o[10][v])+parseInt(o[6][v]))/parseInt(o[2][v])-1)).toFixed(2)/100+" %";for(T=0;T<t;T++)if(11!==T&&1!==T)for(A=0;A<r;A++)o[T][A]=Object(O.e)(o[T][A],0,i,!1);else for(I=0;I<r;I++)1!==T&&isNaN(o[T][I])&&(o[T][I]=0);return o[0][0]=f.s[i].today,e.abrupt("return",o);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e,t){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(b.a)(h.a.mark((function e(t,a){var n,r,i,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.Presentations[0].language,n=f.wb[o].appletEP,r=qe(o),e.next=5,Ve(r.length,t,a);case 5:return i=e.sent,new Array(r.length).fill(2),s=new Array(r.length),r.forEach((function(e){e===f.t[o].EOYBalance&&(s[2]=Object(I.f)(o)),s[r.length-3]=s[2]})),"en"===o?".":",","en"===o?",":" ",e.abrupt("return",{gridTitle:n,dataColTitles:r,dataProjection:i,gridIcons:s});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(e){var t,a=[];for(t=0;t<f.t.EP_SHEET_HEADERS[e].Full.length;++t)a.push(f.t.EP_SHEET_HEADERS[e].Full[t]);return a}function Ye(e){var t=e.dataInput,a=e.assetProjections,n=t.Presentations[0].language,r="fr"===n,i=t.Clients,s=i.length>1?Math.min(i[f.tb].Age,i[f.rb].Age):i[f.rb].Age,o=parseInt(e.LE)+3,l=Array(Be.a).fill(0),u=Array(Be.a).fill(0),p=[],c=Array(100-s+1).fill(0),d=[],g=0,h=0,b=0,m=0,y=[],E=[];if(y=Array(Be.a).fill(0),E=Array(Be.a).fill(0),0===t.Assets.length){p.values=Array(100).fill(0);var v=a[0].grid;d.push(v)}else t.Assets.forEach((function(e){p.values=Array(100).fill(0);var t=a[e.id-1].grid;d.push(t),h=2;for(var i=[],v=0;v<100-s;v++)i.push(parseFloat(Object(O.b)(t.dataProjection[h][v])));if(e.assetTaxTypeKey!==f.r.NON_TAXABLE.Key&&(e.assetTypeKey===f.c.PERSONAL_RESIDENCE.Key?(g=t.dataProjection.length-1,l[Be.d]+=parseFloat(Object(O.b)(t.dataProjection[g][0],r)),u[Be.d]+=parseFloat(Object(O.b)(t.dataProjection[g][o],r)),He(p,i,f.c.PERSONAL_RESIDENCE.value[n],f.c.PERSONAL_RESIDENCE.colour)):e.assetTypeKey===f.c.REAL_ESTATE.Key?(g=t.dataProjection.length-1,h=2,y[Be.e]+=parseFloat(Object(O.b)(e.currValue,r))*e.growth/100,E[Be.e]+=parseFloat(Object(O.b)(e.currValue,r)),l[Be.e]+=parseFloat(Object(O.b)(t.dataProjection[g][0],r)),u[Be.e]+=parseFloat(Object(O.b)(t.dataProjection[g][o],r)),He(p,i,f.c.REAL_ESTATE.value[n],f.c.REAL_ESTATE.colour)):e.assetTypeKey===f.c.STOCKS_BONDS.Key?(g=t.dataProjection.length-1,h=2,y[Be.h]+=parseFloat(Object(O.b)(e.currValue,r))*e.growth/100,E[Be.h]+=parseFloat(Object(O.b)(e.currValue,r)),l[Be.h]+=parseFloat(Object(O.b)(t.dataProjection[g][0],r)),u[Be.h]+=parseFloat(Object(O.b)(t.dataProjection[g][o],r)),He(p,i,f.c.STOCKS_BONDS.value[n],f.c.STOCKS_BONDS.colour)):e.assetTypeKey===f.c.SMALL_BUSINESS_SHARES.Key?(g=t.dataProjection.length-1,h=2,y[Be.g]+=parseFloat(Object(O.b)(e.currValue,r))*e.growth/100,E[Be.g]+=parseFloat(Object(O.b)(e.currValue,r)),l[Be.g]+=parseFloat(Object(O.b)(t.dataProjection[g][0],r)),u[Be.g]+=parseFloat(Object(O.b)(t.dataProjection[g][o],r)),He(p,i,f.c.SMALL_BUSINESS_SHARES.value[n],f.c.SMALL_BUSINESS_SHARES.colour)):e.assetTypeKey===f.c.RRSP_RRIF.Key?(g=t.dataProjection.length-1,h=2,y[Be.f]+=parseFloat(Object(O.b)(e.currValue,r))*e.growth/100,E[Be.f]+=parseFloat(Object(O.b)(e.currValue,r)),l[Be.f]+=parseFloat(Object(O.b)(t.dataProjection[g][0],r)),u[Be.f]+=parseFloat(Object(O.b)(t.dataProjection[g][o],r)),He(p,i,f.c.RRSP_RRIF.value[n],f.c.RRSP_RRIF.colour)):e.assetTypeKey===f.c.INTEREST_BEARING.Key?(g=t.dataProjection.length-1,h=2,y[Be.b]+=parseFloat(Object(O.b)(e.currValue,r))*e.growth/100,E[Be.b]+=parseFloat(Object(O.b)(e.currValue,r)),l[Be.b]+=parseFloat(Object(O.b)(t.dataProjection[g][0],r)),u[Be.b]+=parseFloat(Object(O.b)(t.dataProjection[g][o],r)),He(p,i,f.c.INTEREST_BEARING.value[n],f.c.INTEREST_BEARING.colour)):e.assetTypeKey===f.c.OTHER_ASSETS.Key&&(g=t.dataProjection.length-1,h=2,y[Be.c]+=parseFloat(Object(O.b)(e.currValue,r))*e.growth/100,E[Be.c]+=parseFloat(Object(O.b)(e.currValue,r)),l[Be.c]+=parseFloat(Object(O.b)(t.dataProjection[g][0],r)),u[Be.c]+=parseFloat(Object(O.b)(t.dataProjection[g][o],r)),He(p,i,f.c.OTHER_ASSETS.value[n],f.c.OTHER_ASSETS.colour)),b+=parseFloat(Object(O.b)(t.dataProjection[g][0],r)),m+=parseFloat(Object(O.b)(t.dataProjection[g][o],r)),p.length>0)){for(var T=0;T<t.dataProjection[0].length-1;T++)void 0!==t.dataProjection[g][T]&&(c[T]+=parseFloat(Object(O.b)(t.dataProjection[g][T],r)));c[100-s]=c[100-s-1]}}));p.push({name:f.xb.TAX_LIAB.value[n],colour:f.xb.ESTATE_LIAB.colour,values:c});var T=0===E[Be.e]?0:100*y[Be.e]/E[Be.e],A=0===E[Be.h]?0:100*y[Be.h]/E[Be.h],I=0===E[Be.g]?0:100*y[Be.g]/E[Be.g],C=0===E[Be.f]?0:100*y[Be.f]/E[Be.f],S=0===E[Be.b]?0:100*y[Be.b]/E[Be.b],N=0===E[Be.c]?0:100*y[Be.c]/E[Be.c];return y[Be.e]="en"===n?Object(O.z)(T,!1,3):Object(O.z)(T,!1,3).replace(".",","),y[Be.h]="en"===n?Object(O.z)(A,!1,3):Object(O.z)(A,!1,3).replace(".",","),y[Be.g]="en"===n?Object(O.z)(I,!1,3):Object(O.z)(I,!1,3).replace(".",","),y[Be.f]="en"===n?Object(O.z)(C,!1,3):Object(O.z)(C,!1,3).replace(".",","),y[Be.b]="en"===n?Object(O.z)(S,!1,3):Object(O.z)(S,!1,3).replace(".",","),y[Be.c]="en"===n?Object(O.z)(N,!1,3):Object(O.z)(N,!1,3).replace(".",","),{EstateLiabsByType:l,EstateLiabsByTypeTotal:b,EstateLiabsByTypeLE3:u,EstateLiabsByTypeLE3Total:m,EstateLiabsByTypeGrowth:y,AssetnEstateLiabs:p,projectionsGrids:d}}function He(e,t,a,n){for(var r=!1,i=0;i<e.length;i++)if(e[i].colour===n){r=!0;for(var s=0;s<100;s++)e[i].values[s]+=t[s]}return!1===r&&e.push({name:a,colour:n,values:t}),e}var ze=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",{className:"ppi1"},f.b?this.props.insNeedLine:"",f.b&&r.a.createElement(y.a,{infoIcon:Object(I.i)(this.props.lang)})),r.a.createElement(ie,{gridTitle:"",dataColTitles:this.props.aggregateGrid.dataColTitles,dataProjection:this.props.aggregateGrid.dataProjection,gridColumnsDataExcelInfoSection:this.props.aggregateGrid.gridColumnsDataExcelInfoSection,gridColumnAligns:this.props.aggregateGrid.gridColumnAligns,gridIcons:this.props.aggregateGrid.gridIcons,specialRow:this.props.LE,language:this.props.lang}))}}]),a}(n.Component),Qe=a(496),Je=a.n(Qe),Xe=a(46),We=a(200),Ze=(a(86),a(4)),$e=a(12);function et(e){return tt.apply(this,arguments)}function tt(){return(tt=Object(b.a)(h.a.mark((function e(t){var a,n,r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getSpouseINA();case 2:return a=e.sent,n=a.dataOutput.dataInsuranceNeeds[0].Value,r=a.dataOutput.dataInsuranceNeeds[1].Value,i=a.dataOutput.lifeExpectancy.spouse+a.dataInput.Clients[1].Age,e.abrupt("return",{spouseInsRet:n,spouseInsLE:r,LESpouse:i});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(){return(at=Object(b.a)(h.a.mark((function e(t){var a,n,r,i,s,o,l,u,p,c,d,g,b,m,y,E,v,T,A,I,C,S,N,R,x,w,D,P,L,F,K,B,k,_,V,M,U;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=new Ze.g).Create(),r=j(t),i=t.dataInput.Presentations[0].language,s=Object(O.p)(f.qb,r.province),o="QC"===s?f.hb:f.gb,l="QC"===s?f.mb:f.lb,u=t.dataInput.Clients,t.dataInput.Assets,p=Object(O.y)(u),c=$e.b[i],d="en"===i?".":",",g="en"===i?",":" ","fr"===i,b=r.percent2.length>0,m=4.2,a.SetFont(Ze.b,Ze.e),"en"===i?a.SetFontSize(Object(Ze.h)(36)):a.SetFontSize(Object(Ze.h)(24)),a.SetTextColor(69,85,96),a.Text(1===t.INAOption?f.wb[i].appletINA:f.wb[i].appletEP,Object(Ze.c)(1.5),Object(Ze.c)(m)),y=t.dataInput.Presentations[0].adviserLogo,E=t.dataInput.Presentations[0].adviserLogo.top,t.dataInput.Presentations[0].adviserLogo.ID,t.dataInput.Presentations[0].appletImage,v=a.addCustomImage(f.bb,m,y,!0,E),a.AddImage(f.ab,Object(Ze.c)(1.51),Object(Ze.c)(m+.5),Object(Ze.c)(5.54),Object(Ze.c)(2.75)),a.SetFont(Ze.b,Ze.e),a.SetFontSize(Object(Ze.h)(18)),a.SetTextColor(69,85,96),a.Text($e.b[i].pg1P1+r.designedFor,Object(Ze.c)(1.52),Object(Ze.c)(m+3.63)),a.Text($e.b[i].pg1P2+r.designedBy,Object(Ze.c)(1.52),Object(Ze.c)(m+4.13)),a.Text($e.b[i].pg1P3+r.dateApplet,Object(Ze.c)(1.52),Object(Ze.c)(m+4.42)),a.Text($e.b[i].pg1P4+r.province,Object(Ze.c)(1.52),Object(Ze.c)(m+4.69)),T=null===y.image?0:.25,a.HEADER_RECT_IN_Y+T,A=$e.b[i].pgFooter,I=$e.b[i].pg1T,a.addFooterAndHeader(T,A,I),v=v&&a.addCustomImage(f.cb,m,y,!1,E),a.SetFont(Ze.b,Ze.e),"en"===i?a.SetFontSize(Object(Ze.h)(25)):a.SetFontSize(Object(Ze.h)(20)),a.SetTextColor(69,85,96),a.Text(f.nb[i].Values[0],Object(Ze.c)(1.5),Object(Ze.c)(T+1.4)),a.SetFont(Ze.i,Ze.e),a.SetFontSize(Object(Ze.h)(16)),a.SetTextColor(69,85,96),C=1.5,S=T+1.7,N=.4,x=(R=.25)+.08,w=.35,D=p?c.pg2TabT4Alt:c.pg2TabT4,P=[$e.b[i].pg2TabT1,$e.b[i].pg2TabT2,$e.b[i].pg2TabT3,D,$e.b[i].pg2TabT5],L=[115,153,198],F=[255,255,255],K=[2.3,.5,.9,.9,.8],a.tableRow(L,F,C,S,P,w,K),S+=N+.2,L=[255,255,255],F=[69,85,96],r.clients.forEach((function(e){var t=(Object(O.q)(f.ib,e.memberKey,i)+Object(O.t)(e.name,i)).length;P=[t>26?Object(O.q)(f.ib,e.memberKey,i):Object(O.q)(f.ib,e.memberKey,i)+Object(O.t)(e.name,i),e.age.toString(),"$"+Object(O.d)(e.income,0,d,g),(p?e.memberKey===f.ib.CLIENT.Key?"-":e.ret-e.age:e.ret).toString(),(u[e.id-1].avgTaxRate+"%").toString()],a.tableRow(L,F,C,S,P,w,K),S+=R,t>26&&(P=[Object(O.t)(e.name,i),"","","",""],a.tableRow(L,F,C,S,P,w,K),S+=R)})),a.SetFont(Ze.i,Ze.e),a.SetFontSize(Object(Ze.h)(16)),a.SetTextColor(69,85,96),S+=R,L=[115,153,198],F=[255,255,255],K=[4.3,1.2],B=[$e.b[i].pg2T3,""],a.tableRow(L,F,C,S,B,w,K),L=[255,255,255],F=[69,85,96],B=[$e.b[i].pg2P5,("$"+Object(O.d)(r.totalAssetExcludeInsurance,0,d,g)).toString()],S+=N,a.tableRow(L,F,C,S,B,w,K),B=[$e.b[i].pg2P6,("$"+Object(O.d)(r.totalLiabExcludeDeathRelated,0,d,g)).toString()],S+=R,a.tableRow(L,F,C,S,B,w,K),B=$e.b[i].pg2P7,S+=R,a.tableRowSingle(L,F,C+2.8,S,B,w,K,!1),B=("$"+Object(O.d)(r.totalAssetExcludeInsurance-r.totalLiabExcludeDeathRelated,0,d,g)).toString(),L=[196,223,224],a.tableRowSingle(L,F,C+4.3,S,B,w,K,!0),L=[255,255,255],B=[$e.b[i].pg2P8,("$"+Object(O.d)(r.totalAssetInsurance+r.govDB,0,d,g)).toString()],S+=x,a.tableRow(L,F,C,S,B,w,K),B=[$e.b[i].pg2P9,("$"+Object(O.d)(r.totalLiab-r.totalLiabExcludeDeathRelated,0,d,g)).toString()],S+=R,a.tableRow(L,F,C,S,B,w,K),a.DrawLine(Object(Ze.c)(1.5),Object(Ze.c)(S+N),Object(Ze.c)(5.5)),S+=1.2*N,B=$e.b[i].pg2P10+Object(O.t)(u[0].Name,i)+":",a.tableRowSingle(L,F,C,S,B,w,[5.5],!1),p||(B=[$e.b[i].pg8TabRow3+t.LE+")",""],S+=x,a.tableRow(L,F,C,S,B,w,K),B=("$"+Object(O.d)(r.insNeedLE,0,d,g)).toString(),L=[196,223,224],a.tableRowSingle(L,F,C+4.3,S,B,w,K,!0)),L=[255,255,255],B=[p?$e.b[i].pg8TabRow4Alt.replace("A. ",""):$e.b[i].pg8TabRow4,""],S+=x,a.tableRow(L,F,C,S,B,w,K),B=("$"+Object(O.d)(r.insNeedRet,0,d,g)).toString(),L=[196,223,224],a.tableRowSingle(L,F,C+4.3,S,B,w,K,!0),L=[255,255,255],p){e.next=130;break}return e.next=108,et(t);case 108:k=e.sent,_=Object(O.b)(k.spouseInsRet),V=Object(O.b)(k.spouseInsLE),M=k.LESpouse,a.DrawLine(Object(Ze.c)(1.5),Object(Ze.c)(S+N),Object(Ze.c)(5.5)),S+=1.2*N,B=[$e.b[i].pg2P11.replace(" NAME",Object(O.t)(u[1].Name,i)),("$"+Object(O.d)(r.totalAssetInsuranceIfSpouse+r.govDB,0,d,g)).toString()],a.tableRow(L,F,C,S,B,w,K),B=[$e.b[i].pg8TabRow3+M+")",""],S+=x,a.tableRow(L,F,C,S,B,w,K),B=("$"+Object(O.d)(V,0,d,g)).toString(),L=[196,223,224],a.tableRowSingle(L,F,C+4.3,S,B,w,K,!0),L=[255,255,255],B=[$e.b[i].pg8TabRow4,""],S+=x,a.tableRow(L,F,C,S,B,w,K),B=("$"+Object(O.d)(_,0,d,g)).toString(),L=[196,223,224],a.tableRowSingle(L,F,C+4.3,S,B,w,K,!0),L=[255,255,255];case 130:a.SetFont(Ze.i,Ze.e),a.SetFontSize(Object(Ze.h)(16)),a.SetTextColor(69,85,96),S+=2*R,L=[115,153,198],F=[255,255,255],K=[4.9,.6],B=[$e.b[i].pg2T2,""],a.tableRow(L,F,C,S,B,w,K),L=[255,255,255],F=[69,85,96],B=[$e.b[i].pg7TabRow4,(r.infRate+"%").toString()],S+=N,a.tableRow(L,F,C,S,B,w,K),B=[$e.b[i].pg7TabRow5,(r.invRate+"%").toString()],S+=R,a.tableRow(L,F,C,S,B,w,K),B=[$e.b[i].pg2TabT6,(parseFloat(t.dataInput.Presentations[0].taxRate).toFixed(2)+"%").toString()],S+=R,a.tableRow(L,F,C,S,B,w,K),a.SetFont(Ze.i,Ze.e),a.SetFontSize(Object(Ze.h)(16)),a.SetTextColor(69,85,96),S+=2*N,a.DrawLine(Object(Ze.c)(1.5),Object(Ze.c)(S-.33),Object(Ze.c)(5.5)),n=$e.b[i].pg2Tab2,a.MultilineText(n,Object(Ze.c)(1.5),Object(Ze.c)(S),Object(Ze.c)(5.6)),S+=N,n=$e.b[i].pg2Tab3,a.MultilineText(n,Object(Ze.c)(1.5),Object(Ze.c)(S),Object(Ze.c)(5.6)),a.addFooterAndHeader(T,A,I),v=v&&a.addCustomImage(f.cb,m,y,!1,E),a.SetFont(Ze.b,Ze.e),"en"===i?a.SetFontSize(Object(Ze.h)(25)):a.SetFontSize(Object(Ze.h)(20)),a.SetTextColor(69,85,96),a.Text($e.b[i].pg3T,Object(Ze.c)(1.5),Object(Ze.c)(T+1.4)),n=$e.b[i].pg3P1,a.SetFont(Ze.i,Ze.e),a.SetFontSize(Object(Ze.h)(16)),a.SetTextColor(69,85,96),a.MultilineText(n,Object(Ze.c)(1.5),Object(Ze.c)(T+1.8),Object(Ze.c)(5.5)),C=1.5,S=T+2.5,N=.4,w=.35,K=[4.3,1.2],P=[$e.b[i].pg3TabT],L=[115,153,198],F=[255,255,255],a.tableRow(L,F,C,S,P,w,[5.5]),L=[255,255,255],F=[69,85,96],S+=N,r.liabilities.forEach((function(e){P=[e.name,("$"+Object(O.d)(e.value,0,d,g)).toString()],a.tableRow(L,F,C,S,P,w,K),S+=R})),S-=R,P=[$e.b[i].pg3TabRTot,("$"+Object(O.d)(r.totalLiab,0,d,g)).toString()],S+=N,a.tableRow(L,F,C,S,P,w,K),a.DrawLine(Object(Ze.c)(1.5),Object(Ze.c)(S),Object(Ze.c)(5.5)),C=1.5,S+=N,w=.35,P=[$e.b[i].pg4TabT],L=[115,153,198],F=[255,255,255],a.tableRow(L,F,C,S,P,w,[5.5]),L=[255,255,255],F=[69,85,96],P=[$e.b[i].pg4TabRow1,("$"+Object(O.d)(r.Income+r.Income2,0,d,g)).toString()],S+=N,a.tableRow(L,F,C,S,P,w,K),S+=N,a.MultilineText($e.b[i].pg4TabRow2,Object(Ze.c)(C+.1),Object(Ze.c)(S+N),Object(Ze.c)(3)),S+=N-.3,a.DrawLine(Object(Ze.c)(1.5),Object(Ze.c)(S-.13),Object(Ze.c)(5.5)),b?(P=[$e.b[i].pg4TabRow3,(r.percent1+"%").toString()],S+=2.1*N,a.DrawLine(Object(Ze.c)(1.5),Object(Ze.c)(S),Object(Ze.c)(5.5)),a.tableRow(L,F,C,S,P,w,K),P=[$e.b[i].pg4TabRow4,r.percent2.map((function(e){return e+"% "})).toString()],S+=R,a.tableRow(L,F,C,S,P,w,K)):(P=[$e.b[i].pg4TabRow4,(r.percent1+"%").toString()],S+=2.1*N,a.tableRow(L,F,C,S,P,w,K)),P=[$e.b[i].pg4TabRow5,""],S+=1.5*N,a.tableRow(L,F,C,S,P,w,K),b?(P=[$e.b[i].pg4TabRow6,("$"+Object(O.d)(r.percentNeed1,0,d,g)).toString()],S+=N,a.tableRow(L,F,C,S,P,w,K),a.DrawLine(Object(Ze.c)(1.5),Object(Ze.c)(S),Object(Ze.c)(5.5)),P=[$e.b[i].pg4TabRow7,("$"+Object(O.d)(r.percentNeed2.reduce((function(e,t){return e+t}),0),0,d,g)).toString()]):P=[$e.b[i].pg4TabRow7,("$"+Object(O.d)(r.percentNeed1,0,d,g)).toString()],S+=R,a.tableRow(L,F,C,S,P,w,K),a.addFooterAndHeader(T,A,I),v=v&&a.addCustomImage(f.cb,m,y,!1,E),K="en"===i?[3.35,1.1,1.1]:[3.65,.95,.95],a.SetFont(Ze.b,Ze.e),"en"===i?a.SetFontSize(Object(Ze.h)(25)):a.SetFontSize(Object(Ze.h)(20)),a.SetTextColor(69,85,96),a.Text($e.b[i].pg5T,Object(Ze.c)(1.5),Object(Ze.c)(T+1.4)),a.SetFont(Ze.i,Ze.e),a.SetFontSize(Object(Ze.h)(16)),C=1.5,S=T+1.7,N=.44,w=.35,P=[$e.b[i].pg5TabT,$e.b[i].pg5TabT2,$e.b[i].pg5TabT3],L=[115,153,198],F=[255,255,255],a.tableRow(L,F,C,S,P,w,K),L=[255,255,255],F=[69,85,96],a.SetTextColor(69,85,96),P=[$e.b[i].pg5TabRow1,("$"+Object(O.d)(r.govDB,0,d,g)).toString(),("$"+Object(O.d)(r.govDB,0,d,g)).toString()],S+=N,a.tableRow(L,F,C,S,P,w,K),S+=N,r.assets.forEach((function(e){P=[e.name,("$"+Object(O.d)(e.value,0,d,g)).toString(),e.disposeValue>0?("$"+Object(O.d)(e.disposeValue,0,d,g)).toString():""],a.tableRow(L,F,C,S,P,w,K),S+=R})),P=[$e.b[i].pg5TabRow3,("$"+Object(O.d)(r.totalAsset,0,d,g)).toString(),("$"+Object(O.d)(r.totalDisposeAsset,0,d,g)).toString()],S+=N,a.tableRow(L,F,C,S,P,w,K),P=[$e.b[i].pg5TabRow4,"",("$"+Object(O.d)(r.totalLiab,0,d,g)).toString()],S+=N,a.tableRow(L,F,C,S,P,w,K),S+=N,P=[$e.b[i].pg5TabRow5,"",("$"+Object(O.d)(r.totalDisposeAsset-r.totalLiab,0,d,g)).toString()],a.tableRow(L,F,C,S,P,w,K),S+=N,a.DrawLine(Object(Ze.c)(1.5),Object(Ze.c)(S-.43),Object(Ze.c)(5.5)),a.addFooterAndHeader(T,A,I),v=v&&a.addCustomImage(f.cb,m,y,!1,E),K=[4.4,1.1],a.SetFont(Ze.b,Ze.e),"en"===i?a.SetFontSize(Object(Ze.h)(25)):a.SetFontSize(Object(Ze.h)(20)),a.SetTextColor(69,85,96),a.Text($e.b[i].pg6T,Object(Ze.c)(1.5),Object(Ze.c)(T+1.4)),a.SetFont(Ze.i,Ze.e),a.SetFontSize(Object(Ze.h)(16)),C=1.5,S=T+1.7,N=.44,w=.35,P=[$e.b[i].pg6TabT],L=[115,153,198],F=[255,255,255],a.tableRow(L,F,C,S,P,w,[5.5]),L=[255,255,255],F=[69,85,96],S+=N,r.sources.forEach((function(e){P=[e.name,("$"+Object(O.d)(e.value,0,d,g)).toString()],a.tableRow(L,F,C,S,P,w,K),S+=R})),S+=N,a.MultilineText($e.b[i].pg6TabRow1,Object(Ze.c)(C+.1),Object(Ze.c)(S+.35),Object(Ze.c)(3)),S+=N+.3,a.DrawLine(Object(Ze.c)(1.5),Object(Ze.c)(S-.04),Object(Ze.c)(5.5)),b?(S+=N-.27,a.tableRow(L,F,C,S,[$e.b[i].pg6TabRow2],w,K),a.SetFontSize(Object(Ze.h)(12)),a.tableRow(L,F,C+3,S,["("+c.pg6Net+("  $"+Object(O.d)(r.totalSourceATax,0,d,g)).toString()+")"],w,K),a.SetFontSize(Object(Ze.h)(16)),a.tableRow(L,F,C+4.4,S,[("$"+Object(O.d)(r.totalSource,0,d,g)).toString()],w,K),S+=x,a.tableRow(L,F,C,S,[p?$e.b[i].pg5TabRow7:$e.b[i].pg6TabRow3],w,K),a.SetFontSize(Object(Ze.h)(12)),a.tableRow(L,F,C+3,S,["("+c.pg6Net+("  $"+Object(O.d)(r.totalSource2ATax,0,d,g)).toString()+")"],w,K),a.SetFontSize(Object(Ze.h)(16)),a.tableRow(L,F,C+4.4,S,[("$"+Object(O.d)(r.totalSource2,0,d,g)).toString()],w,K),a.SetFontSize(Object(Ze.h)(16))):(S+=N,a.tableRow(L,F,C,S,[p?$e.b[i].pg5TabRow7:$e.b[i].pg6TabRow3],w,K),a.SetFontSize(Object(Ze.h)(12)),a.tableRow(L,F,C+3,S,["("+c.pg6Net+("  $"+Object(O.d)(r.totalSourceATax,0,d,g)).toString()+")"],w+.1,K),a.SetFontSize(Object(Ze.h)(16)),a.tableRow(L,F,C+4.4,S,[("$"+Object(O.d)(r.totalSource,0,d,g)).toString()],w+.1,K)),S+=N+.5,a.MultilineText($e.b[i].pg6TabRow4,Object(Ze.c)(C+.1),Object(Ze.c)(S),Object(Ze.c)(3)),S+=N-.13,a.DrawLine(Object(Ze.c)(1.5),Object(Ze.c)(S+.26),Object(Ze.c)(5.5)),P=[$e.b[i].pg6TabRow5],S+=N,a.tableRow(L,F,C,S,P,w,K),b?(a.SetFontSize(Object(Ze.h)(12)),a.tableRow(L,F,C+3,S,["("+Object(O.d)(r.percentNeed1,0,d,g).toString()+"-"+Object(O.d)(r.totalSourceATax,0,d,g).toString()+")"],w+.1,[1.2]),a.SetFontSize(Object(Ze.h)(16)),L=[196,223,224],B=("$"+Object(O.d)(Math.max(0,r.percentNeed1-r.totalSourceATax),0,d,g)).toString(),a.tableRowSingle(L,F,C+4.4,S,B,w,K,!0),L=[255,255,255],P=[p?$e.b[i].pg5TabRow7:$e.b[i].pg6TabRow6],S+=x,a.tableRow(L,F,C,S,P,w,K),a.SetFontSize(Object(Ze.h)(12)),a.tableRow(L,F,C+3,S,["("+Object(O.d)(r.percentNeed2.reduce((function(e,t){return e+t}),0),0,d,g).toString()+"-"+Object(O.d)(r.totalSource2ATax,0,d,g).toString()+")"],w+.1,[1.2]),a.SetFontSize(Object(Ze.h)(16)),L=[196,223,224],B=("$"+Object(O.d)(Math.max(0,r.percentNeed2.reduce((function(e,t){return e+t}),0)-r.totalSource2ATax),0,d,g)).toString(),a.tableRowSingle(L,F,C+4.4,S,B,w,K,!0)):(L=[255,255,255],a.SetFontSize(Object(Ze.h)(12)),a.tableRow(L,F,C+3,S,["("+Object(O.d)(r.percentNeed1,0,d,g).toString()+"-"+Object(O.d)(r.totalSourceATax,0,d,g).toString()+")"],w+.1,[1.2]),a.SetFontSize(Object(Ze.h)(16)),L=[196,223,224],B=("$"+Object(O.d)(Math.max(0,r.percentNeed1-r.totalSourceATax),0,d,g)).toString(),a.tableRowSingle(L,F,C+4.4,S,B,w,K,!0)),a.SetFontSize(Object(Ze.h)(16)),a.addFooterAndHeader(T,A,I),v=v&&a.addCustomImage(f.cb,m,y,!1,E),K=[4.3,1.2],a.SetFont(Ze.b,Ze.e),"en"===i?a.SetFontSize(Object(Ze.h)(25)):a.SetFontSize(Object(Ze.h)(20)),a.SetTextColor(69,85,96),a.Text($e.b[i].pg8T,Object(Ze.c)(1.5),Object(Ze.c)(T+1.4)),a.SetFont(Ze.i,Ze.e),a.SetFontSize(Object(Ze.h)(16)),C=1.5,S=T+1.7,N=.42,w=.35,P=[$e.b[i].pg8TabT],L=[115,153,198],F=[255,255,255],a.tableRow(L,F,C,S,P,w,[5.5]),L=[255,255,255],F=[69,85,96],a.SetTextColor(69,85,96),S+=N+.2,a.MultilineText($e.b[i].pg8TabRow1,Object(Ze.c)(C),Object(Ze.c)(S),Object(Ze.c)(3)),a.Text(("$"+Object(O.d)(r.totalDisposeAsset-r.totalLiab,0,d,g)).toString(),Object(Ze.c)(C+4.42),Object(Ze.c)(S+.21)),S+=N+.3,a.MultilineText($e.b[i].pg8TabRow2,Object(Ze.c)(C),Object(Ze.c)(S),Object(Ze.c)(3)),S+=N-.1,p||(P=[$e.b[i].pg8TabRow3+t.LE+")",("$"+Object(O.d)(r.insNeedLE,0,d,g)).toString()],S+=N+.1,a.tableRow(L,F,C,S,P,w,K)),P=[p?$e.b[i].pg8TabRow4Alt.replace("A. ",""):$e.b[i].pg8TabRow4,("$"+Object(O.d)(r.insNeedRet,0,d,g)).toString()],S+=N,a.tableRow(L,F,C,S,P,w,K),r.hasChild&&(r.ygChild<o&&(P=[p?$e.b[i].pg8TabRow5.replace("C.","B.").replace("25",r.youngestChildEndAge):$e.b[i].pg8TabRow5.replace("25",r.youngestChildEndAge),("$"+Object(O.d)(r.insNeedYgChild25,0,d,g)).toString()],S+=N,a.tableRow(L,F,C,S,P,w,K)),r.ygChild<l&&(P=[p?$e.b[i].pg8TabRow6.replace("D.","C."):$e.b[i].pg8TabRow6,("$"+Object(O.d)(r.insNeedYgChild18,0,d,g)).toString()],S+=N,a.tableRow(L,F,C,S,P,w,K))),a.AddChart("bar2",Object(Ze.c)(1.5),Object(Ze.c)(S+.7),Object(Ze.c)(4),Object(Ze.c)(2)),a.addFooterAndHeader(T,A,I),v=v&&a.addCustomImage(f.cb,m,y,!1,E),a.SetFont(Ze.b,Ze.e),"en"===i?a.SetFontSize(Object(Ze.h)(25)):a.SetFontSize(Object(Ze.h)(20)),a.SetTextColor(69,85,96),a.Text($e.b[i].pg9T,Object(Ze.c)(1.5),Object(Ze.c)(T+1.4)),n=$e.b[i].pg9P1,a.SetFont(Ze.i,Ze.e),a.SetFontSize(Object(Ze.h)(16)),a.SetTextColor(69,85,96),a.MultilineText(n,Object(Ze.c)(1.5),Object(Ze.c)(T+1.8),Object(Ze.c)(5.5)),a.addHeaderNoFooter(T,I),v=v&&a.addCustomImage(f.cb,m,y,!1,E),a.SetFont(Ze.b,Ze.e),"en"===i?a.SetFontSize(Object(Ze.h)(25)):a.SetFontSize(Object(Ze.h)(20)),a.SetTextColor(69,85,96),a.Text($e.b[i].pg10T,Object(Ze.c)(1.5),Object(Ze.c)(T+1.4)),n=$e.b[i].pg10P1,a.SetFont(Ze.i,Ze.e),a.SetFontSize(Object(Ze.h)(16)),a.SetTextColor(69,85,96),a.MultilineText(n,Object(Ze.c)(1.5),Object(Ze.c)(T+1.8),Object(Ze.c)(5.5)),a.SetFont(Ze.i,Ze.e),a.SetFontSize(Object(Ze.h)(16)),C=1.5,S=T+3.7,N=.42,w=.35,L=[255,255,255],F=[69,85,96],a.SetTextColor(69,85,96),U="fr"===t.lang?3:4,S+=N+.2,a.MultilineText($e.b[i].pg10TabRow1,Object(Ze.c)(C),Object(Ze.c)(S),Object(Ze.c)(4)),a.Text($e.b[i].pg10TabRow11,Object(Ze.c)(C+U),Object(Ze.c)(S)),S+=N,a.MultilineText($e.b[i].pg10TabRow2,Object(Ze.c)(C),Object(Ze.c)(S),Object(Ze.c)(4)),a.Text($e.b[i].pg10TabRow11,Object(Ze.c)(C+U),Object(Ze.c)(S)),S+=N,a.MultilineText($e.b[i].pg10TabRow3,Object(Ze.c)(C),Object(Ze.c)(S),Object(Ze.c)(4)),a.Text($e.b[i].pg10TabRow11,Object(Ze.c)(C+U),Object(Ze.c)(S)),a.Footer($e.b[i].pgFooter),!1===v&&alert("PDF image error ^F"),a.Save("INA_PDF.pdf");case 359:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nt=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).doPDF=function(){!function(e){at.apply(this,arguments)}(n.props)},n.doLIFO=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.parent.postMessage("LIFO_"+n.props.dataInput.Presentations[0].language+"_"+n.props.encryptedInputLife1,"*");case 2:case"end":return e.stop()}}),e)}))),n.doWL=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.parent.postMessage("WL_"+n.props.dataInput.Presentations[0].language+"_"+n.props.encryptedInputLife1,"*");case 2:case"end":return e.stop()}}),e)}))),n.doEP=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.parent.postMessage("EP_"+n.props.dataInput.Presentations[0].language+"_"+n.props.encryptedInputLife1AndSpouse,"*");case 2:case"end":return e.stop()}}),e)}))),n.doCompuLife=function(){var e=n.props.dataInput.Presentations[0].language,t="fr"===e,a=parseFloat(Object(O.b)(n.props.insuranceNeed,t)),r=n.props.dataInput.Presentations[0].provinceKey,i=new Date,s=i.getFullYear()-n.props.dataInput.Clients[0].Age,o=i.getMonth()+1,l=i.getDate(),u=2,p="http://quotes.ppi.ca/canmain.html?comp=so";p=p+"&lang="+e+"&ID=TKD&ORIGIN=TKD&face="+parseInt(a)+"&prepby="+n.props.dataInput.Presentations[0].designedBy+"&prov=",r===f.qb.AB?u="1":r===f.qb.BC?u="2":r===f.qb.MB?u="3":r===f.qb.NB?u="4":r===f.qb.NF?u="5":r===f.qb.NS?u="6":r===f.qb.NT?u="7":r===f.qb.NU?u="8":r===f.qb.ON?u="9":r===f.qb.PE?u="10":r===f.qb.QC?u="11":r===f.qb.SK?u="12":r===f.qb.YU&&(u="13"),p=(p=(p=(p=(p+=u)+"&prepfor="+n.props.dataInput.Presentations[0].designedFor)+"&byear="+s+"&bmonth="+o+"&bday="+l)+"&sex="+(n.props.dataInput.Clients[0].sexKey===f.ub.MALE.Key?"M":"F"))+"&smoker="+(n.props.dataInput.Clients[0].smokerKey===f.vb.NON_SMOKER.Key?"N":"Y");var c=Math.min(window.innerHeight-130-20,800);n.externalWindow=window.open(p,"_blank","width=950,height="+c+",left=25,top=130"),n.containerEl=n.externalWindow.document.createElement("div"),n.externalWindow.document.body.appendChild(n.containerEl)},n.state={image:n.props.dataInput.Presentations[0].adviserLogo},n.dateApplet="",n}return Object(u.a)(a,[{key:"render",value:function(){var e=j(this.props),t=this.props.dataInput.Presentations[0].language,a=$e.b[t],n="en"===t?".":",",i="en"===t?",":" ",s=this.props.dataInput.Clients,o=Object(O.c)(s,this.props.dataInput.Presentations[0].periodOption,this.props.LE,this.props.LE),l=(o.projectionEnd,o.noProjectionYrs,o.survivorAge,Object(O.y)(s)),u=1===s.length,p=Object(O.p)(f.qb,e.province),c="QC"===p?f.hb:f.gb,d="QC"===p?f.mb:f.lb,g={legend:{display:!1},responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0,ticks:{beginAtZero:!0,callback:function(e,a,n){return e<1e3?e:Intl.NumberFormat(t).format(e/1e3)+"K"}}}]}},h=["A","B"],b=["#7399c6","#d9d3a4"];e.ygChild<c&&(e.insNeedYgChild25,e.totalAsset,e.totalLiab),e.ygChild<d&&(e.insNeedYgChild18,e.totalAsset,e.totalLiab);e.hasChild&&Math.min(c,this.props.dataInput.Clients.filter((function(t){return t.Age===e.ygChild}))[0].retirementAge),e.hasChild&&(h=["A","B","C","D"],b=["#7399c6","#d9d3a4","#949ca1","#847a18"]);var m=[e.insNeedLE,e.insNeedRet];e.hasChild&&(l?(h=["A","B","C"],m=[e.insNeedRet,e.insNeedYgChild25,e.insNeedYgChild18],b=["#d9d3a4","#949ca1","#847a18"]):(h=["A","B","C","D"],m=[e.insNeedLE,e.insNeedRet,e.insNeedYgChild25,e.insNeedYgChild18],b=["#7399c6","#d9d3a4","#949ca1","#847a18"]));var E={labels:h,datasets:[{label:"",data:m,fill:!1,borderColor:"#2B3856",backgroundColor:b}]},v=this.props.insNeedLine,T=Object(O.s)(this.props.dataInput,this.props.imageRemove,this.props.imageAdjust),A=T.logoTop,C=T.logoBottom,S=l?0:-37;return u?r.a.createElement("div",null,r.a.createElement("h3",{className:"ppi1"},v)):r.a.createElement("div",null,r.a.createElement("div",{className:"exportArea"},r.a.createElement("div",{style:{width:"100%",float:"left",clear:"left"}},r.a.createElement("input",{className:"roundedCornerCmd",style:{marginTop:S-35+"px",marginRight:"0px",paddingRight:"8px",float:"right"},onClick:this.doPDF,type:"button",value:f.u[t].pdf})),r.a.createElement("div",{style:{width:"100%",float:"left",clear:"left"}},r.a.createElement("input",{className:"roundedCornerCmd",style:{marginTop:S+"px",paddingRight:"8px",float:"right"},onClick:this.doCompuLife,type:"button",value:f.u[t].compulife})),r.a.createElement("div",{style:{width:"100%",float:"left",clear:"left"}},r.a.createElement("input",{className:"roundedCornerCmd",style:{marginTop:"10px",marginRight:"0px",paddingRight:"8px",float:"right"},onClick:this.doEP,type:"button",value:f.u[t].ep})),r.a.createElement("div",{style:{width:"100%",float:"left",clear:"left"}},r.a.createElement("input",{className:"roundedCornerCmd",style:{marginTop:"0px",marginRight:"0px",paddingRight:"8px",float:"right"},onClick:this.doLIFO,type:"button",value:f.u[t].lifo})),r.a.createElement("div",{style:{width:"100%",float:"left",clear:"left"}},r.a.createElement("input",{className:"roundedCornerCmd",style:{marginTop:"0px",marginRight:"0px",paddingRight:"8px",float:"right"},onClick:this.doWL,type:"button",value:f.u[t].wl}))),r.a.createElement("div",{className:"contentPres"},r.a.createElement("h3",{className:"ppi1"},v,r.a.createElement(y.a,{infoIcon:Object(I.i)(t)})),T.logo1stPage,T.applet,r.a.createElement("h1",{className:"ppi1"},a.pg1T),r.a.createElement("h5",{className:"ppi2"},a.pg1P1," ",e.designedFor,r.a.createElement("br",null),a.pg1P2," ",e.designedBy,r.a.createElement("br",null),a.pg1P3," ",e.dateApplet,r.a.createElement("br",null),a.pg1P4," ",e.province,r.a.createElement("br",null)),C,r.a.createElement("hr",{className:"ppi1"}),A,r.a.createElement("h2",{className:"ppi1"},a.pg1T),r.a.createElement("div",{style:{overflowX:"auto",overflowY:"hidden",width:"100%"}},r.a.createElement("table",{className:"blueTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"30%",marginLeft:"0px"}},a.pg2TabT1),r.a.createElement("th",{style:{width:"10%"}},a.pg2TabT2),r.a.createElement("th",{style:{width:"18%"}},a.pg2TabT3),r.a.createElement("th",{style:{width:"19%"}},l?a.pg2TabT4Alt:a.pg2TabT4),r.a.createElement("th",{style:{width:"19%"}},a.pg2TabT5))),r.a.createElement("tbody",null,e.clients.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.memberKey===f.ib.CLIENT.Key?f.ib.CLIENT.value[t]+Object(O.t)(e.name,t):e.memberKey===f.ib.SPOUSE.Key?f.ib.SPOUSE.value[t]+Object(O.t)(e.name,t):e.memberKey===f.ib.CHILD.Key?f.ib.CHILD.value[t]+Object(O.t)(e.name,t):f.ib.DEPENDENT_ADULT.value[t]+Object(O.t)(e.name,t)),r.a.createElement("td",{className:"textalignright"},e.age),r.a.createElement("td",{className:"textalignright"},"$",Object(O.d)(e.income,0,n,i)),r.a.createElement("td",{className:"textalignright"},l?e.memberKey===f.ib.CLIENT.Key?"-":e.ret-e.age:e.ret),r.a.createElement("td",{className:"textalignright"},e.memberKey===f.ib.CLIENT.Key?Object(O.z)(s[f.rb].avgTaxRate,!1,3,n):e.memberKey===f.ib.SPOUSE.Key?Object(O.z)(s[f.tb].avgTaxRate,!1,3,n):Object(O.z)(s[e.id-1].avgTaxRate,!1,3,n)))}))))),r.a.createElement("h4",{className:"ppi1"}),r.a.createElement("div",{className:"tableTitle"},a.pg2T3),r.a.createElement("table",{className:"incomePosition"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"paddingleft25"},a.pg2P5),r.a.createElement("td",{className:"textalignright"},"$",Object(O.d)(e.totalAssetExcludeInsurance,0,n,i))),r.a.createElement("tr",null,r.a.createElement("td",{className:"paddingleft25"},a.pg2P6),r.a.createElement("td",{className:"textalignright"},"$",Object(O.d)(e.totalLiabExcludeDeathRelated,0,n,i))),r.a.createElement("tr",null,r.a.createElement("td",{className:"paddingleft25",style:{textAlign:"right"}},a.pg2P7),r.a.createElement("td",{className:"textalignright"},"$",Object(O.d)(e.totalAssetExcludeInsurance-e.totalLiabExcludeDeathRelated,0,n,i))),r.a.createElement("tr",null,r.a.createElement("td",{className:"paddingleft25"},a.pg2P8),r.a.createElement("td",{className:"textalignright"},"$",Object(O.d)(e.totalAssetInsurance+e.govDB,0,n,i))),r.a.createElement("tr",null,r.a.createElement("td",{className:"paddingleft25"},a.pg2P9),r.a.createElement("td",{className:"textalignright"},"$",Object(O.d)(e.totalLiab-e.totalLiabExcludeDeathRelated,0,n,i))))),r.a.createElement("h4",{className:"ppi1"}),r.a.createElement("div",{className:"tableTitle"},a.pg2T2),r.a.createElement("table",{className:"incomePosition"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"paddingleft25"},a.pg7TabRow4),r.a.createElement("td",{className:"textalignright"},Object(O.z)(e.infRate,!1,3,n))),r.a.createElement("tr",null,r.a.createElement("td",{className:"paddingleft25"},a.pg7TabRow5),r.a.createElement("td",{className:"textalignright"},Object(O.z)(e.invRate,!1,3,n))),r.a.createElement("tr",null,r.a.createElement("td",{className:"paddingleft25"},a.pg2TabT6),r.a.createElement("td",{className:"textalignright"},Object(O.z)(this.props.dataInput.Presentations[0].taxRate,!1,3,n))),r.a.createElement("tr",null),r.a.createElement("tr",null),r.a.createElement("tr",null))),r.a.createElement("p",{className:"ppi1",style:{width:"90%"}},a.pg2Tab2),r.a.createElement("p",{className:"ppi1",style:{width:"90%"}},a.pg2Tab3),"              ",C,r.a.createElement("hr",{className:"ppi1"}),A,r.a.createElement("br",null),r.a.createElement("h2",{className:"ppi1"},a.pg3T),r.a.createElement("p",{className:"ppi1"},a.pg3P1),r.a.createElement("div",{style:{overflowX:"auto",overflowY:"hidden",width:"100%"}},r.a.createElement("div",{className:"tableTitle"},a.pg3TabT),r.a.createElement("table",{className:"cashNeeds"},r.a.createElement("thead",null),r.a.createElement("tbody",null,e.liabilities.map((function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",{style:{width:"50%"}},e.name),r.a.createElement("td",{className:"textalignright"},"$",Object(O.d)(e.value,0,n,i)))})),r.a.createElement("tr",{className:"backgroundcolorDCE5F0"},r.a.createElement("td",null,r.a.createElement("strong",null,a.pg3TabRTot)),r.a.createElement("td",{className:"textalignrightpaddingright20"},r.a.createElement("strong",null,"$",Object(O.d)(e.totalLiab,0,n,i))))))),r.a.createElement("h4",{className:"ppi1"}),r.a.createElement("div",{style:{overflowX:"auto",overflowY:"hidden",width:"100%"}},r.a.createElement("div",{className:"tableTitle"},a.pg4TabT),r.a.createElement("table",{className:"incomeNeeds"},r.a.createElement("thead",null),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"paddingleft25",style:{width:"70%"}},a.pg4TabRow1),r.a.createElement("td",{className:"textalignright"},"$",Object(O.d)(e.Income+e.Income2,0,n,i))),r.a.createElement("tr",{className:"backgroundcolorFFFFFF"},r.a.createElement("td",null,r.a.createElement("br",null),a.pg4TabRow2),r.a.createElement("td",null)),e.percent2.length>0&&r.a.createElement("tr",null,r.a.createElement("td",{className:"paddingleft25"},a.pg4TabRow3),r.a.createElement("td",{className:"textalignright"},e.percent1,"%")),e.percent2.length>0&&r.a.createElement("tr",null,r.a.createElement("td",{className:"paddingleft25"},a.pg4TabRow4),r.a.createElement("td",{className:"textalignright"},e.percent2.map((function(e){return r.a.createElement("span",null,e,"% ")})))),0===e.percent2.length&&r.a.createElement("tr",null,r.a.createElement("td",{className:"paddingleft25"},a.pg4TabRow4),r.a.createElement("td",{className:"textalignright"},e.percent1,"%")),r.a.createElement("tr",{className:"backgroundcolorFFFFFF"},r.a.createElement("td",null),r.a.createElement("td",null)),r.a.createElement("tr",{className:"backgroundcolorFFFFFF"},r.a.createElement("td",null,a.pg4TabRow5),r.a.createElement("td",null)),e.percent2.length>0&&r.a.createElement("tr",null,r.a.createElement("td",{className:"paddingleft25"},a.pg4TabRow6),r.a.createElement("td",{className:"textalignright"},"$",Object(O.d)(e.percentNeed1,0,n,i))),e.percent2.length>0&&r.a.createElement("tr",null,r.a.createElement("td",{className:"paddingleft25"},a.pg4TabRow7),r.a.createElement("td",{className:"textalignright"},"$",Object(O.d)(e.percentNeed2.reduce((function(e,t){return e+t}),0),0,n,i))),0===e.percent2.length&&r.a.createElement("tr",null,r.a.createElement("td",{className:"paddingleft25"},a.pg4TabRow7),r.a.createElement("td",{className:"textalignright"},"$",Object(O.d)(e.percentNeed1,0,n,i)))))),r.a.createElement("br",null),r.a.createElement("hr",{className:"ppi1"}),C,A,r.a.createElement("h2",{className:"ppi1"},a.pg5T),r.a.createElement("div",{style:{overflowX:"auto",overflowY:"hidden",width:"100%"}},r.a.createElement("div",{className:"tableTitle"},r.a.createElement("span",null,a.pg5TabT),r.a.createElement("span",{style:{paddingLeft:"45%"}},a.pg5TabT2),r.a.createElement("span",{style:{paddingLeft:"25%"}},a.pg5TabT3)),r.a.createElement("table",{className:"cashSources"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:{height:"1px",width:"50%"}},a.pg5TabRow1),r.a.createElement("td",{className:"textalignright",style:{height:"1px",width:"25%"}},"$",Object(O.d)(e.govDB,0,n,i)),r.a.createElement("td",{className:"textalignright",style:{height:"1px",width:"25%"}},"$",Object(O.d)(e.govDB,0,n,i))),e.assets.map((function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",{style:{height:"1px",width:"50%"}},e.name),r.a.createElement("td",{className:"textalignright",style:{height:"1px",width:"25%"}},"$",Object(O.d)(e.value,0,n,i)),r.a.createElement("td",{className:"textalignright",style:{height:"1px",width:"25%"}},e.disposeValue>0?"$"+Object(O.d)(e.disposeValue,0,n,i):""))})),r.a.createElement("tr",{className:"backgroundcolorDCE5F0"},r.a.createElement("td",null,a.pg5TabRow3),r.a.createElement("td",{className:"textalignright"},"$",Object(O.d)(e.totalAsset,0,n,i)),r.a.createElement("td",{className:"textalignright"},"$",Object(O.d)(e.totalDisposeAsset,0,n,i))),r.a.createElement("tr",{className:"backgroundcolorDCE5F0"},r.a.createElement("td",null,a.pg5TabRow4),r.a.createElement("td",null," "),r.a.createElement("td",{className:"textalignright",style:{height:"1px",width:"25%"}},"$",Object(O.d)(e.totalLiab,0,n,i))),r.a.createElement("tr",null,r.a.createElement("td",null,a.pg5TabRow5),r.a.createElement("td",null," "),r.a.createElement("td",{className:"textalignright"},"$",Object(O.d)(e.totalDisposeAsset-e.totalLiab,0,n,i)))))),r.a.createElement("hr",{className:"ppi1"}),C,A,r.a.createElement("br",null),r.a.createElement("h2",{className:"ppi1"},a.pg6T),r.a.createElement("div",{style:{overflowX:"auto",overflowY:"hidden",width:"100%"}},r.a.createElement("div",{className:"tableTitle"},a.pg6TabT),r.a.createElement("table",{className:"incomeSources"},r.a.createElement("tbody",null,e.sources.map((function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",{style:{width:"70%"}},e.name),r.a.createElement("td",{className:"textalignright"},"$",Object(O.d)(e.value,0,n,i)))})),r.a.createElement("tr",{className:"backgroundcolorFFFFFF"},r.a.createElement("td",null),r.a.createElement("td",null)),r.a.createElement("tr",{className:"backgroundcolorFFFFFF"},r.a.createElement("td",null,a.pg6TabRow1),r.a.createElement("td",null)),e.percent2.length>0&&r.a.createElement("tr",null,r.a.createElement("td",{className:"paddingleft25"},a.pg6TabRow2),r.a.createElement("td",{className:"textalignright"},r.a.createElement("span",{style:{fontSize:"10px",marginRight:"20px"}},"(",a.pg6Net+" ",Object(O.d)(e.totalSourceATax,0,n,i),")"),"$",Object(O.d)(e.totalSource,0,n,i))),e.percent2.length>0&&r.a.createElement("tr",null,r.a.createElement("td",{className:"paddingleft25"},l?a.pg5TabRow7:a.pg6TabRow3),r.a.createElement("td",{className:"textalignright"},r.a.createElement("span",{style:{fontSize:"10px",marginRight:"20px"}},"(",a.pg6Net+" ",Object(O.d)(e.totalSource2ATax,0,n,i),")"),"$",Object(O.d)(e.totalSource2,0,n,i))),0===e.percent2.length&&r.a.createElement("tr",null,r.a.createElement("td",{className:"paddingleft25"},l?a.pg5TabRow7:a.pg6TabRow3),r.a.createElement("td",{className:"textalignright"},"$",Object(O.d)(e.totalSource,0,n,i))),r.a.createElement("tr",{className:"backgroundcolorFFFFFF"},r.a.createElement("td",null),r.a.createElement("td",null)),r.a.createElement("tr",{className:"backgroundcolorFFFFFF"},r.a.createElement("td",null,a.pg6TabRow4),r.a.createElement("td",null)),e.percent2.length>0&&r.a.createElement("tr",null,r.a.createElement("td",{className:"paddingleft25"},a.pg6TabRow5),r.a.createElement("td",{className:"textalignrightbackgroundcolorDCE5F0"},r.a.createElement("strong",null,"$",Object(O.d)(Math.max(0,e.totalDesiredGrossIncome1-e.totalSource1),0,n,i)))),e.percent2.length>0&&r.a.createElement("tr",null,r.a.createElement("td",{className:"paddingleft25"},l?a.pg5TabRow7:a.pg6TabRow6),r.a.createElement("td",{className:"textalignrightbackgroundcolorDCE5F0"},r.a.createElement("strong",null,"$",Object(O.d)(Math.max(0,e.totalDesiredGrossIncome2-e.totalSource2),0,n,i)))),0===e.percent2.length&&r.a.createElement("tr",null,r.a.createElement("td",{className:"paddingleft25"},l?a.pg5TabRow7:a.pg6TabRow6),r.a.createElement("td",{className:"textalignrightbackgroundcolorDCE5F0"},r.a.createElement("strong",null,"$",Object(O.d)(Math.max(0,e.totalDesiredGrossIncome-e.totalSource),0,n,i))))))),r.a.createElement("hr",{className:"ppi1"}),C,A,r.a.createElement("br",null),r.a.createElement("h2",{className:"ppi1"}," ",a.pg8T),r.a.createElement("div",{className:"tableTitle"},a.pg8TabT),r.a.createElement("div",{style:{overflowX:"auto",overflowY:"hidden",width:"100%"}},r.a.createElement("table",{className:"incomePosition"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{width:"70%"},a.pg8TabRow1),r.a.createElement("td",{className:"textalignright",width:"30%"},"$",Object(O.d)(e.totalDisposeAsset-e.totalLiab,0,n,i))),r.a.createElement("tr",null,r.a.createElement("td",{className:"backgroundcolorFFFFFF"},r.a.createElement("br",null),a.pg8TabRow2),r.a.createElement("td",{className:"backgroundcolorFFFFFF"})),!l&&r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("strong",null),a.pg8TabRow3,this.props.LE,")"),r.a.createElement("td",{className:"textalignright"},"$",this.props.insuranceNeedLE)),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("strong",null),l?a.pg8TabRow4Alt.replace("B.","A."):a.pg8TabRow4),r.a.createElement("td",{className:"textalignright"},"$",this.props.insuranceNeedRet)),e.hasChild&&e.ygChild<c&&r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("strong",null),l?a.pg8TabRow5.replace("C.","B.").replace("25",e.youngestChildEndAge):a.pg8TabRow5.replace("25",e.youngestChildEndAge)),r.a.createElement("td",{className:"textalignright"},"$",Object(O.d)(e.insNeedYgChild25,0,n,i))),e.hasChild&&e.ygChild<d&&r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("strong",null),l?a.pg8TabRow6.replace("D.","C."):a.pg8TabRow6),r.a.createElement("td",{className:"textalignright"},"$",Object(O.d)(e.insNeedYgChild18,0,n,i))),r.a.createElement("tr",null)))),r.a.createElement("div",{style:{color:"darkBlue",marginTop:"55px"}},r.a.createElement("br",null),r.a.createElement("div",{style:{marginLeft:"20px",width:"90%"}},r.a.createElement("div",{style:{width:"75%"}},r.a.createElement("article",{id:"bar2",className:"canvas-container",style:{height:"200px"}},r.a.createElement(U.Bar,{data:E,options:g}))))),r.a.createElement("br",null),r.a.createElement("br",null),C,A,r.a.createElement("br",null),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("h2",{className:"ppi1"},a.pg9T),r.a.createElement("p",{className:"ppi1"},a.pg9P1),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),C,A,r.a.createElement("br",null),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("h2",{className:"ppi1"},a.pg10T),r.a.createElement("p",{className:"ppi1"},a.pg10P1),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{className:"ppi1"},a.pg10TabRow1,r.a.createElement("br",null),r.a.createElement("span",{style:{paddingLeft:"118px"}},a.pg10TabRow11)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{className:"ppi1"},a.pg10TabRow2,r.a.createElement("br",null),r.a.createElement("span",{style:{paddingLeft:"118px"}},a.pg10TabRow11)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{className:"ppi1"},a.pg10TabRow3,r.a.createElement("br",null),r.a.createElement("span",{style:{paddingLeft:"110px"}},a.pg10TabRow11)),r.a.createElement("br",null),r.a.createElement("hr",{className:"ppi1"}),C))}}]),a}(n.Component);function rt(e,t,a){e.SetFont(Ze.b,Ze.e),void 0===a?"en"===t?e.SetFontSize(Object(Ze.h)(25)):e.SetFontSize(Object(Ze.h)(20)):(e.SetFont(Ze.b,Ze.a),"en"===t?e.SetFontSize(Object(Ze.h)(a)):e.SetFontSize(Object(Ze.h)(a-1))),e.SetTextColor(69,85,96)}function it(e,t,a,n,r){st(e),e.SetTextColor(150,150,150),e.SetFontSize(Object(Ze.h)(12)),lt(e,t,a,n,r),st(e)}function st(e){e.SetFont(Ze.i,Ze.e),e.SetFontSize(Object(Ze.h)(16)),e.SetTextColor(69,85,96)}function ot(e,t,a,n,r){e.SetTextColor(115,153,198),e.SetFontSize(Object(Ze.h)(r)),e.SetFont(Ze.i,Ze.a),e.Text(t,Object(Ze.c)(a+(24===r?.02:0)),Object(Ze.c)(n-(24===r?.03:0))),e.SetFont(Ze.i,Ze.e),e.SetFontSize(Object(Ze.h)(16)),e.SetTextColor(69,85,96)}function lt(e,t,a,n,r){e.MultilineText(t,Object(Ze.c)(a),Object(Ze.c)(n),Object(Ze.c)(r))}function ut(e,t,a,n,r,i,s){e.SetFontSize(Object(Ze.h)(12));var o=void 0===s?[115,153,198]:s;return e.SetFont(Ze.i,Ze.a),e.tableRow(o,[255,255,255],t,a,n,r,i,!1,!1,!0)}function pt(e,t,a,n,r,i,s,o,l){e.SetTextColor(69,85,96);var u=void 0===o?[249,249,249]:o;e.SetFont(Ze.i,s?Ze.a:Ze.e),e.tableRow(u,[69,85,96],t,a,n,r,i,!0,l)}function ct(e,t,a,n,r,i,s,o,l,u){var p,c=t.dataColTitles.length,d=2.2*.2,g="landscape"===o?0===l?27:54:37,h="en"===i?".":",",b="en"===i?",":" ",m="fr"===i,f=[];e.AddPage(o),rt(e,i,16);var y=Be.i[i].pg8T+": "+Be.i[i].pg3T;for(lt(e,y,n,d,r),st(e),d+=1.6*.2,lt(e,y=(0===u?Be.i[i].pg8P1:Be.i[i].pg8P2)+"",n,d,r),d+=.1,f.push(r/(c+5)),f.push(r/(c+5)),p=2;p<c;++p)f.push((r-2*r/(c+4))/(c-2));var E=r;1===u&&(E=c*r/8);var v=t.dataColTitles,T=[];for(p=0;p<c;++p)T.push(e.textWidth(v[p])),T[p];for(p=0;p<c;++p)f[p]=T[p]+.15;var A=0;for(p=2;p<c;++p)A+=f[p];var I=[],C=(E-A-f[0]-f[1])/(c-2);if(1===u)for(p=2;p<c;++p)f[p]+=C;else if(0===u)for(C=(E-A-f[0]-f[1])/(c-3),p=2;p<c;++p)4!==p&&(f[p]+=C);for(p=0;p<c;++p)I.push(e.textWidthMultiLine(v[p],f[p])),I[p];d+=.8*.2,y=t.gridTitle,e.SetFontSize(Object(Ze.h)(12)),e.SetTextColor(69,85,96),lt(e,y,n,d,r);var S,N=ut(e,n,d+=.4*.2,v,.2,f,[51,77,124]),R=l;for(s&&(d+=N);R<a+3;){if(R===g&&(0===l&&a+3-R>6||27===l&&a+27+3-R>6)){if(0===u)return lt(e,"continued ...",n,d+3*.2/2+.1,r),e.FooterLandscape(Be.i[i].pgFooter),R;R=a+3-6,d+=.2,e.SetFont(Ze.i,Ze.a),lt(e,"......",n,d+.1,r),e.SetFont(Ze.i,Ze.e)}v=[];var x=[];for(p=0;p<c;++p)v.push(0===p&&0===R||1===p?String(t.dataProjection[p][R]):Object(O.d)(parseFloat(Object(O.b)(t.dataProjection[p][R],m)),0,h,b).toString()),x.push(2);d+=.2,S=R%2?[249,249,249]:[228,229,230],R==a&&(S=[208,215,230],lt(e,"en"===i?"LE":"EV",n+E+.15,d+.1+.01,r)),pt(e,n,d,v,.2,f,!1,S,x),R++}"landscape"===o?e.FooterLandscape(Be.i[i].pgFooter):e.Footer(Be.i[i].pgFooter)}var dt=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"render",value:function(){var e,t=Ye(this.props),a=this.props.dataInput.Presentations[0].language,n=Object(O.u)(this.props.dataInput,this.props.projectEnd,this.props.language),i=[],s=this.props.lifeExp,o=this.props.dataInput.Clients,l=o.length>1?Math.min(o[f.tb].Age,o[f.rb].Age):o[f.rb].Age;for(1===this.INAEstateOption?(s=this.props.lifeExpClient,l=this.props.dataInput.Clients[f.rb].Age):2===this.INAEstateOption&&(s=this.props.lifeExpJLTD,l=o.length>1?Math.min(o[f.tb].Age,o[f.rb].Age):o[f.rb].Age),e=0;e<=s+3;++e)i.push(l+e);var u=Object(O.n)(this.props.dataInput.Assets,this.props.assetProjections,t,n,a,s);return u.optionsPieEstateLeakage.legend.labels.boxWidth=20,u.optionsPieEstateLeakageLE.legend.labels.boxWidth=20,r.a.createElement("div",{style:{width:"90%"}},r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("h3",{className:"ppi1"},r.a.createElement("div",null,Be.i[a].graphsLeakageT1," ",r.a.createElement("br",null))),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("article",{id:"pieEstateLeakage",className:"canvas-container",style:{position:"relative",height:"35vh",width:"80vw"}},r.a.createElement("div",{className:"EPGraphDiv"},r.a.createElement(U.Pie,{data:u.dataPieEstateLeakage,options:u.optionsPieEstateLeakage}))),r.a.createElement("article",{id:"pieEstateLeakage2",className:"canvas-container",style:{position:"relative",height:"35vh",width:"80vw"}},r.a.createElement("div",{className:"EPGraphDiv"},r.a.createElement(U.Pie,{data:u.dataPieEstateLeakageLE,options:u.optionsPieEstateLeakageLE})))),r.a.createElement("br",null),r.a.createElement("hr",null)))}}]),a}(r.a.Component),gt=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"render",value:function(){for(var e=this.props.language,t={elements:{point:{radius:0}},responsive:!0,title:{display:!0,position:"top",text:Be.i[e].pg4GT,fontSize:14,fontColor:"#111"},legend:{display:!0,position:"bottom",labels:{fontColor:"#333",fontSize:12}},scales:{yAxes:[{stacked:!0,ticks:{beginAtZero:!0,callback:function(t,a,n){return t<1e3?t:"en"===e?Intl.NumberFormat().format(t/1e3)+"K":(Intl.NumberFormat().format(t/1e3)+"K").replace(","," ")}}}],xAxes:[{stacked:!0,ticks:{beginAtZero:!0}}]}},a=[],n=["line","bar"],i=[],s=[],o=f.xb.TAX_LIAB.value[this.props.language],l=0;l<this.props.dataAssetnEstateLiabProj.length;++l)this.props.dataAssetnEstateLiabProj[l].name===o&&s.push(this.props.dataAssetnEstateLiabProj[l]);for(var u=0;u<this.props.dataAssetnEstateLiabProj.length;++u)this.props.dataAssetnEstateLiabProj[u].name!==o&&s.push(this.props.dataAssetnEstateLiabProj[u]);for(var p=0;p<s.length;++p){i=[];for(var c=s[p].name===o,d=0;d<this.props.dataAges.length;++d)i.push(s[p].colour);i[this.props.LE]=g(s[p].colour,-20),a.push({type:n[c?0:1],label:s[p].name,data:s[p].values,fill:!c,borderColor:s[p].colour,backgroundColor:i})}function g(e,t){var a=parseInt(e.substring(1,3),16),n=parseInt(e.substring(3,5),16),r=parseInt(e.substring(5,7),16);return a=parseInt(a*(100+t)/100),n=(n=parseInt(n*(100+t)/100))<255?n:255,r=(r=parseInt(r*(100+t)/100))<255?r:255,"#"+(1==(a=a<255?a:255).toString(16).length?"0"+a.toString(16):a.toString(16))+(1==n.toString(16).length?"0"+n.toString(16):n.toString(16))+(1==r.toString(16).length?"0"+r.toString(16):r.toString(16))}var h={labels:this.props.dataAges,datasets:a};return r.a.createElement("div",{style:{width:"90%"}},r.a.createElement("div",null,r.a.createElement("article",{id:"stackedChart",className:"canvas-containerWeb",style:{marginLeft:"25px",height:"450px"}},r.a.createElement("div",{style:{overflow:"hidden",float:"left",width:"100%",height:"400px"}},r.a.createElement(U.Bar,{data:h,options:t})))))}}]),a}(r.a.Component),ht=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).doINA=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.parent.postMessage("INA_"+n.props.dataInput.Presentations[0].language+"_"+n.props.encryptedInputLife1AndSpouse,"*");case 2:case"end":return e.stop()}}),e)}))),n.clickMultiButton=function(e){var t=!0;1===e&&(t=!1),n.setState({showGrids:t})},n.doPDF=function(){!function(e,t){try{var a,n=new Ze.g;n.Create();var r,i=[1.2,.6,1.8,1.4],s=1.568,o=j(e),l=e.dataInput.Presentations[0].language;n.SetFont(Ze.b,Ze.e),n.SetFontSize(Object(Ze.h)(36)),n.SetTextColor(69,85,96),n.Text(1===e.INAOption?f.wb[l].appletINA:f.wb[l].appletEP,Object(Ze.c)(1.2),Object(Ze.c)(4.2));var u,p=e.dataInput.Presentations[0].adviserLogo,c=null===p.image?0:.25,d=e.dataInput.Presentations[0].adviserLogo.top;u=n.addCustomImage(f.bb,4.2,p,!0,d),n.AddImage(f.Z,Object(Ze.c)(1.21),Object(Ze.c)(4.7),Object(Ze.c)(6.04),Object(Ze.c)(2.76)),n.SetFontSize(Object(Ze.h)(18)),n.SetTextColor(69,85,96),n.Text(Be.i[l].pg1P1+o.designedFor,Object(Ze.c)(1.22),Object(Ze.c)(7.83)),n.Text(Be.i[l].pg1P2+o.designedBy,Object(Ze.c)(1.22),Object(Ze.c)(8.33)),n.Text(Be.i[l].pg1P3+o.dateApplet,Object(Ze.c)(1.22),Object(Ze.c)(4.2+4.42)),n.Text(Be.i[l].pg1P4+o.province,Object(Ze.c)(1.22),Object(Ze.c)(8.89));var g=Be.i[l].pgFooter,h=Be.i[l].pg1T;n.addFooterAndHeader(c,g,h),u=u&&n.addCustomImage(f.cb,4.2,p,!1,d),rt(n,l),n.Text(Be.i[l].pg2T,Object(Ze.c)(1.2),Object(Ze.c)(s)),st(n);var b=[];Be.i[l].pg2Paragraphs.map((function(e){return b.push(e)})),s+=.392,lt(n,b[0],1.2,s,6),s+=.98,lt(n,b[1],1.2,s,6),ot(n,".",1.2+.15,s+=.196*("en"===l?4.5:5.5),24),lt(n,b[2],1.545,s,6),ot(n,".",1.2+.15,s+=.2352,24),lt(n,b[3],1.545,s,6),s+=.392,lt(n,b[4],1.2,s,6),ot(n,".",1.2+.15,s+=3*.196,24),lt(n,b[5],1.545,s,6),ot(n,".",1.2+.15,s+=.2352,24),lt(n,b[6],1.545,s,6),s+=3*.196,lt(n,b[7],1.2,s,6),ot(n,".",1.2+.15,s+=3*.196,24),lt(n,b[8],1.545,s,6),ot(n,".",1.2+.15,s+=.2352,24),lt(n,b[9],1.545,s,6),ot(n,".",1.2+.15,s+=.2352,24),lt(n,b[10],1.545,s,6),n.addFooterAndHeader(c,g,h),u=u&&n.addCustomImage(f.cb,4.2,p,!1,d),s=1.568,rt(n,l),n.Text(Be.i[l].pg3T,Object(Ze.c)(1.2),Object(Ze.c)(s)),st(n),s+=.392,a=Be.i[l].pg3P1,lt(n,a,1.2,s,6);var m="fr"===l?3.3:2.8,y=0;.24,i=[1.9,.9],"fr"===l&&(i=[3*m/4+.1,m/4-.1]);var E=s+=3.2*.196;r=[Be.i[l].pg3TabT];var v=[];ut(n,1.2,s,r,.24,[m+.01]),o.assets.map((function(e){r=[e.name+(e.name===f.c.OTHER_ASSETS.value[l]&&e.value>0?" *":""),Object(O.e)(e.value,0,l)],v.push(0),v.push(2),y+=parseFloat(e.value),pt(n,1.2,s+=.24,r,.24,i,!1,[249,249,249],v)})),(v=[]).push(2),v.push(2),pt(n,1.2,s+=.24,[Be.i[l].pg3Tab2RTot,Object(O.e)(y,0,l)],.24,i,!0,[235,235,235],v),""!==o.otherAssetsList&&(s+=.4312,a=o.otherAssetsList,it(n,a,1.2,s,6)),st(n);var T="fr"===l?2.95:2.8;i=[1.9,.9],"fr"===l&&(i=[3*T/4,T/4]);var A=0,I=1.2+m+.2;s=E,r=[Be.i[l].pg3Tab2T],ut(n,I,s,r,.24,[T+.01]),v=[],o.liabilities.map((function(e){r=[e.name,Object(O.e)(e.value,0,l)],v.push(0),v.push(2),A+=parseFloat(e.value),pt(n,I,s+=.24,r,.24,i,!1,[249,249,249],v)})),(v=[]).push(2),v.push(2),pt(n,I,s+=.24,[Be.i[l].pg3Tab2RTot,Object(O.e)(A,0,l)],.24,i,!0,[235,235,235],v),pt(n,I,s+=.24,[Be.i[l].pg3Tab2NW,Object(O.e)(y-A,0,l)],.24,i,!0,[205,205,205],v),s+=.9016,rt(n,l),n.Text(Be.i[l].pg3T2,Object(Ze.c)(1.2),Object(Ze.c)(s)),st(n),s+=.392,a=Be.i[l].pg3P2,lt(n,a,1.2,s,6),i=[(T=6)/4+.4,T/4-.5,T/4-.1,T/4+.12],"fr"===l&&(i=[T/4+.85,T/4-.45,T/4-.25,T/4+.25]),s+=.196*("fr"===l?3.2:2.8),r=[Be.i[l].pg3Tab3R1C1,Be.i[l].pg3Tab3R1C2,Be.i[l].pg3Tab3R1C3,Be.i[l].pg3Tab3R1C4];var C=ut(n,1.2,s,r,.24,i);pt(n,1.2,s=s+.24+C,[Be.i[l].pg3Tab3R2C1,t.EstateLiabsByTypeGrowth[Be.e],Object(O.e)(t.EstateLiabsByType[Be.e],0,l),Object(O.e)(t.EstateLiabsByTypeLE3[Be.e],0,l)],.24,i,!1,[249,249,249],v),pt(n,1.2,s+=.24,[Be.i[l].pg3Tab3R3C1,t.EstateLiabsByTypeGrowth[Be.h],Object(O.e)(t.EstateLiabsByType[Be.h],0,l),Object(O.e)(t.EstateLiabsByTypeLE3[Be.h],0,l)],.24,i,!1,[249,249,249],v),pt(n,1.2,s+=.24,[Be.i[l].pg3Tab3R4C1,t.EstateLiabsByTypeGrowth[Be.g],Object(O.e)(t.EstateLiabsByType[Be.g],0,l),Object(O.e)(t.EstateLiabsByTypeLE3[Be.g],0,l)],.24,i,!1,[249,249,249],v),pt(n,1.2,s+=.24,[Be.i[l].pg3Tab3R5C1,t.EstateLiabsByTypeGrowth[Be.f],Object(O.e)(t.EstateLiabsByType[Be.f],0,l),Object(O.e)(t.EstateLiabsByTypeLE3[Be.f],0,l)],.24,i,!1,[249,249,249],v),pt(n,1.2,s+=.24,[Be.i[l].pg3Tab3R6C1,t.EstateLiabsByTypeGrowth[Be.b],Object(O.e)(t.EstateLiabsByType[Be.b],0,l),Object(O.e)(t.EstateLiabsByTypeLE3[Be.b],0,l)],.24,i,!1,[249,249,249],v),pt(n,1.2,s+=.24,[Be.i[l].pg3Tab3R7C1,t.EstateLiabsByTypeGrowth[Be.c],Object(O.e)(t.EstateLiabsByType[Be.c],0,l),Object(O.e)(t.EstateLiabsByTypeLE3[Be.c],0,l)],.24,i,!1,[249,249,249],v),i=[T/4+("fr"===l?.6:.1)+T/4-.2,T/4-("fr"===l?.25:.1),T/4+("fr"===l?.25:.12)],pt(n,1.2,s+=.24,[Be.i[l].pg3Tab3R8C1,Object(O.e)(t.EstateLiabsByTypeTotal,0,l),Object(O.e)(t.EstateLiabsByTypeLE3Total,0,l)],.24,i,!0,[235,235,235],v),s+=.4312,a=Be.i[l].pg3P4,it(n,a,1.2,s,6),s+=.196*("fr"===l?1.7:.8),a=Be.i[l].pg3P5,it(n,a,1.2,s,6),n.addFooterAndHeader(c,g,h),u=u&&n.addCustomImage(f.cb,4.2,p,!1,d),s=1.568,rt(n,l),n.Text(Be.i[l].pg4T,Object(Ze.c)(1.2),Object(Ze.c)(s)),st(n),s+=.392,a=Be.i[l].pg4P1,lt(n,a,1.2,s,6),s+=.9212,n.AddChart("stackedChart",Object(Ze.c)(1.2),Object(Ze.c)(s),Object(Ze.c)(6),Object(Ze.c)(3.92)),s+=4.018,a=Be.i[l].pg4P2+e.LE+")",it(n,a,1.2,s,6),s+=3.7*.196,a=Be.i[l].pg4P3.replace("X1",Object(O.e)(t.EstateLiabsByTypeTotal,0,l)).replace("X2",Object(O.e)(t.EstateLiabsByTypeLE3Total,0,l)),n.drawRect(1.2,s-.3,6.4,.72,[235,235,235]),lt(n,a,1.4,s,6),s+=3*.196,n.AddChart("pieEstateLeakage",Object(Ze.c)(.5),Object(Ze.c)(s),Object(Ze.c)(4.5),Object(Ze.c)(2.15)),n.AddChart("pieEstateLeakage2",Object(Ze.c)(4.08),Object(Ze.c)(s),Object(Ze.c)(4.5),Object(Ze.c)(2.15)),n.addFooterAndHeader(c,g,h),u=u&&n.addCustomImage(f.cb,4.2,p,!1,d),s=1.568,rt(n,l),n.Text(Be.i[l].pg5T,Object(Ze.c)(1.2),Object(Ze.c)(s)),st(n),b=[],Be.i[l].pg5Paragraphs.map((function(e){return b.push(e)})),s+=.392,a=b[0],lt(n,a,1.2,s,6),s+=.784,a=b[1],lt(n,a,1.2,s,6),s+=.49,a=b[2],ot(n,"1.",1.2+.15,s,11),lt(n,a,1.545,s,6),s+=1.5*.196,a=b[3],ot(n,"2.",1.2+.15,s,11),lt(n,a,1.545,s,6),s+=1.5*.196,a=b[4],ot(n,"3.",1.2+.15,s,11),lt(n,a,1.545,s,6),s+=.196*("fr"===l?2.5:1.5),a=b[5],ot(n,"4.",1.2+.15,s,11),lt(n,a,1.545,s,6),s+=.392,a=b[6],lt(n,a,1.2,s,6),s+=1.5*.196,a=b[7],ot(n,"1.",1.2+.15,s,11),lt(n,a,1.545,s,6),s+=.98,a=b[8],ot(n,"2.",1.2+.15,s,11),lt(n,a,1.545,s,6),s+=6*.196,a=b[9],ot(n,"3.",1.2+.15,s,11),lt(n,a,1.545,s,6),s+=.784,a=b[10],ot(n,"4.",1.2+.15,s,11),lt(n,a,1.545,s,6),s+=6*.196,a=Be.i[l].pg5Plast,n.drawRect(1.2,s-.3,6.4,.72,[235,235,235]),lt(n,a,1.4,s,6),n.addFooterAndHeader(c,g,h),u=u&&n.addCustomImage(f.cb,4.2,p,!1,d),s=1.568,rt(n,l),n.Text(Be.i[l].pg6T,Object(Ze.c)(1.2),Object(Ze.c)(s)),st(n),b=[],Be.i[l].pg6Paragraphs1.map((function(e){return b.push(e)})),s+=.392,a=b[0],lt(n,a,1.2,s,6),s+=.98,a=b[1],lt(n,a,1.2,s,6),s+=.686,a=b[2],ot(n,"1.",1.2+.15,s,11),lt(n,a,1.545,s,6),s+=.2744,a=b[3],ot(n,"2.",1.2+.15,s,11),lt(n,a,1.545,s,6),s+=.2744,a=b[4],ot(n,"3.",1.2+.15,s,11),lt(n,a,1.545,s,6),s+=.392,a=b[5],lt(n,a,1.2,s,6),s+=6*.196,a=b[6],lt(n,a,1.2,s,6),u=u&&n.addCustomImage(f.cb,4.2,p,!1,d),s+=1.568,rt(n,l),n.Text(Be.i[l].pg7T,Object(Ze.c)(1.2),Object(Ze.c)(s)),st(n),s+=.392,a=Be.i[l].pg7P1,n.MultilineText(a,Object(Ze.c)(1.2),Object(Ze.c)(s),Object(Ze.c)(6)),n.Footer(Be.i[l].pgFooter);var S=e.LE;ct(n,e.aggregateGrid,S,1,1.65*6,l,!0,"landscape",0,0),S+3>27&&S+3<54?ct(n,e.aggregateGrid,S,1,1.65*6,l,!0,"landscape",27,0):S+3>54&&(ct(n,e.aggregateGrid,S,1,1.65*6,l,!0,"landscape",27,0),ct(n,e.aggregateGrid,S,1,1.65*6,l,!0,"landscape",54,0));for(var N=0;N<e.assetProjections.length;++N)ct(n,e.assetProjections[N].grid,S,1.2,6,l,!0,"portrait",0,1);n.addFooterAndHeader(c,g,h),u=u&&n.addCustomImage(f.cb,4.2,p,!1,d),s=1.568,rt(n,l),n.Text(Be.i[l].pg9T,Object(Ze.c)(1.2),Object(Ze.c)(s)),st(n),s+=.392,lt(n,Be.i[l].pg9P1,1.2,s,6),s+=.196*("fr"===l?7:6),lt(n,Be.i[l].pg9P2,1.2,s,6);var R=n.showOnPage();!1===u&&alert("PDF image error ^F"),n.Save("PYE_PDF.pdf")}catch(x){}}(n.props,n.AssetLiabProjs)},n.doPrint=function(){var e=window.open("","PRINT");return e.document.write("<html><head><title>"+document.title+"</title>"),e.document.write("</head><body >"),e.document.write("<h1>Protecting Your Estate</h1>"),e.document.write(document.getElementById("presentation").innerHTML),e.document.write("</body></html>"),e.document.close(),e.focus(),e.print(),e.close(),!0},n.state={loading:!0,showGrids:!1,image:n.props.dataInput.Presentations[0].adviserLogo.image,imageSize:90,imageAlign:2},n.AssetLiabProjs=null,n}return Object(u.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({showGrids:!1})}},{key:"render",value:function(){this.AssetLiabProjs=Ye(this.props),this.output=j(this.props);var e={overflow:"hidden",width:"100%"},t=this.props.dataInput.Presentations[0].language,a=this.props.LE,n=this.props.dataInput.Clients,i=this.AssetLiabProjs.AssetnEstateLiabs.length>0,s=n.length>1?Math.min(n[f.tb].Age,n[f.rb].Age):n[f.rb].Age,o=Object(O.g)(n,a),l=1,u=1,p=1,c=0,d=0;if(void 0===this.AssetLiabProjs.projectionsGrids[0])return r.a.createElement(oe.a,{type:"TailSpin",color:"black",height:30,width:30});null!==this.props.dataInput.Presentations[0].adviserLogo.image&&this.props.dataInput.Presentations[0].adviserLogo.allPages;var g=0,h=Object(O.s)(this.props.dataInput,this.props.imageRemove,this.props.imageAdjust),b=h.logoTop,m=h.logoBottom;return r.a.createElement("div",{id:"presentation"},r.a.createElement("input",{className:"roundedCornerCmd",style:{marginTop:"-32px",marginRight:"0px",paddingRight:"8px",float:"right"},onClick:this.doPDF,type:"button",value:f.u[t].pdf}),r.a.createElement("div",{style:{width:"100%",float:"left",clear:"left"}},r.a.createElement("input",{className:"roundedCornerCmd",style:{marginTop:"25px",marginRight:"0px",paddingRight:"8px",float:"right"},onClick:this.doINA,type:"button",value:f.wb[t].appletINA})),r.a.createElement("div",{className:"contentPres"},r.a.createElement("p",null),h.logo1stPage,h.applet,"          ",r.a.createElement("h1",{className:"ppi1"},Be.i[t].pg1T),r.a.createElement("h5",{className:"ppi2"},Be.i[t].pg1P1," ",this.output.designedFor,r.a.createElement("br",null),Be.i[t].pg1P2," ",this.output.designedBy,r.a.createElement("br",null),Be.i[t].pg1P3," ",this.output.dateApplet,r.a.createElement("br",null),Be.i[t].pg1P4," ",this.output.province,r.a.createElement("br",null)),r.a.createElement("hr",{className:"ppi1"}),m,r.a.createElement("div",{style:e},b,r.a.createElement("br",null),r.a.createElement("h2",{className:"ppi1"},Be.i[t].pg2T),Be.i[t].pg2Paragraphs.map((function(e){return r.a.createElement("p",{className:"ppi1",key:l++},l>=4&&6!==l&&9!==l&&l<=12&&r.a.createElement("span",{style:{paddingLeft:"15px",paddingRight:"5px",color:"#759AC7",fontSize:"18px",whiteSpace:"nowrap"}},"\u2022")," ",e,r.a.createElement("br",null))}))),m,r.a.createElement("div",{style:e},b,r.a.createElement("br",null),r.a.createElement("h2",{className:"ppi1"},Be.i[t].pg3T),r.a.createElement("p",{className:"ppi1"},Be.i[t].pg3P1),r.a.createElement("div",{style:{fontSize:"14px"}},r.a.createElement("div",{style:{paddingLeft:"20px",width:"35%",float:"left"}},r.a.createElement("div",null,r.a.createElement("table",{className:"tableEP",style:{paddingLeft:"10px",width:"100%"}},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"tableTitleEP",colSpan:"2"},Be.i[t].pg3TabT)),this.output.assets.map((function(e){return c+=e.value,r.a.createElement("tr",{key:e.name},r.a.createElement("td",{style:{height:"1px",width:"65%"}},e.name,e.name===f.c.OTHER_ASSETS.value[t]&&e.value>0?" *":""),r.a.createElement("td",{className:"textalignright",style:{height:"1px"}},Object(O.e)(e.value,0,t)))})),r.a.createElement("tr",{key:"totalAssets",style:{height:"1px",width:"65%",backgroundColor:"#f0f0f5",textAlign:"right"}},r.a.createElement("td",null,Be.i[t].pg3Tab2RTot),r.a.createElement("td",{className:"textalignright",style:{height:"1px"}},Object(O.e)(c,0,t))))),""!==this.output.otherAssetsList&&r.a.createElement("p",{className:"ppi1",style:{color:"darkgrey",marginTop:"3px",marginLeft:"-20px",fontSize:"12px",float:"left"}},this.output.otherAssetsList))),r.a.createElement("div",{style:{paddingLeft:"20px",width:"38%",float:"left"}},r.a.createElement("div",null,r.a.createElement("table",{className:"tableEP",style:{paddingLeft:"10px",width:"100%"}},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"tableTitleEP",colSpan:"2"},Be.i[t].pg3Tab2T)),this.output.liabilities.map((function(e){return d+=e.value,r.a.createElement("tr",{key:e.name},r.a.createElement("td",{style:{width:"60%"}},e.name),r.a.createElement("td",{className:"textalignright"},Object(O.e)(e.value,0,t)))})),r.a.createElement("tr",{key:"totalLiabs",style:{height:"1px",width:"65%",backgroundColor:"#f0f0f5",textAlign:"right"}},r.a.createElement("td",null,Be.i[t].pg3Tab2RTot),r.a.createElement("td",{className:"textalignright",style:{height:"1px"}},Object(O.e)(d,0,t))),r.a.createElement("tr",{key:"netWorth",style:{height:"1px",width:"65%",backgroundColor:"#d1d1e0",textAlign:"right"}},r.a.createElement("td",null,Be.i[t].pg3Tab2NW),r.a.createElement("td",{className:"textalignright",style:{height:"1px"}},Object(O.e)(c-d,0,t))))))))),r.a.createElement("h2",{className:"ppi1"},Be.i[t].pg3T2),r.a.createElement("p",{className:"ppi1"},Be.i[t].pg3P2),r.a.createElement("p",{className:"ppi1"},Be.i[t].pg3P3),r.a.createElement("div",{style:{fontFamily:"Georgia, 'Times New Roman', imes, serif",fontSize:"14px"}},r.a.createElement("div",{style:{paddingLeft:"20px",width:"70%",float:"left"}},r.a.createElement("div",null,r.a.createElement("table",{className:"tableEP",style:{paddingLeft:"10px",width:"100%"}},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"tableTitleEP",style:{width:"30%"}},Be.i[t].pg3Tab3R1C1),r.a.createElement("th",{className:"tableTitleEP",style:{width:"20%"}},Be.i[t].pg3Tab3R1C2),r.a.createElement("th",{className:"tableTitleEP",style:{width:"20%"}},Be.i[t].pg3Tab3R1C3),r.a.createElement("th",{className:"tableTitleEP",style:{width:"20%"}},Be.i[t].pg3Tab3R1C4)),r.a.createElement("tr",null,r.a.createElement("td",null,Be.i[t].pg3Tab3R2C1),r.a.createElement("td",{className:"textalignright"},this.AssetLiabProjs.EstateLiabsByTypeGrowth[Be.e]),r.a.createElement("td",{className:"textalignright"},Object(O.e)(this.AssetLiabProjs.EstateLiabsByType[Be.e],0,t)),r.a.createElement("td",{className:"textalignright"},Object(O.e)(this.AssetLiabProjs.EstateLiabsByTypeLE3[Be.e],0,t))),r.a.createElement("tr",null,r.a.createElement("td",null,Be.i[t].pg3Tab3R3C1),r.a.createElement("td",{className:"textalignright"},this.AssetLiabProjs.EstateLiabsByTypeGrowth[Be.h]),r.a.createElement("td",{className:"textalignright"},Object(O.e)(this.AssetLiabProjs.EstateLiabsByType[Be.h],0,t)),r.a.createElement("td",{className:"textalignright"},Object(O.e)(this.AssetLiabProjs.EstateLiabsByTypeLE3[Be.h],0,t))),r.a.createElement("tr",null,r.a.createElement("td",null,Be.i[t].pg3Tab3R4C1),r.a.createElement("td",{className:"textalignright"},this.AssetLiabProjs.EstateLiabsByTypeGrowth[Be.g]),r.a.createElement("td",{className:"textalignright"},Object(O.e)(this.AssetLiabProjs.EstateLiabsByType[Be.g],0,t)),r.a.createElement("td",{className:"textalignright"},Object(O.e)(this.AssetLiabProjs.EstateLiabsByTypeLE3[Be.g],0,t))),r.a.createElement("tr",null,r.a.createElement("td",null,Be.i[t].pg3Tab3R5C1),r.a.createElement("td",{className:"textalignright"},this.AssetLiabProjs.EstateLiabsByTypeGrowth[Be.f]),r.a.createElement("td",{className:"textalignright"},Object(O.e)(this.AssetLiabProjs.EstateLiabsByType[Be.f],0,t)),r.a.createElement("td",{className:"textalignright"},Object(O.e)(this.AssetLiabProjs.EstateLiabsByTypeLE3[Be.f],0,t))),r.a.createElement("tr",null,r.a.createElement("td",null,Be.i[t].pg3Tab3R6C1),r.a.createElement("td",{className:"textalignright"},this.AssetLiabProjs.EstateLiabsByTypeGrowth[Be.b]),r.a.createElement("td",{className:"textalignright"},Object(O.e)(this.AssetLiabProjs.EstateLiabsByType[Be.b],0,t)),r.a.createElement("td",{className:"textalignright"},Object(O.e)(this.AssetLiabProjs.EstateLiabsByTypeLE3[Be.b],0,t))),r.a.createElement("tr",null,r.a.createElement("td",null,Be.i[t].pg3Tab3R7C1),r.a.createElement("td",{className:"textalignright"},this.AssetLiabProjs.EstateLiabsByTypeGrowth[Be.c]),r.a.createElement("td",{className:"textalignright"},Object(O.e)(this.AssetLiabProjs.EstateLiabsByType[Be.c],0,t)),r.a.createElement("td",{className:"textalignright"},Object(O.e)(this.AssetLiabProjs.EstateLiabsByTypeLE3[Be.c],0,t))),r.a.createElement("tr",{style:{backgroundColor:"#f0f0f5",textAlign:"right"}},r.a.createElement("td",{colSpan:"2"},Be.i[t].pg3Tab3R8C1),r.a.createElement("td",{className:"textalignright"},Object(O.e)(this.AssetLiabProjs.EstateLiabsByTypeTotal,0,t)),r.a.createElement("td",{className:"textalignright"},Object(O.e)(this.AssetLiabProjs.EstateLiabsByTypeLE3Total,0,t))))))),r.a.createElement("p",{className:"ppi1",style:{color:"darkgrey",marginTop:"3px",fontSize:"12px",float:"left"}},Be.i[t].pg3P4,r.a.createElement("br",null),Be.i[t].pg3P5)),m,r.a.createElement("div",{style:e},b,r.a.createElement("br",null),r.a.createElement("h2",{className:"ppi1"},Be.i[t].pg4T),r.a.createElement("p",{className:"ppi1"},Be.i[t].pg4P1)),!0===i&&r.a.createElement(gt,{language:t,dataAges:o,dataAssetnEstateLiabProj:this.AssetLiabProjs.AssetnEstateLiabs,LE:a}),r.a.createElement("p",{className:"ppi1",style:{color:"darkgrey",marginTop:"-30px",fontSize:"12px",float:"left"}},Be.i[t].pg4P2+a+")"),r.a.createElement("p",{className:"ppi1",style:{backgroundColor:"lightgrey",width:"84%",marginTop:"30px",paddingTop:"10px",paddingBottom:"12px",marginLeft:"30px"}},Be.i[t].pg4P3.replace("X1",Object(O.e)(this.AssetLiabProjs.EstateLiabsByTypeTotal,0,t)).replace("X2",Object(O.e)(this.AssetLiabProjs.EstateLiabsByTypeLE3Total,0,t))),r.a.createElement("div",null,r.a.createElement(dt,{insuranceNeed:this.props.insuranceNeed,projectEnd:s+a+3,dataEstateLiability:this.props.dataEstateLiability,dataInput:this.props.dataInput,dataNAAges:o,lifeExp:a,lifeExpJLTD:a,lifeExpClient:a,INAOption:this.INAOption,LE:this.props.LE,assetProjections:this.props.assetProjections,showLeakageOnly:!0})),m,r.a.createElement("div",{style:e},b,r.a.createElement("br",null),r.a.createElement("h2",{className:"ppi1"},Be.i[t].pg5T),Be.i[t].pg5Paragraphs.map((function(e){return r.a.createElement("p",{className:"ppi1",key:u++},u>=4&&8!==u&&u<=12&&r.a.createElement("span",{style:{paddingLeft:"15px",color:"#759AC7"}},u<8?u-3:u-8,"."," ")," ",e,r.a.createElement("br",null))})),r.a.createElement("p",{className:"ppi1",style:{backgroundColor:"lightgrey",width:"84%",marginTop:"30px",paddingTop:"10px",paddingBottom:"12px",marginLeft:"30px"}},Be.i[t].pg5Plast)),m,r.a.createElement("div",{style:{overflowX:"hidden",overflowY:"hidden",width:"100%"}},b,r.a.createElement("br",null),r.a.createElement("h2",{className:"ppi1"},Be.i[t].pg6T),Be.i[t].pg6Paragraphs1.map((function(e){return r.a.createElement("p",{className:"ppi1",key:p++},p>=4&&p<=6&&r.a.createElement("span",{style:{paddingLeft:"15px",color:"#759AC7"}},p<8?p-3:p-8,"."," ")," ",e,r.a.createElement("br",null))}))),m,r.a.createElement("div",{style:e},b,r.a.createElement("br",null),r.a.createElement("h2",{className:"ppi1"},Be.i[t].pg7T),r.a.createElement("p",{className:"ppi1"},Be.i[t].pg7P1)),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("br",null),r.a.createElement("h2",{className:"ppi1"},Be.i[t].pg8T),r.a.createElement("p",{className:"ppi1"},Be.i[t].pg8P2),r.a.createElement("div",{style:{marginLeft:"24px"}},r.a.createElement(Xe.a,{noButtons:2,buttonCaption:[Be.i[t].pg8O1,Be.i[t].pg8O2],selected:this.state.showGrids?2:1,selectMultiButton:this.clickMultiButton})),r.a.createElement("div",{id:"assetGrid",style:{clear:"both",float:"left",marginLeft:"25px"}},this.state.showGrids&&this.AssetLiabProjs.projectionsGrids.map((function(e){return r.a.createElement(ie,{key:g++,dataColTitles:e.dataColTitles,dataProjection:e.dataProjection,gridTitle:e.gridTitle,gridIcons:[],specialRow:a-s,language:t})})))),m,r.a.createElement("div",{style:e},b,r.a.createElement("br",null),r.a.createElement("h2",{className:"ppi1"},Be.i[t].pg9T),r.a.createElement("p",{className:"ppi1"},Be.i[t].pg9P1),r.a.createElement("p",{className:"ppi1"},Be.i[t].pg9P2),m)))}}]),a}(n.Component),bt=a(152),mt=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"render",value:function(){var e,t,a,n=this.props.dataInput.Presentations[0].language,i=this.props.dataCashFlowNeeds.map((function(e){return-e})),s={responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{stacked:!0,ticks:{beginAtZero:!0}}],yAxes:[{stacked:!0,ticks:{beginAtZero:!0,steps:10,stepValue:5,max:1e4*Math.ceil(1+Math.max(Math.max.apply(Math,Object(bt.a)(this.props.dataCashFlowGov)),Math.max.apply(Math,Object(bt.a)(this.props.dataCashFlowNeeds)),Math.max.apply(Math,Object(bt.a)(this.props.dataShortfall)),Math.max.apply(Math,Object(bt.a)(this.props.dataCashFlowPersonal)))/1e4)}}]}},o=$e.a[n],l={labels:this.props.dataNAAges,datasets:[{label:o.persCF,data:this.props.dataCashFlowPersonal,fill:!1,borderColor:"LightSteelBlue",backgroundColor:"LightSteelBlue"},{label:o.govCF,data:this.props.dataCashFlowGov,fill:!1,borderColor:"#FAD7A0",backgroundColor:"#FAD7A0"},{label:o.incomeNeeds,data:i,fill:!1,borderColor:"#2B3856",backgroundColor:"#2B3856"}]},u=[],p=0;for(e=0;e<this.props.dataInput.Liabilitys.length;e++)p+=this.props.dataInput.Liabilitys[e].currValue;for(e=0;e<this.props.dataShortfall.length;++e){for(a=0,t=e;t<this.props.dataShortfall.length;++t)a+=this.props.dataShortfall[t]/Math.pow(1.03,t-e);e>0&&e<20&&(a+=p*Math.pow(1.02,e)),u.push(a)}var c={labels:this.props.dataNAAges,datasets:[{label:o.shortfall,data:this.props.dataShortfall,fill:!1,borderColor:"darkred",backgroundColor:"darkred"}]},d={responsive:!0,title:{display:!0,position:"top",text:o.assetsBrk,fontSize:14,fontColor:"#111"},legend:{display:!0,position:"right",labels:{fontColor:"#333",fontSize:12}}},g=JSON.parse(JSON.stringify(d));g.title.text=o.liabsBrk;var h={labels:[o.cashLike,o.RRSP,o.shares,o.realEstate,o.otherAssets],datasets:[{data:[Object(O.h)(this.props.dataInput,f.c.CASH.Key)+Object(O.h)(this.props.dataInput,f.c.LIFE_INSURANCE.Key)+Object(O.h)(this.props.dataInput,f.c.CHARITABLE_GIFTS_TAX_CREDIT.Key),Object(O.h)(this.props.dataInput,f.c.RRSP_RRIF.Key),Object(O.h)(this.props.dataInput,f.c.SMALL_BUSINESS_SHARES.Key)+Object(O.h)(this.props.dataInput,f.c.STOCKS_BONDS.Key),Object(O.h)(this.props.dataInput,f.c.REAL_ESTATE.Key)+Object(O.h)(this.props.dataInput,f.c.PERSONAL_RESIDENCE.Key),Object(O.h)(this.props.dataInput,f.c.OTHER_ASSETS.Key)],backgroundColor:["#F7464A","#46BFBD","#FDB45C","#949FB1","#4D5360"]}]},b={labels:[o.loans,o.taxes,o.emergency,o.otherLiabs,o.atDeath],datasets:[{data:[Object(O.o)(this.props.dataInput,f.fb.OUTSTANDING_LOANS.Key)+Object(O.o)(this.props.dataInput,f.fb.MORTGAGE_REDEMPTION.Key)+Object(O.o)(this.props.dataInput,f.fb.CREDIT_CARDS.Key)+Object(O.o)(this.props.dataInput,f.fb.CLIENT_TAX_LIABILITY.Key),Object(O.o)(this.props.dataInput,f.fb.INCOME_TAXES.Key),Object(O.o)(this.props.dataInput,f.fb.EMERGENCY_FUND.Key),Object(O.o)(this.props.dataInput,f.fb.OTHER.Key)+Object(O.o)(this.props.dataInput,f.fb.CHILD_HOME_CARE.Key),Object(O.o)(this.props.dataInput,f.fb.LAST_EXPENSES.Key)+Object(O.o)(this.props.dataInput,f.fb.LEGAL_AND_EXECUTOR_FEES.Key)+Object(O.o)(this.props.dataInput,f.fb.LEGACY_FOR_CHILDREN.Key)+Object(O.o)(this.props.dataInput,f.fb.CHARITABLE_GIFTS.Key)],backgroundColor:["#F7464A","#46BFBD","#FDB45C","#949FB1","#4D5360"]}]},m=this.props.insNeedLine,E=this.props.dataInput.Assets.length>0&&r.a.createElement("article",{className:"canvas-container",style:{position:"relative",height:"35vh",width:"80vw"}},r.a.createElement("div",{className:"EPGraphDiv"},r.a.createElement(U.Pie,{data:h,options:d}))),v=this.props.dataInput.Liabilitys.length>0&&r.a.createElement("article",{className:"canvas-container",style:{position:"relative",height:"35vh",width:"80vw"}},r.a.createElement("div",{className:"EPGraphDiv"},r.a.createElement(U.Pie,{data:b,options:g})));return r.a.createElement("div",null,r.a.createElement("h3",{className:"ppi1"},m,r.a.createElement(y.a,{infoIcon:Object(I.i)(n)})),r.a.createElement("br",null),r.a.createElement("div",{style:{width:"90%"}},r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("article",{className:"canvas-container",style:{height:"200px"}},r.a.createElement(U.Bar,{data:l,options:s})),r.a.createElement("article",{className:"canvas-container",style:{height:"200px"}},r.a.createElement(U.Bar,{data:c,options:s})),r.a.createElement("br",null),r.a.createElement("h3",{className:"ppi1"},o.currFins),r.a.createElement("div",null,E,v))))}}]),a}(r.a.Component),ft=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loadingMCC:!0,estateLiab:[],estateLiabLE:[],taxL:0},n.dataAges=[],n.dataPremiums=[],n.dataDB=[],n.dataSVEquiBuild=[],n.dataSVManulife=[],n.Prem=0,n.bestPremiumDur=100,n.bestMinMultiple=0,n.premiumDur=10,n.lifeExp=0,n.minMultiple=0,n.insMultiple=0,n.bestFitEquiBuild=!1,n.INAEstateOption=1,n.chartRef=r.a.createRef(),n.taxLiabChartRef=r.a.createRef(),n}return Object(u.a)(a,[{key:"render",value:function(){var e,t,a=Ye(this.props),n=this.props.dataInput.Presentations[0].language,i=Object(O.u)(this.props.dataInput,this.props.projectEnd,this.props.language),s=this.props.lifeExp,o=this.props.dataInput.Clients;o.length>1?Math.min(o[f.tb].Age,o[f.rb].Age):o[f.rb].Age;1===this.INAEstateOption?(s=this.props.lifeExp,this.props.dataInput.Clients[f.rb].Age):2===this.INAEstateOption&&(s=this.props.lifeExp,o.length>1?Math.min(o[f.tb].Age,o[f.rb].Age):o[f.rb].Age),e=Object(O.g)(o,s);var l=Object(O.n)(this.props.dataInput.Assets,this.props.assetProjections,a,i,n,s),u={responsive:!0,maintainAspectRatio:!1,title:{display:!0,position:"top",text:"",fontSize:14,fontColor:"#111"},legend:{display:!0,position:"right",labels:{fontColor:"#333",fontSize:12}}},p=JSON.parse(JSON.stringify(u));p.title.text=Be.i[n].graphsT2;var c=JSON.parse(JSON.stringify(u));c.title.text=Be.i[n].graphsT3;var d=a.AssetnEstateLiabs.length-1,g=[],h=[],b=a.AssetnEstateLiabs[d].values;for(t=0;t<=s+3;++t)g.push(0),h.push(b[t]);g[s]=b[s];var m={labels:e,datasets:[{label:Be.i[n].graphs2L2,data:g,fill:!0,borderColor:"#6AAd8b",backgroundColor:"rgb(106,173,139,.5)"},{label:Be.i[n].graphs2L1,data:h,fill:!0,borderColor:"darkGrey",backgroundColor:"#607d8b"}]},y={responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{stacked:!0,ticks:{beginAtZero:!0}}],yAxes:[{stacked:!1,ticks:{beginAtZero:!0,callback:function(e,t,a){return e<1e3?e:"en"===n?Intl.NumberFormat().format(e/1e3)+"K":(Intl.NumberFormat().format(e/1e3)+"K").replace(","," ")},steps:10,stepValue:5}}]}},E=[],v=parseInt(i[0]);parseInt(i[s+3]);E.push(v),E.push(a.EstateLiabsByType[Be.e]),E.push(a.EstateLiabsByType[Be.h]),E.push(a.EstateLiabsByType[Be.g]),E.push(a.EstateLiabsByType[Be.f]),E.push(a.EstateLiabsByType[Be.b]),E.push(a.EstateLiabsByType[Be.c]);var T={labels:[Be.i[n].graphsL1,Be.i[n].graphsTaxes+Be.i[n].pg3Tab3R2C1,Be.i[n].graphsTaxes+Be.i[n].pg3Tab3R3C1,Be.i[n].graphsTaxes+Be.i[n].pg3Tab3R4C1,Be.i[n].graphsTaxes+Be.i[n].pg3Tab3R5C1,Be.i[n].graphsTaxes+Be.i[n].pg3Tab3R6C1,Be.i[n].graphsTaxes+Be.i[n].pg3Tab3R7C1],datasets:[{data:E,backgroundColor:["#872651",f.c.REAL_ESTATE.colour,f.c.STOCKS_BONDS.colour,f.c.SMALL_BUSINESS_SHARES.colour,f.c.RRSP_RRIF.colour,f.c.INTEREST_BEARING.colour,f.c.OTHER_ASSETS.colour]}]},A=[];A.push(v),A.push(a.EstateLiabsByTypeLE3[Be.e]),A.push(a.EstateLiabsByTypeLE3[Be.h]),A.push(a.EstateLiabsByTypeLE3[Be.g]),A.push(a.EstateLiabsByTypeLE3[Be.f]),A.push(a.EstateLiabsByTypeLE3[Be.b]),A.push(a.EstateLiabsByTypeLE3[Be.c]);var I={labels:[Be.i[n].graphsL1,Be.i[n].graphsTaxes+Be.i[n].pg3Tab3R2C1,Be.i[n].graphsTaxes+Be.i[n].pg3Tab3R3C1,Be.i[n].graphsTaxes+Be.i[n].pg3Tab3R4C1,Be.i[n].graphsTaxes+Be.i[n].pg3Tab3R5C1,Be.i[n].graphsTaxes+Be.i[n].pg3Tab3R6C1,Be.i[n].graphsTaxes+Be.i[n].pg3Tab3R7C1],datasets:[{data:A,backgroundColor:["#872651",f.c.REAL_ESTATE.colour,f.c.STOCKS_BONDS.colour,f.c.SMALL_BUSINESS_SHARES.colour,f.c.RRSP_RRIF.colour,f.c.INTEREST_BEARING.colour,f.c.OTHER_ASSETS.colour]}]};return r.a.createElement("div",{style:{width:"90%"}},r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("h3",{className:"ppi1"},r.a.createElement("div",null,Be.i[n].graphsT1," ",r.a.createElement("br",null))),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("article",{className:"canvas-container",style:{position:"relative",height:"35vh",width:"80vw"}},r.a.createElement("div",{className:"EPGraphDiv"},r.a.createElement(U.Pie,{data:T,options:p})),r.a.createElement("div",{className:"EPGraphDiv"},r.a.createElement(U.Pie,{data:I,options:c})))),r.a.createElement("h3",{className:"ppi1"},r.a.createElement("div",null,Be.i[n].graphsLeakageT1," ",r.a.createElement("br",null))),r.a.createElement("div",{style:{width:"100%",marginLeft:"31px"}},r.a.createElement("article",{className:"canvas-container",style:{position:"relative",height:"35vh",width:"80vw"}},r.a.createElement("div",{className:"EPGraphDiv"},r.a.createElement(U.Pie,{data:l.dataPieEstateLeakage,options:l.optionsPieEstateLeakage})),r.a.createElement("div",{className:"EPGraphDiv"},r.a.createElement(U.Pie,{data:l.dataPieEstateLeakageLE,options:l.optionsPieEstateLeakageLE})))),r.a.createElement("h3",{className:"ppi1"},r.a.createElement("div",null,Be.i[n].graphs2L1," ",r.a.createElement("br",null))),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("article",{className:"canvas-container",style:{height:"200px"}},r.a.createElement(U.Bar,{data:m,options:y}))),r.a.createElement("br",null),r.a.createElement("hr",null)))}}]),a}(r.a.Component),yt=a(90);var Et=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getMCCQuoteOutput=function(){return Promise.all([n.getMCCQuoteOutput1(),n.getMCCQuoteOutput4()])},n.getMCCQuoteOutput1=function(){var e=2===n.INAEstateOption?f.sb:f.rb,t=1===n.props.INAOption?n.props.insuranceNeed:n.props.dataEstateLiability[0],a=Object(yt.a)(n.props.input,48,e,parseFloat(Object(O.b)(t)));t>0&&Object(de.d)(n.props.dataAPISite,a,parseFloat(Object(O.b)(t))).then((function(e){void 0!==e[0]&&(n.minPrem=parseInt(Object(O.b)(e[0][2].Values[0])),n.lifeExp=n.props.lifeExp)})).then((function(e){n.getMCCQuoteOutput4()}))},n.getMCCQuoteOutput4=Object(b.a)(h.a.mark((function e(){var t,a,r,i,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:48,t=2===n.INAEstateOption?f.sb:f.rb,a=1===n.props.INAOption?n.props.insuranceNeed:n.props.dataEstateLiability[0],r=Object(yt.a)(n.props.input,48,t,parseFloat(Object(O.b)(a))),i=r.insured.lives[0].age,r.insured.lifeStatus>0&&i>r.insured.lives[1].age&&(i=r.insured.lives[1].age),s=n.props.projectEnd,r.policy.objPremium.PremSet=!0,!0===n.bestFitEquiBuild?(r.policy.faceAmount=parseFloat(Object(O.b)(a))/2,r.policy.objRider.ICO20=!0,r.policy.objRider.T20Amt=parseFloat(Object(O.b)(a))/2,r.policy.objCustomDB.solveForPremium_On=!0,r.policy.objCustomDB.customDB=1===n.props.INAOption?n.getDataFutureINA():n.props.dataEstateLiability):(r.policy.objCustomDB.customDB=[],r.policy.objCustomDB.solveForPremium_On=!1,r.policy.objPremium.PremSetAmt=n.Prem,r.policy.objPremium.PremSetDur=parseInt(n.premiumDur)),r.policy.objPremium.PremSolve=!1,Object(de.d)(n.props.dataAPISite,r,parseFloat(Object(O.b)(a))).then((function(e){var t;if(void 0!==e[0][1])for(console.log("POST: MCC_OutputArrays success"),n.dataAges=e[0][1].Values.slice(0,s).map((function(e){return parseInt(Object(O.b)(e))})),n.dataPremiums=e[0][2].Values.map((function(e){return parseInt(Object(O.b)(e))})),n.dataDB=e[0][3].Values.slice(0,s).map((function(e){return parseInt(Object(O.b)(e))})),n.dataSVEquiBuild=e[0][4].Values.slice(0,s).map((function(e){return parseInt(Object(O.b)(e))})),n.dataDB.unshift(parseFloat(Object(O.b)(a))),t=0;t<n.dataDB.length+i-n.props.projectEnd+3;++t)n.dataAges.pop(),n.dataDB.pop(),n.dataPremiums.pop(),n.dataSVEquiBuild.pop()}));case 11:case"end":return e.stop()}}),e)}))),n.getMCCQuoteOutputManu=Object(b.a)(h.a.mark((function e(){var t,a,r,i,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:47,t=2===n.INAEstateOption?f.sb:f.rb,a=1===n.props.INAOption?n.props.insuranceNeed:n.props.dataEstateLiability[0],r=Object(yt.a)(n.props.input,47,t,parseFloat(Object(O.b)(a))),i=r.insured.lives[0].age,r.insured.lifeStatus>0&&i>r.insured.lives[1].age&&(i=r.insured.lives[1].age),s=n.props.projectEnd,r.policy.objPremium.PremSet=!1,r.policy.objPremium.PremSolve=!0,r.policy.objPremium.PremSolveDur=99,r.policy.objCustomDB.customDB=[],r.policy.objCustomDB.solveForPremium_On=!1,r.policy.intRate=.035,r.policy.province="AB",Object(de.d)(n.props.dataAPISite,r,parseFloat(Object(O.b)(a))).then((function(e){var t;if(void 0!==e[0][1])for(console.log("POST: MCC_OutputArrays success"),n.dataAges=e[0][1].Values.slice(0,s).map((function(e){return parseInt(Object(O.b)(e))})),n.dataPremiums=e[0][2].Values.map((function(e){return parseInt(Object(O.b)(e))})),n.dataDB=e[0][3].Values.slice(0,s).map((function(e){return parseInt(Object(O.b)(e))})),n.dataSVManulife=e[0][4].Values.slice(0,s).map((function(e){return parseInt(Object(O.b)(e))})),n.dataDB.unshift(parseFloat(Object(O.b)(a))),t=0;t<n.dataDB.length+i-n.props.projectEnd+8;++t)n.dataAges.pop(),n.dataDB.pop(),n.dataPremiums.pop(),n.dataSVManulife.pop()}));case 15:case"end":return e.stop()}}),e)}))),n.selectMultiButton=function(e,t){void 0!==t&&(1===e?n.premiumDur=t:2===e?n.minMultiple=t:3===e?n.insMultiple=t:4===e&&(n.insuranceAmtInitial=t)),n.getMCCQuoteOutput();var a=!n.state.loadingMCC;n.setState({loadingMCC:a}),n.minPrem=1},n.solveForOptimumQuote=Object(b.a)(h.a.mark((function e(){var t,a,r,i,s,o,l,u,p,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n.bestPremiumDur=100,i=n.getDataFutureINA(),n.bestFitEquiBuild=!1,e.next=31;break;case 7:if(!(r<=40)){e.next=27;break}a=5;case 9:if(!(a<n.lifeExp+1)){e.next=23;break}return n.premiumDur=a,n.Prem=(1+r/20)*n.minPrem,o=n.getDataFVofPrems(n.props.INAOption=i),e.next=15,n.getMCCQuoteOutput4();case 15:for(l=0,u=void 0,u=0;u<n.lifeExp;++u)p=i[u],l+=Math.pow(o[u]-p,2);l=Math.round(l/(1e6*n.lifeExp)),0===t?t=l:t>l?(t=l,n.bestPremiumDur=a,n.bestMinMultiple=5*r,s=!0):!0===s&&(a=n.lifeExp+1);case 20:a++,e.next=9;break;case 23:s=!1;case 24:r++,e.next=7;break;case 27:n.premiumDur=n.bestPremiumDur,n.minMultiple=n.bestMinMultiple,e.next=34;break;case 31:return n.Prem=(1+n.bestMinMultiple)*n.minPrem,e.next=34,n.getMCCQuoteOutput();case 34:return c=!n.state.loadingMCC,e.next=37,n.setState({loadingMCC:c});case 37:case"end":return e.stop()}}),e)}))),n.solveForOptimumEquiBuild=function(){var e=Object(b.a)(h.a.mark((function e(t){var a,r,i,s,o,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==t){e.next=12;break}return n.bestPremiumDur=100,a=n.getDataFutureINA(),n.bestFitEquiBuild=!0,e.next=6,n.getMCCQuoteOutput4();case 6:for(r=n.getDataFVofPrems(a),i=0,s=0;s<n.lifeExp;++s)o=a[s],i+=Math.pow(r[s]-o,2);i=Math.round(i/(1e6*n.lifeExp)),e.next=19;break;case 12:if(2!==t){e.next=19;break}return n.bestPremiumDur=100,l=n.getDataFutureINA(),n.bestFitEquiBuild=!0,e.next=18,n.getMCCQuoteOutputManu();case 18:n.getDataFVofPrems(l);case 19:return u=!n.state.loadingMCC,e.next=22,n.setState({loadingMCC:u});case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.selectMultiButtonINAorTax=function(e){1===e?n.INAEstateOption=1:2===e&&(n.INAEstateOption=2),n.insuranceAmtInitial=1===n.props.INAOption?n.props.insuranceNeed:n.props.dataEstateLiability[0],n.getMCCQuoteOutput();var t=!n.state.loadingMCC;n.setState({loadingMCC:t}),n.minPrem=1},n.getEstateLiabPieCharts=Object(b.a)(h.a.mark((function e(){var t,a,r,i,s,o,l,u,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(O.u)(n.props.input.dataInput,n.props.projectEnd,n.props.language),a=N(n.props.input,0),(r=[]).push(t[0]),e.next=6,Object(O.w)(n.props.input.dataInput,f.r.REGISTERED.Key,a,0);case 6:return i=e.sent,n.setState({taxL:i}),r.push(i),e.next=11,Object(O.w)(n.props.input.dataInput,f.r.CAPITAL_GAINS_ANNUAL.Key,a,0);case 11:return s=e.sent,e.next=14,Object(O.w)(n.props.input.dataInput,f.r.CAPITAL_GAINS_DEFERRED.Key,a,0);case 14:return o=e.sent,r.push(s+o),e.t0=r,e.next=19,Object(O.w)(n.props.input.dataInput,f.r.FULLY_TAXABLE.Key,a,0);case 19:return e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.t2=r,e.next=24,Object(O.w)(n.props.input.dataInput,f.r.DIVIDEND.Key,a,0);case 24:return e.t3=e.sent,e.t2.push.call(e.t2,e.t3),n.setState({estateLiab:r}),(l=[]).push(t[n.lifeExp]),e.t4=l,e.next=32,Object(O.w)(n.props.input.dataInput,f.r.REGISTERED.Key,a,n.lifeExp);case 32:return e.t5=e.sent,e.t4.push.call(e.t4,e.t5),e.next=36,Object(O.w)(n.props.input.dataInput,f.r.CAPITAL_GAINS_ANNUAL.Key,a,n.lifeExp);case 36:return u=e.sent,e.next=39,Object(O.w)(n.props.input.dataInput,f.r.CAPITAL_GAINS_DEFERRED.Key,a,n.lifeExp);case 39:return p=e.sent,l.push(u+p),e.t6=l,e.next=44,Object(O.w)(n.props.input.dataInput,f.r.FULLY_TAXABLE.Key,a,n.lifeExp);case 44:return e.t7=e.sent,e.t6.push.call(e.t6,e.t7),e.t8=l,e.next=49,Object(O.w)(n.props.input.dataInput,f.r.DIVIDEND.Key,a,n.lifeExp);case 49:e.t9=e.sent,e.t8.push.call(e.t8,e.t9),n.setState({estateLiabLE:l});case 52:case"end":return e.stop()}}),e)}))),n.getDataFutureINA=function(){var e,t,a,r=[];a=Object(O.u)(n.props.input.dataInput,n.props.projectEnd,n.props.language);var i=parseFloat(Object(O.b)(n.props.insuranceNeed)),s=parseFloat(n.props.input.dataInput.Presentations[0].invRate/100);parseFloat(n.props.input.dataInput.Presentations[0].inflation/100);for(r.push(i),e=1;e<n.props.projectEnd;++e)t=(r[e-1]-n.props.dataShortfall[e-1])*(1+s),r.push(Math.round(Math.max(0,t)));for(e=1;e<n.props.projectEnd;++e)r[e]+=a[e];return r},n.handleFocus=function(e){e.target.select()},n.getDataFVofPrems=function(e){var t,a=[],r=0;for(t=0;t<n.dataPremiums.length;++t){var i=e[t]-n.dataDB[t];r=1.0375*(r+n.dataPremiums[t]),a.push(r+i)}for(t=n.dataPremiums.length;t<n.props.projectEnd;++t){var s=e[t]-n.dataDB[t];r*=1.0375,a.push(r+s)}return a},n.state={loadingMCC:!0,estateLiab:[],estateLiabLE:[],taxL:0},n.dataAges=[],n.dataPremiums=[],n.dataDB=[],n.dataSVEquiBuild=[],n.dataSVManulife=[],n.Prem=0,n.bestPremiumDur=100,n.bestMinMultiple=0,n.premiumDur=10,n.lifeExp=0,n.minMultiple=0,n.insMultiple=0,n.bestFitEquiBuild=!1,n.INAEstateOption=1,n.insuranceAmtInitial=1===n.props.INAOption?n.props.insuranceNeed:n.props.dataEstateLiability[0],n.chartRef=r.a.createRef(),n.taxLiabChartRef=r.a.createRef(),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getEstateLiabPieCharts()}},{key:"shouldComponentUpdate",value:function(e,t,a){return this.props.projectEnd!==e.projectEnd||this.state.loadingMCC!==a.loadingMCC||this.props.INAOption!==e.INAOption}},{key:"render",value:function(){var e,t=[],a=this.props.lifeExp,n=this.props.input.dataInput.Clients[1].Age;for(1===this.INAEstateOption?(a=this.props.lifeExpClient,n=this.props.input.dataInput.Clients[0].Age):2===this.INAEstateOption&&(a=this.props.lifeExpJLTD,n>this.props.input.dataInput.Clients[1].Age&&(n=this.props.input.dataInput.Clients[1].Age)),e=0;e<a+3;++e)t.push(n+e);var i=this.getDataFutureINA(),s={labels:t,datasets:[{label:"en"===this.props.language?"Future insurance needs":"Future insurance needs ^F",data:i,fill:!0,borderColor:"darkred",backgroundColor:"rgba(244, 144, 128, 0.8)"}]},o=[],l=[];for(e=0;e<a+3;++e)o.push(0),l.push(this.props.dataEstateLiability[e]);o[a]=l[a],l[a]=0;var u={labels:t,datasets:[{label:"en"===this.props.language?"Future insurance Needs":"Future insurance Needs ^F",data:l,fill:!0,borderColor:"darkGrey",backgroundColor:"#607d8b"},{label:"en"===this.props.language?"Life Expectancy ":"Life Expectancy ^F",data:o,fill:!0,borderColor:"#6AAd8b",backgroundColor:"rgb(106,173,139,.5)"}]},p={labels:["Cash/TFSA/Insurance","RRSP/RRIF","Public/Private shares","Real Estate","Other"],datasets:[{data:[Object(O.h)(this.props.input.dataInput,f.c.CASH.Key)+Object(O.h)(this.props.input.dataInput,f.c.LIFE_INSURANCE.Key)+Object(O.h)(this.props.input.dataInput,f.c.CHARITABLE_GIFTS_TAX_CREDIT.Key),Object(O.h)(this.props.input.dataInput,f.c.RRSP_RRIF.Key),Object(O.h)(this.props.input.dataInput,f.c.SMALL_BUSINESS_SHARES.Key)+Object(O.h)(this.props.input.dataInput,f.c.STOCKS_BONDS.Key),Object(O.h)(this.props.input.dataInput,f.c.REAL_ESTATE.Key)+Object(O.h)(this.props.input.dataInput,f.c.PERSONAL_RESIDENCE.Key),Object(O.h)(this.props.input.dataInput,f.c.OTHER_ASSETS.Key)],backgroundColor:["#F7464A","#46BFBD","#FDB45C","#949FB1","#4D5360"]}]},c={labels:["Non-Taxable","RRSP/RRIF","Capital Gains","Taxed As Income","Dividend"],datasets:[{data:[Object(O.i)(this.props.input.dataInput,f.r.NON_TAXABLE.Key),Object(O.i)(this.props.input.dataInput,f.r.REGISTERED.Key),Object(O.i)(this.props.input.dataInput,f.r.CAPITAL_GAINS_ANNUAL.Key)+Object(O.i)(this.props.input.dataInput,f.r.CAPITAL_GAINS_DEFERRED.Key),Object(O.i)(this.props.input.dataInput,f.r.FULLY_TAXABLE.Key),Object(O.i)(this.props.input.dataInput,f.r.DIVIDEND.Key)],backgroundColor:["#F7464A","#46BFBD","#FDB45C","#949FB1","#4D5360"]}]},d={labels:["Loans","Taxes","Emergency Fund","Other"],datasets:[{data:[Object(O.o)(this.props.input.dataInput,f.fb.OUTSTANDING_LOANS.Key)+Object(O.o)(this.props.input.dataInput,f.fb.MORTGAGE_REDEMPTION.Key)+Object(O.o)(this.props.input.dataInput,f.fb.CREDIT_CARDS.Key)+Object(O.o)(this.props.input.dataInput,f.fb.CLIENT_TAX_LIABILITY.Key),Object(O.o)(this.props.input.dataInput,f.fb.INCOME_TAXES.Key),Object(O.o)(this.props.input.dataInput,f.fb.EMERGENCY_FUND.Key),Object(O.o)(this.props.input.dataInput,f.fb.OTHER.Key)+Object(O.o)(this.props.input.dataInput,f.fb.CHILD_HOME_CARE.Key)],backgroundColor:["#F7464A","#46BFBD","#FDB45C","#949FB1"]}]},g={labels:["Last Expenses","Legal\xa0and\xa0Executor\xa0Fees","Future Commitments"],datasets:[{data:[Object(O.o)(this.props.input.dataInput,f.fb.LAST_EXPENSES.Key),Object(O.o)(this.props.input.dataInput,f.fb.LEGAL_AND_EXECUTOR_FEES.Key),Object(O.o)(this.props.input.dataInput,f.fb.LEGACY_FOR_CHILDREN.Key)+Object(O.o)(this.props.input.dataInput,f.fb.CHARITABLE_GIFTS.Key)],backgroundColor:["#F7464A","#46BFBD","#FDB45C"]}]},h={responsive:!0,title:{display:!0,position:"top",text:"Assets Breakdown Today",fontSize:14,fontColor:"#111"},legend:{display:!0,position:"right",labels:{fontColor:"#333",fontSize:12}}},b=JSON.parse(JSON.stringify(h));b.title.text="Tax Treatment of Assets";var m=JSON.parse(JSON.stringify(h));m.title.text="Liabilities At Death";var y=JSON.parse(JSON.stringify(h));y.title.text="Liabilities Breakdown";var E={labels:["Liabilities","Taxes: RRSP/RRIF","Taxes: Capital Gains","Taxes: As Income","Taxes: Dividend"],datasets:[{data:this.state.estateLiab,backgroundColor:["#F7464A","#46BFBD","#FDB45C","#949FB1","#4D5360"]}]},T={labels:["Liabilities","Taxes: RRSP/RRIF","Taxes: Capital Gains","Taxes: As Income","Taxes: Dividend"],datasets:[{data:this.state.estateLiabLE,backgroundColor:["#F7464A","#46BFBD","#FDB45C","#949FB1","#4D5360"]}]},A=JSON.parse(JSON.stringify(h));A.title.text="Estate Liability Today";var I=JSON.parse(JSON.stringify(h));I.title.text="Estate Liability at Life Expectancy +3";var C,S=this.getDataFVofPrems(i),N={labels:t,datasets:[{label:"en"===this.props.language?"Future Value of premiums paid      vs ":"EquiBuild quote ^F",data:S,fill:!0,borderColor:"darkgreen",backgroundColor:"rgba(144, 244, 88, .2)"},{label:"en"===this.props.language?"Raise cash to pay for shortfall ":"Future insurance needs ^F",data:1===this.props.INAOption?i:this.props.dataEstateLiability,fill:!0,borderColor:1===this.props.INAOption?"darkred":"darkGrey",backgroundColor:1===this.props.INAOption?"rgba(244, 144, 128, 0.9)":"#607D8B"}]},R=0;for(C=0;C<this.lifeExp;++C){var x=i[C];R+=Math.pow(S[C]-x,2)}R=Object(O.z)(Math.round(R/(1e6*this.lifeExp)),!1,5,",");var j={labels:t,datasets:[{label:"en"===this.props.language?"EquiBuild quote":"EquiBuild quote ^F",data:this.dataDB,fill:!0,borderColor:"darkblue",backgroundColor:"rgba(144, 144, 188, .3)"},{label:"en"===this.props.language?"Future insurance needs":"Future insurance needs ^F",data:1===this.props.INAOption?i:this.props.dataEstateLiability,fill:!0,borderColor:1===this.props.INAOption?"darkred":"darkGrey",backgroundColor:1===this.props.INAOption?"rgba(244, 144, 128, 0.9)":"#607D8B"}]},w={responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{stacked:!0,ticks:{beginAtZero:!0}}],yAxes:[{stacked:!1,ticks:{beginAtZero:!0,steps:10,stepValue:5}}]}},D=[];D.push(this.dataAges),D.push(1===this.props.INAOption?i:this.props.dataEstateLiability),D.push(this.dataPremiums),D.push(this.dataDB),D.push(S);var P=[];P.push(this.dataAges),P.push(this.dataSVEquiBuild),P.push(this.dataSVManulife);var L="Insurance Needs Projections from today to life expectancy plus 3 years ("+a+" + 3)",F="Insurance Needs to life expectancy ("+a+" years) plus 3 years^F",K="en"===this.props.language?L:F;return r.a.createElement("div",{style:{color:"darkBlue",marginTop:"15px"}},1!==this.props.INAOption&&r.a.createElement(Xe.a,{noButtons:2,buttonCaption:["Estate of Client","Estate of Couple"],selectMultiButton:this.selectMultiButtonINAorTax}),r.a.createElement("div",{style:{width:"90%"}},r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("h3",{className:"ppi1"},1===this.props.INAOption?"Your current financial situation is summerized below:":r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),"Estate Liability breakdown Today and at Life Expectancy plus 3 years: ",r.a.createElement("br",null))),r.a.createElement("div",{style:{width:"100%"}},1===this.props.INAOption?r.a.createElement("div",null,r.a.createElement("article",{className:"canvas-container",style:{height:"450px"}},r.a.createElement("div",{style:{overflow:"hidden",float:"left",width:"50%",height:"400px"}},r.a.createElement(U.Pie,{data:p,options:h})),r.a.createElement("div",{style:{float:"left",width:"50%",height:"400px"}},r.a.createElement(U.Pie,{data:c,options:b}))),r.a.createElement("article",{className:"canvas-container",style:{height:"450px"}},r.a.createElement("div",{style:{overflow:"hidden",float:"left",width:"50%",height:"400px"}},r.a.createElement(U.Pie,{data:d,options:y})),r.a.createElement("div",{style:{float:"left",width:"50%",height:"400px"}},r.a.createElement(U.Pie,{data:g,options:m})))):r.a.createElement("article",{className:"canvas-container",style:{height:"450px"}},r.a.createElement("div",{style:{overflow:"hidden",float:"left",width:"50%",height:"400px"}},r.a.createElement(U.Pie,{data:E,options:A})),r.a.createElement("div",{style:{float:"left",width:"50%",height:"400px"}},r.a.createElement(U.Pie,{data:T,options:I})))),r.a.createElement("br",null),r.a.createElement("h3",{className:"ppi1"},1===this.props.INAOption?r.a.createElement("div",null,'"Net Worth Today:"',r.a.createElement("br",null),' "Assets:"',r.a.createElement("br",null),' "Liabilities:"'):r.a.createElement("br",null)),r.a.createElement("h3",{className:"ppi1"},K," ",(this.props.INAOption,"")),1===this.props.INAOption?r.a.createElement("article",{className:"canvas-container",style:{height:"200px"}},r.a.createElement(U.Line,{data:s,options:w})):r.a.createElement("article",{className:"canvas-container",style:{height:"200px"}},r.a.createElement(U.Bar,{data:u,options:w})),r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("h2",null,"Insurance Quote:"),r.a.createElement("div",{style:{width:"100%",float:"left",clear:"left"}},r.a.createElement(Xe.a,{noButtons:1,buttonCaption:["Optimize"],selectMultiButton:this.solveForOptimumQuote})),r.a.createElement("div",{style:{width:"100%",float:"left",clear:"left"}},r.a.createElement(Xe.a,{noButtons:2,buttonCaption:["Best EquiBuild fit","Manulife UL fit"],selectMultiButton:this.solveForOptimumEquiBuild})),r.a.createElement(v.a,{inputName:"Insurance Amtount",id:4,format:2,Count:1,language:this.props.language,inputValue:1===this.props.INAOption?this.props.insuranceNeed:this.props.dataEstateLiability[0],maxValue:1e3,handleUpdateInput:this.selectMultiButton}),r.a.createElement(v.a,{inputName:"No. of deposits",id:1,format:1,Count:1,language:this.props.language,inputValue:this.premiumDur,handleUpdateInput:this.selectMultiButton}),r.a.createElement(v.a,{inputName:"Over min. deposit",id:2,format:3,Count:1,maxValue:300,language:this.props.language,inputValue:this.minMultiple,handleUpdateInput:this.selectMultiButton}),r.a.createElement("h3",{style:{marginTop:"20px",marginLeft:"20px"}},"Minimize this measure of goodness of fit: ",R," ",r.a.createElement("span",{style:{leftPadding:"20px"}}," ","Premium duration: ",this.bestPremiumDur)," "),r.a.createElement("article",{className:"canvas-container",style:{height:"200px"}},r.a.createElement(U.Line,{data:j,options:w})),r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("h2",null,"Compare Options"),r.a.createElement("article",{className:"canvas-container",style:{height:"200px"}},r.a.createElement(U.Line,{data:N,options:w})),r.a.createElement("p",null),r.a.createElement("br",null),r.a.createElement("p",null),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("div",{style:{width:"60%"}},r.a.createElement(ie,{dataColTitles:["Survivor's Age","Insurance Need","Premiums","Propsed Plan Death Benefit","Future Value of Premiums"],dataProjection:D,gridTitle:"Compare Options",language:this.props.language})),r.a.createElement("br",null),this.dataSVManulife.length>0&&this.dataSVEquiBuild.length>0&&r.a.createElement("div",{style:{width:"60%"}},r.a.createElement(ie,{dataColTitles:["Age","EquiBuild Surrnder Value","ManuLife UL Surrnder Value"],dataProjection:P,gridTitle:"Compare Surrender Values: EquiBuild vs Manulife UL",language:this.props.language})))))}}]),a}(r.a.Component),vt=(a(807),a(267)),Tt=a.n(vt),At=0===C.buildMode?"http://localhost:8083":1===C.buildMode?"https://test-tkdirect.ppi.ca/":"https://toolkitdirect.ppi.ca/";U.defaults.global.maintainAspectRatio=!1;var Ot=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).displayName=f.Q,n.afterTwoSeconds=function(e){return new Promise((function(t){setTimeout((function(){t(e)}),2e3)}))},n.govBenefitsSync=function(){var e=Object(b.a)(h.a.mark((function e(t,a){var r,i,s,o,l,u,p,c,d,g;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.b){e.next=14;break}return r=f.eb.GOV_SURVIVORS_PENSION.Key,i=t.Sources.find((function(e){return e.sourceTypeKey===r})),s=f.eb.GOV_DEATH_BENEFIT.Key,o=t.Sources.find((function(e){return e.sourceTypeKey===s})),l=t.Clients.find((function(e){return e.memberKey===f.ib.SPOUSE.Key})),u=void 0!==l&&0!==l.length,p=t.Clients.length>1?2:1,void 0===i||void 0===o?(c={id:t.Sources.length+1,sourceTypeKey:f.eb.GOV_SURVIVORS_PENSION.Key,amount:u?parseInt(a.govBenefits.cppSurvivor):0,startYear:0,duration:100,ownerID:p},d={id:t.Sources.length+2,sourceTypeKey:f.eb.GOV_DEATH_BENEFIT.Key,amount:parseInt(a.govBenefits.cppDB),startYear:0,duration:100,ownerID:p},u&&t.Sources.push(c),t.Sources.push(d)):(i.amount=u?parseInt(a.govBenefits.cppSurvivor):0,o.amount=parseInt(a.govBenefits.cppDB)),g=f.eb.GOV_ORPHANS_BENEFIT.Key,t.Sources.filter((function(e){return e.sourceTypeKey===g})),e.next=13,n.manageOrphanSync(t,a);case 13:t=e.sent;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.componentDidMount=Object(b.a)(h.a.mark((function e(){var t,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.title=f.b?"INA":"EP",n.intervalID=setInterval(n.loadData,1e5),localStorage.setItem("INAAPIFails",parseInt(0)),n.OKToRemove=!0,void 0===(t=Je.a.parse(window.location.search)).QS){e.next=10;break}return e.next=8,n.handleInitilizeQuoteFromQueryString(t.QS);case 8:e.next=12;break;case 10:return e.next=12,n.handleIntitalFetch("fr"===t.lang?"fr":"en");case 12:if(void 0===t.recover){e.next=23;break}if("true"!==t.recover){e.next=23;break}if(a=(a=new Date).setHours(a.getHours(),a.getMinutes()-5,0,0),r=JSON.parse(localStorage.getItem(f.b?"INAData":"EP")),new Date(r.dataPresentations.Presentations[0].valuationDate),!(new Date(r.dataPresentations.Presentations[0].presentationDate)>a)){e.next=23;break}return e.next=22,n.loadStorage();case 22:Ae();case 23:case"end":return e.stop()}}),e)}))),n.handleIntitalFetch=function(){var e=Object(b.a)(h.a.mark((function e(t){var a,r,i,s,o,l,u,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),a=n.state,r=a.dataInput,i=a.dataOutput,s=ue.a.cloneDeep(r),o=ue.a.cloneDeep(i),l=s.Presentations[0],e.next=7,Object(de.f)("PERSONAL_INCOME",l.provinceKey);case 7:return u=e.sent,l.taxRate=(Math.round(1e4*u)/100).toFixed(4),l.language=t,s.Presentations[0]=l,e.next=13,n.reSync_reCalculate_reRender(s,o,6,1,0,!1);case 13:p=e.sent,n.setState(Object(d.a)(Object(d.a)({},p),{},{loading:!1,initialLoading:!1}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleUpdateOutput=function(){var e=Object(b.a)(h.a.mark((function e(t,a,r,i){var s,o,l,u,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t);case 2:return s=e.sent,e.next=5,Object(de.h)(s,t);case 5:if(o=e.sent,null===(l=n.populateOutput2(o,a)).assetProjections||!(1===r||6===r||l.assetProjections.length<t.Assets.length)){e.next=11;break}return e.next=10,n.updateAssetProjectionOutput(s,t,l,r,i);case 10:l.assetProjections=e.sent;case 11:return(u=ue.a.cloneDeep(t)).Clients=u.Clients.filter((function(e){return e.memberKey===f.ib.CLIENT.Key||e.memberKey===f.ib.SPOUSE.Key})),e.next=15,n.handleQueryString(2,u,l);case 15:return l.encryptedInputLife1AndSpouse=e.sent,(p=ue.a.cloneDeep(t)).Clients=p.Clients.filter((function(e){return e.memberKey===f.ib.CLIENT.Key})),e.next=20,n.handleQueryString(2,p,l);case 20:return l.encryptedInputLife1=e.sent,e.next=23,n.updateOutputData(t,l);case 23:return l.aggregateGrid=e.sent,e.abrupt("return",l);case 25:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),n.updateAssetProjectionOutput=function(){var e=Object(b.a)(h.a.mark((function e(t,a,n,r,i){var s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=h.a.mark((function e(s){var o,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=a.Assets[s]).id!==i&&6!==r){e.next=7;break}return e.next=4,he(t,o,a.Presentations[0].language,!1);case 4:l=e.sent,void 0!==(u=n.assetProjections.find((function(e){return e.id===o.id})))?u.grid=l:n.assetProjections.push({id:o.id,grid:l});case 7:case"end":return e.stop()}}),e)})),o=0;case 2:if(!(o<a.Assets.length)){e.next=7;break}return e.delegateYield(s(o),"t0",4);case 4:o++,e.next=2;break;case 7:return e.abrupt("return",n.assetProjections);case 8:case"end":return e.stop()}}),e)})));return function(t,a,n,r,i){return e.apply(this,arguments)}}(),n.populateOutput2=function(e,t){try{return t.dataInsuranceNeeds=e.dataInsuranceNeeds,t.dataCashFlowPersonal=e.dataCashFlowPersonal.numericValues,t.dataTaxLiability=e.dataTaxLiability.numericValues,t.dataCashFlowGov=e.dataCashFlowGov.numericValues,t.dataCashFlowNeeds=e.dataCashFlowNeeds.numericValues,t.dataNAAges=e.dataNAAges.numericValues,t.dataShortfall=e.dataShortfall.numericValues,t.govBenefits.cppSurvivor=e.cpp,t.govBenefits.cppDB=e.cppDB,t.govBenefits.cppOrphan=e.orphan,t.lifeExpectancy.client=e.lifeExpClient,t.lifeExpectancy.spouse=e.lifeExp,t.lifeExpectancy.joint=e.lifeExpJLTD,t.encryptedInputLife1AndSpouse=e.encryptedInputLife1AndSpouse,t.encryptedInputLife1=e.encryptedInputLife1,t}catch(a){return alert("Could not connect to the calculation engine API"),t}},n.populateOutput=function(){var e=Object(b.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=n.state.dataOutput).dataInsuranceNeeds=t.dataInsuranceNeeds,a.dataCashFlowPersonal=t.dataCashFlowPersonal.numericValues,a.dataTaxLiability=t.dataTaxLiability.numericValues,a.dataCashFlowGov=t.dataCashFlowGov.numericValues,a.dataCashFlowNeeds=t.dataCashFlowNeeds.numericValues,a.dataNAAges=t.dataNAAges.numericValues,a.dataShortfall=t.dataShortfall.numericValues,a.govBenefits.cppSurvivor=t.cpp,a.govBenefits.cppDB=t.cppDB,a.govBenefits.cppOrphan=t.orphan,a.lifeExpectancy.client=t.lifeExpClient,a.lifeExpectancy.spouse=t.lifeExp,a.lifeExpectancy.joint=t.lifeExpJLTD,n.setState({dataOutput:a});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleQueryString=function(){var e=Object(b.a)(h.a.mark((function e(t,a,r){var i,s,o,l,u,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.Presentations[0].language,s=r.dataInsuranceNeeds[n.state.dataInput.Presentations[0].periodOption].Value,e.next=4,N(a,s);case 4:return o=e.sent,e.next=7,Object(de.i)(o);case 7:if(void 0===(l=e.sent)){e.next=15;break}if(n.dataQS=l,2!==t){e.next=14;break}return e.abrupt("return",l);case 14:0===t?n.setState({showMsg:!0}):1===t&&("mailto: ?subject= "+(f.b?f.wb[i].appletINA:f.wb[i].appletEP)+" &body= "+f.V[i].body+".%0D%0A"+At+"?applet=EP&QS="+n.dataQS,p=At+"/?"+["applet="+f.Q,"QS="+n.dataQS].join("&"),u="mailto: ?subject= "+(f.b?f.wb[i].appletINA:f.wb[i].appletEP)+" &body= "+f.V[i].body+".%0D%0A"+encodeURIComponent(p),window.location.href=u);case 15:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),n.handleInitilizeQuoteFromQueryString=function(){var e=Object(b.a)(h.a.mark((function e(t){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(de.g)(t);case 2:return a=e.sent,e.next=5,R(a,n.state.dataInput);case 5:r=e.sent,n.updateStateFromJSon(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleUpdateClient=function(){var e=Object(b.a)(h.a.mark((function e(t){var a,r,i,s,o,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),a=n.state,r=a.dataOutput,i=a.dataInput,s=ue.a.cloneDeep(i),o=ue.a.cloneDeep(r),t.Age>t.retirementAge&&(t.retirementAge=t.Age+1),l=t.memberKey!==s.Clients[f.rb].memberKey||t.Age!==s.Clients[f.rb].Age||t.avgTaxRate!==s.Clients[f.rb].avgTaxRate||s.Clients.count>1&&(t.Age!==s.Clients[f.tb].Age||t.avgTaxRate!==s.Clients[f.tb].avgTaxRate),s.Clients[t.id-1]=t,e.next=9,n.reSync_reCalculate_reRender(s,o,l?6:0,t.id);case 9:u=e.sent,n.setState(Object(d.a)(Object(d.a)({},u),{},{loading:!1}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.reSync_reCalculate_reRender=function(){var e=Object(b.a)(h.a.mark((function e(t,a,r,i,s,o){var l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.syncPanelsValues2(t,r);case 2:if(t=e.sent,!s){e.next=9;break}return e.next=6,n.debounceHandleUpdateOutput(t,a,r,i);case 6:l=e.sent,e.next=12;break;case 9:return e.next=11,n.handleUpdateOutput(t,a,r,i);case 11:l=e.sent;case 12:return e.next=14,n.govBenefitsSync(t,l);case 14:return t=e.sent,l.assetProjections[0],!1!==o&&n.debounceSaveToStorage(),e.abrupt("return",{dataInput:t,dataOutput:l});case 18:case"end":return e.stop()}}),e)})));return function(t,a,n,r,i,s){return e.apply(this,arguments)}}(),n.updateOutputData=function(){var e=Object(b.a)(h.a.mark((function e(t,a){var r,i,s,o,l,u,p,c,d,g,b,m,y,E,v,T;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=t.Clients[n.survIdx],p=t.Clients.filter((function(e){return e.id>1})),c=a.dataInsuranceNeeds,d=t.Presentations[0].periodOption,!(c.length>0&&void 0!==a.dataNAAges&&void 0!==u)){e.next=33;break}if(g=Object(O.c)(t.Clients,d,a.lifeExpectancy,c,a.dataShortfall,t.Presentations[0]),b=g.insuranceNeed,m=g.insuranceNeedToRet,y=g.insuranceNeedToLE,g.insuranceNeedToLE3,g.insuranceNeedToEnd,E=Object(O.y)(t.Clients),g.projectionEnd,v=g.noProjectionYrs,g.survivorAge,E)for(a.dataNAAges=[],T=0;T<v;T++)a.dataNAAges.push(T+1);if(a.dataNAAges.slice(0,v),r=a.dataCashFlowGov.slice(0,v),i=a.dataCashFlowPersonal.slice(0,v),s=a.dataCashFlowNeeds.slice(0,v),o=a.dataShortfall.slice(0,v),!f.b){e.next=29;break}return e.next=26,_e(b,m,y,i,p,s,r,o,t.Presentations[0].inflation,t.Presentations[0].language,t.Presentations[0].invRate,t.Sources,a.govBenefits.cppDB*(1-t.Clients[f.rb].avgTaxRate/100));case 26:l=e.sent,e.next=33;break;case 29:if(!f.a){e.next=33;break}return e.next=32,Ue(v,t);case 32:l=e.sent;case 33:return e.abrupt("return",l);case 34:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.switchClients=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n.state.dataInput.Clients.find((function(e){return e.memberKey===f.ib.SPOUSE.Key}))){e.next=6;break}return n.setState({loading:!0}),e.next=4,n.getSwitchClientsState();case 4:t=e.sent,n.setState(Object(d.a)(Object(d.a)({},t),{},{loading:!1}));case 6:case"end":return e.stop()}}),e)}))),n.getSwitchClientsState=Object(b.a)(h.a.mark((function e(){var t,a,r,i,s,o,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.dataOutput,r=t.dataInput,i=ue.a.cloneDeep(r),s=ue.a.cloneDeep(a),o=i.Clients[f.rb],i.Clients[f.rb]=i.Clients[f.tb],i.Clients[f.tb]=o,i.Assets.forEach((function(e){e.ownerKey===f.q.CLIENT_LIQUIDATE.Key||e.ownerKey===f.q.CLIENT_ROLLOVER.Key?e.ownerKey=f.q.SPOUSE.Key:e.ownerKey===f.q.SPOUSE.Key&&(e.ownerKey=e.assetTypeKey===f.c.LIFE_INSURANCE.Key?f.q.CLIENT_LIQUIDATE.Key:f.q.CLIENT_ROLLOVER.Key)})),i.Liabilitys.forEach((function(e){0===e.ownerID&&(e.ownerID=f.tb+1)})),i.Liabilitys.forEach((function(e){e.ownerID===f.rb+1&&(e.ownerID=0),e.ownerID===f.tb+1&&(e.ownerID=f.rb+1)})),i.Liabilitys.forEach((function(e){0===e.ownerID&&(e.ownerID=f.tb+1)})),i.Clients[f.rb].memberKey=f.ib.CLIENT.Key,i.Clients[f.tb].memberKey=f.ib.SPOUSE.Key,i.Clients[f.rb].id=f.rb+1,i.Clients[f.tb].id=f.tb+1,e.next=16,n.reSync_reCalculate_reRender(i,s,6,0);case 16:return l=e.sent,e.abrupt("return",l);case 18:case"end":return e.stop()}}),e)}))),n.handleUpdateAsset=function(){var e=Object(b.a)(h.a.mark((function e(t){var a,r,i,s,o,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n.setState({loading:!0}),a=n.state,r=a.dataInput,i=a.dataOutput,s=ue.a.cloneDeep(r),o=ue.a.cloneDeep(i),t.assetTypeKey===f.c.RRSP_RRIF.Key&&(f.a&&(t.ownerKey===f.q.SPOUSE.Key&&1===s.Clients.length&&(t.ownerKey=f.q.CLIENT.Key),t.assetTypeKey===f.c.RRSP_RRIF.Key&&t.ownerKey!==f.q.SPOUSE.Key&&(t.ownerKey=f.q.CLIENT.Key)),t=n.manageRRIFBounds(t,s.Clients),s=n.addRRIFSource2(s,t)),s.Assets[t.id-1]=t,e.next=9,n.reSync_reCalculate_reRender(s,o,1,t.id);case 9:l=e.sent,n.setState(Object(d.a)(Object(d.a)({},l),{},{loading:!1}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.manageRRIFBounds=function(e,t){var a=e.ownerKey===f.q.SPOUSE.Key?t[f.tb].Age:t[f.rb].Age;return e.RRIFStartAge<a?e.RRIFStartAge=a:e.RRIFStartAge>70&&(e.RRIFStartAge=70),e},n.handleUpdateLiability=function(){var e=Object(b.a)(h.a.mark((function e(t){var a,r,i,s,o,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),a=n.state,r=a.dataInput,i=a.dataOutput,s=ue.a.cloneDeep(r),o=ue.a.cloneDeep(i),s.Liabilitys[t.id-1]=t,l=t.liabTypeKey===f.fb.CHARITABLE_GIFTS.Key,e.next=8,n.reSync_reCalculate_reRender(s,o,l?6:2,t.id);case 8:u=e.sent,n.setState(Object(d.a)(Object(d.a)({},u),{},{loading:!1}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleUpdateSource=function(){var e=Object(b.a)(h.a.mark((function e(t){var a,r,i,s,o,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),a=n.state,r=a.dataInput,i=a.dataOutput,s=ue.a.cloneDeep(r),o=ue.a.cloneDeep(i),s.Sources[t.id-1]=t,e.next=7,n.reSync_reCalculate_reRender(s,o,3,t.id);case 7:l=e.sent,n.setState(Object(d.a)(Object(d.a)({},l),{},{loading:!1,failedRemove:!1}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleUpdateNeed=function(){var e=Object(b.a)(h.a.mark((function e(t){var a,r,i,s,o,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),a=n.state,r=a.dataInput,i=a.dataOutput,s=ue.a.cloneDeep(r),o=ue.a.cloneDeep(i),s.Needs[t.id-1]=t,e.next=7,n.reSync_reCalculate_reRender(s,o,4,t.id);case 7:l=e.sent,n.setState(Object(d.a)(Object(d.a)({},l),{},{loading:!1}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleUpdatePresentation=function(){var e=Object(b.a)(h.a.mark((function e(t){var a,r,i,s,o,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.setState({loading:!0}),a=n.state,r=a.dataInput,i=a.dataOutput,s=ue.a.cloneDeep(r),o=ue.a.cloneDeep(i),s.Presentations[0].provinceKey===t.provinceKey){e.next=9;break}return e.next=7,Object(de.f)("PERSONAL_INCOME",t.provinceKey);case 7:l=e.sent,t.taxRate=(Math.round(1e4*l)/100).toFixed(4);case 9:return!0,!1,s.Presentations[0].designedBy===t.designedBy&&s.Presentations[0].designedFor===t.designedFor&&s.Presentations[0].notes===t.notes||!0,s.Presentations[t.id-1]=t,e.next=15,n.reSync_reCalculate_reRender(s,o,6,t.id);case 15:u=e.sent,n.setState(Object(d.a)(Object(d.a)({},u),{},{loading:!1}));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveAsDefaultCase=function(e){var t=f.F;e?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(n.state.dataInput))},n.handleUpdatePresentationChange=function(){var e=Object(b.a)(h.a.mark((function e(t,a){var r,i,s,o,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=4;break}n.setState((function(e){return{dataInput:Object(d.a)(Object(d.a)({},e.dataInput),{},{Presentations:[Object(d.a)(Object(d.a)({},e.dataInput.Presentations[0]),{},{resultsOption:t.resultsOption,periodOption:t.periodOption})]})}})),e.next=13;break;case 4:return n.setState({loading:!0}),r=n.state,i=r.dataInput,s=r.dataOutput,o=ue.a.cloneDeep(i),l=ue.a.cloneDeep(s),o.Presentations[0]=t,e.next=11,n.reSync_reCalculate_reRender(o,l,6,0,!1,!1);case 11:u=e.sent,n.setState(Object(d.a)(Object(d.a)({},u),{},{loading:!1}));case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.handleAddClient=function(){var e=Object(b.a)(h.a.mark((function e(t){var a,r,i,s,o,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),a=n.state,r=a.dataInput,i=a.dataOutput,s=ue.a.cloneDeep(r),o=ue.a.cloneDeep(i),s.Clients.push(t),e.next=7,n.manageAddingClientWithIncome(s,t);case 7:return s=e.sent,e.next=10,n.reSync_reCalculate_reRender(s,o,f.a?6:0,f.a?0:t.id);case 10:l=e.sent,n.setState(Object(d.a)(Object(d.a)({},l),{},{loading:!1}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.manageAddingChild=function(e){return e=n.manageEducation2(e),e=n.manageOrphan2(e)},n.manageAddingClientWithIncome=function(){var e=Object(b.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=F(t.Sources.length+1)).amount=a.Income,n.duration=a.retirementAge-a.Age,n.ownerID=a.id,n.taxRate=a.avgTaxRate,t.Sources.push(n),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.manageRemovingClientWithIncome=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Sources=t.Sources.filter((function(e){return e.sourceTypeKey!==f.eb.SURVIVORS_INCOME.Key})),t.Clients.forEach(function(){var e=Object(b.a)(h.a.mark((function e(a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.memberKey!==f.ib.CLIENT.Key&&a.Income>0)){e.next=4;break}return e.next=3,n.manageAddingClientWithIncome(t,a);case 3:t=e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleAddAsset=function(){var e=Object(b.a)(h.a.mark((function e(t){var a,r,i,s,o,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),a=n.state,r=a.dataInput,i=a.dataOutput,s=ue.a.cloneDeep(r),o=ue.a.cloneDeep(i),void 0===t&&(t=D(1)),s.Assets.push(t),e.next=8,n.reSync_reCalculate_reRender(s,o,1,t.id);case 8:l=e.sent,n.setState(Object(d.a)(Object(d.a)({},l),{},{loading:!1}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.updateProjection=function(){var e=Object(b.a)(h.a.mark((function e(t){var a,r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state.dataInput,r=n.state.dataOutput.dataInsuranceNeeds[a.Presentations[0].periodOption].Value,e.next=4,N(n.state.dataInput,r);case 4:return i=e.sent,e.next=7,he(i,t,n.state.dataInput.Presentations[0].language,!1);case 7:a.Assets[t.id-1].projection=e.sent,n.setState({dataInput:a,loading:!1});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleAddAssetTaxLiability=function(e,t){var a=n.state.dataInput,r=ue.a.cloneDeep(a),i=!1;if(r.Liabilitys.forEach((function(a){a.assetTaxLiabID===t&&(0===e[0]?n.handleRemoveLiability(a.id):(a.currValue=e[0],a.assetTaxLiabProj=e,i=!0,n.handleUpdateLiability(a.id)))})),!1===i&&e[0]>0&&!1===i){var s={id:n.state.dataInput.Liabilitys.length+1,liabTypeKey:f.fb.CLIENT_TAX_LIABILITY.Key,ownerKey:f.pb.SPOUSE.Key,currValue:e[0],growthDirKey:f.Y.GROWS.Key,growth:0,repay:0,exposureDur:99,assetTaxLiabID:t,assetTaxLiabProj:e};n.handleAddLiability(s)}},n.handleAddLiability=function(){var e=Object(b.a)(h.a.mark((function e(t){var a,r,i,s,o,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),a=n.state,r=a.dataInput,i=a.dataOutput,s=ue.a.cloneDeep(r),o=ue.a.cloneDeep(i),void 0===t&&(t={id:1,liabTypeKey:f.fb.LAST_EXPENSES.Key,ownerKey:f.pb.CLIENT.Key,currValue:0,growthDirKey:f.Y.GROWS.Key,growth:0,repay:0,exposureDur:99,assetTaxLiabID:0,assetTaxLiabProj:[]}),s.Liabilitys.push(t),e.next=8,n.reSync_reCalculate_reRender(s,o,2,t.id);case 8:l=e.sent,n.setState(Object(d.a)(Object(d.a)({},l),{},{loading:!1}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleAddAssetTaxCredit=function(e){var t=n.state.dataInput,a=0;n.state.dataInput.Liabilitys.forEach((function(e){e.liabTypeKey===f.fb.CHARITABLE_GIFTS.Key&&(a+=e.currValue)})),a*=n.state.dataInput.Presentations[0].taxRate/100;var r=!1;if(t.Assets.forEach((function(t){t.assetTypeKey===e&&(r=!0,Math.abs(t.currValue-a)>1&&(t.currValue=a,n.handleUpdateAsset(t)))})),a>0&&!1===r){var i=D(n.state.dataInput.Assets.length+1);i.assetTypeKey=f.c.CHARITABLE_GIFTS_TAX_CREDIT.Key,i.ownerKey=f.q.CLIENT_LIQUIDATE.Key,i.assetTaxTypeKey=f.r.NON_TAXABLE.Key,i.currValue=a,i.DisposeYr=0,n.handleAddAsset(i),n.openCollapsible[1].open=!0}},n.handleAddAssetTaxCredit2=function(e){var t=0;e.Liabilitys.forEach((function(e){e.liabTypeKey===f.fb.CHARITABLE_GIFTS.Key&&(t+=e.currValue)})),t*=e.Presentations[0].taxRate/100;var a=!1;if(e.Assets.forEach((function(e){e.assetTypeKey===f.c.CHARITABLE_GIFTS_TAX_CREDIT.Key&&(a=!0,Math.abs(e.currValue-t)>1&&(e.currValue=t,n.handleUpdateAsset(e)))})),t>0&&!1===a){var r=D(e.Assets.length+1);r.assetTypeKey=f.c.CHARITABLE_GIFTS_TAX_CREDIT.Key,r.ownerKey=f.q.CLIENT_LIQUIDATE.Key,r.assetTaxTypeKey=f.r.NON_TAXABLE.Key,r.currValue=t,r.DisposeYr=0,e.Assets.push(r),n.openCollapsible[1].open=!0}return e},n.handleAddSource=function(){var e=Object(b.a)(h.a.mark((function e(t){var a,r,i,s,o,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),a=n.state,r=a.dataInput,i=a.dataOutput,s=ue.a.cloneDeep(r),o=ue.a.cloneDeep(i),void 0===t&&(t=F()),t.ownerID=2,t.duration=s.Sources[0].duration,t.growthRate=s.Presentations[0].inflation,t.taxRate=s.Clients.length>1?s.Clients[1].avgTaxRate:s.Clients[0].avgTaxRate,s.Sources.push(t),e.next=12,n.reSync_reCalculate_reRender(s,o,3,t.id);case 12:l=e.sent,n.setState(Object(d.a)(Object(d.a)({},l),{},{loading:!1,failedRemove:!1}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleAddNeed=function(){var e=Object(b.a)(h.a.mark((function e(t,a,r){var i,s,o,l,u,p,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),i=n.state,s=i.dataInput,o=i.dataOutput,l=ue.a.cloneDeep(s),u=ue.a.cloneDeep(o),p={id:l.Needs.length+1,needTypeKey:t,amount:0,Percent:0,startYear:a,duration:r},l.Needs.push(p),e.next=8,n.reSync_reCalculate_reRender(l,u,4,p.id);case 8:c=e.sent,n.setState(Object(d.a)(Object(d.a)({},c),{},{loading:!1}));case 10:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),n.handleRemoveClient=function(){var e=Object(b.a)(h.a.mark((function e(t){var a,r,i,s,o,l,u,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.OKToRemove){e.next=19;break}if(n.setState({loading:!0}),a=n.state,r=a.dataInput,i=a.dataOutput,s=ue.a.cloneDeep(r),o=ue.a.cloneDeep(i),void 0===(l=s.Clients.find((function(e){return e.id===t})))||l.memberKey!==f.ib.CHILD.Key){e.next=10;break}return e.next=9,n.manageRemoveOrphan(s,l.ownerID);case 9:s=e.sent;case 10:for(s.Clients.splice(t-1,1),u=1;u<=s.Clients.length;++u)s.Clients[u-1].id=u;return e.next=14,n.manageRemovingClientWithIncome(s);case 14:return s=e.sent,e.next=17,n.reSync_reCalculate_reRender(s,o,0,t);case 17:p=e.sent,n.setState(Object(d.a)(Object(d.a)({},p),{},{loading:!1}));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleRemoveAsset=function(){var e=Object(b.a)(h.a.mark((function e(t){var a,r,i,s,o,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.OKToRemove){e.next=13;break}for(n.setState({loading:!0}),a=n.state,r=a.dataInput,i=a.dataOutput,s=ue.a.cloneDeep(r),o=ue.a.cloneDeep(i),s.Assets[t-1].assetTypeKey===f.c.RRSP_RRIF.Key&&(s=n.removeRRIFSource(s)),s.Assets.splice(t-1,1),o.assetProjections.splice(t-1,1),l=1;l<=s.Assets.length;++l)s.Assets[l-1].id=l,o.assetProjections[l-1].id=l;return e.next=11,n.reSync_reCalculate_reRender(s,o,6,0);case 11:u=e.sent,n.setState(Object(d.a)(Object(d.a)({},u),{},{loading:!1}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleRemoveLiability=function(){var e=Object(b.a)(h.a.mark((function e(t){var a,r,i,s,o,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.OKToRemove){e.next=11;break}for(n.setState({loading:!0}),a=n.state,r=a.dataInput,i=a.dataOutput,s=ue.a.cloneDeep(r),o=ue.a.cloneDeep(i),s.Liabilitys.splice(t-1,1),l=1;l<=s.Liabilitys.length;++l)s.Liabilitys[l-1].id=l;return e.next=9,n.reSync_reCalculate_reRender(s,o,2,t);case 9:u=e.sent,n.setState(Object(d.a)(Object(d.a)({},u),{},{loading:!1}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleRemoveSource=function(){var e=Object(b.a)(h.a.mark((function e(t){var a,r,i,s,o,l,u,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.OKToRemove){e.next=15;break}for(a=!1,n.setState({loading:!0}),r=n.state,i=r.dataInput,s=r.dataOutput,o=ue.a.cloneDeep(i),l=ue.a.cloneDeep(s),u=0;u<o.Sources.length;++u)o.Sources[u].id!==t||o.Sources[u].sourceTypeKey!==f.eb.GOV_SURVIVORS_PENSION.Key&&o.Sources[u].sourceTypeKey!==f.eb.GOV_DEATH_BENEFIT.Key&&o.Sources[u].sourceTypeKey!==f.eb.GOV_ORPHANS_BENEFIT.Key||(a=!0);if(n.setState((function(e){return{failedRemove:!0!==e.failedRemove&&a}})),!1!==a){e.next=15;break}for(o.Sources.splice(t-1,1),u=1;u<=o.Sources.length;++u)o.Sources[u-1].id=u;return e.next=13,n.reSync_reCalculate_reRender(o,l,3,t);case 13:p=e.sent,n.setState(Object(d.a)(Object(d.a)({},p),{},{loading:!1}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleRemoveNeed=function(){var e=Object(b.a)(h.a.mark((function e(t){var a,r,i,s,o,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.OKToRemove){e.next=11;break}for(n.setState({loading:!0}),a=n.state,r=a.dataInput,i=a.dataOutput,s=ue.a.cloneDeep(r),o=ue.a.cloneDeep(i),s.Needs.splice(t-1,1),l=1;l<=s.Needs.length;++l)s.Needs[l-1].id=l;return e.next=9,n.reSync_reCalculate_reRender(s,o,4,t);case 9:u=e.sent,n.setState(Object(d.a)(Object(d.a)({},u),{},{loading:!1}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.addRRIFSource=function(e){var t=n.state.dataInput.Sources.find((function(e){return e.sourceTypeKey===f.eb.RRIF.Key}));if(void 0===t){var a={id:n.state.dataInput.Sources.length+1,sourceTypeKey:f.eb.RRIF.Key,amount:0,startYear:e.RRIFStartAge,duration:99,ownerID:2,taxRate:0,growthRate:0};n.handleAddSource(a)}else t.startYear=e.RRIFStartAge,n.handleUpdateSource(t)},n.addRRIFSource2=function(e,t){var a=e.Sources.find((function(e){return e.sourceTypeKey===f.eb.RRIF.Key}));if(void 0===a){var r={id:n.state.dataInput.Sources.length+1,sourceTypeKey:f.eb.RRIF.Key,amount:0,startYear:t.RRIFStartAge,duration:99,ownerID:2,taxRate:0,growthRate:0};e.Sources.push(r)}else a.startYear=t.RRIFStartAge,e.Sources[a.id-1]=a;return e},n.removeRRIFSource=function(e){var t=e.Sources.find((function(e){return e.sourceTypeKey===f.eb.RRIF.Key}));if(void 0!==t){var a=t.id;e.Sources.splice(a-1,1)}return e},n.copyPresentation=function(){return JSON.parse(JSON.stringify(n.state.dataInput.Presentations[0]))},n.changeLang=function(){var e=n.copyPresentation();e.language="en"===e.language?"fr":"en";var t;for(n.handleUpdatePresentationChange(e,!1),t=0;t<7;++t)n.openCollapsible[t].open=!1},n.debounceSaveToStorage=fe()((function(){return n.saveToStorage()}),1800,{leading:!1,trailing:!0}),n.areThereChildren=function(){return void 0!==n.state.dataInput.Clients.find((function(e){return e.memberKey===f.ib.CHILD.Key}))},n.manageEducation=function(){var e=n.state.dataInput.Clients.find((function(e){return e.memberKey===f.ib.CHILD.Key}));void 0!==e&&(void 0===n.state.dataInput.Needs.find((function(e){return e.needTypeKey===f.db.EDUCATION_FUND.Key}))&&n.handleAddNeed(f.db.EDUCATION_FUND.Key,Math.max(0,f.zb-e.Age),Math.min(4,Math.max(0,f.yb-e.Age))))},n.manageEducation2=function(e){var t=e.Clients.find((function(e){return e.memberKey===f.ib.CHILD.Key}));void 0!==t&&(void 0===e.Needs.find((function(e){return e.needTypeKey===f.db.EDUCATION_FUND.Key}))&&e.Needs.push({id:e.Needs.length+1,needTypeKey:f.db.EDUCATION_FUND.Key,amount:0,Percent:0,startYear:Math.max(0,f.zb-t.Age),duration:Math.min(4,Math.max(0,f.yb-t.Age))}));return e},n.manageOrphan2=function(e){var t=f.ib.CHILD.Key,a=f.eb.GOV_ORPHANS_BENEFIT.Key,r=e.Clients.filter((function(e){return e.memberKey===t})),i=e.Sources.filter((function(e){return e.sourceTypeKey===a})),s="QC"===e.Presentations[0].provinceKey?f.hb:f.gb,o="QC"===e.Presentations[0].provinceKey?f.mb:f.lb;return r.length>0?r.forEach((function(t){if(t.Age<=o&&0===i.filter((function(e){return e.ownerID===t.id})).length){var r={id:e.Sources.length+1,sourceTypeKey:a,amount:n.state.dataOutput.govBenefits.cppOrphan,startYear:0,duration:s-t.Age,ownerID:t.id};e.Sources.push(r)}})):i=[],e},n.manageOrphanSync=function(){var e=Object(b.a)(h.a.mark((function e(t,a){var r,i,s,o,l,u,p,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.ib.CHILD.Key,i=f.eb.GOV_ORPHANS_BENEFIT.Key,s=t.Sources,o=s.filter((function(e){return e.sourceTypeKey===i})),l=t.Clients.filter((function(e){return e.memberKey===r})),u=s.length,p="QC"===t.Presentations[0].provinceKey?f.hb:f.gb,c="QC"===t.Presentations[0].provinceKey?f.mb:f.lb,!(l.length>0)){e.next=12;break}l.forEach((function(e){if(u=s.length,e.Age<=c&&0===o.filter((function(t){return t.ownerID===e.id})).length){var t={id:u+1,sourceTypeKey:i,amount:a.govBenefits.cppOrphan,startYear:0,duration:p-e.Age,ownerID:e.id};s.push(t)}})),e.next=15;break;case 12:return e.next=14,n.manageRemoveOrphan(t);case 14:t=e.sent;case 15:return t.Sources=s,e.abrupt("return",t);case 17:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.manageRemoveOrphan=function(){var e=Object(b.a)(h.a.mark((function e(t,a){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(f.ib.CHILD.Key,n=f.eb.GOV_ORPHANS_BENEFIT.Key,t.Sources=t.Sources.filter((function(e){return void 0===a?!(e.sourceTypeKey===n):!(e.ownerID===a&&e.sourceTypeKey===n)})),r=1;r<=t.Sources.length;++r)t.Sources[r-1].id=r;return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.updateDataLang=function(e){n.openParent=!1,n.openForce=!1},n.getAfterTaxTotalIncome=function(e){for(var t=0,a=0;a<e.Clients.length;a++)t+=e.Clients[a].Income*(1-e.Clients[a].avgTaxRate/100);return t},n.setSurivorIndex=function(){var e=f.b?f.ib.SPOUSE.Key:f.ib.CLIENT.Key,t=n.state.dataInput.Clients.find((function(t){return t.memberKey===e}));return void 0===t&&f.b&&(1===n.state.dataInput.Clients.length?t=n.state.dataInput.Clients.find((function(e){return e.memberKey===f.ib.CLIENT.Key})):void 0===(t=n.state.dataInput.Clients.find((function(e){return e.memberKey===f.ib.DEPENDENT_ADULT.Key})))&&(t=n.state.dataInput.Clients.find((function(e){return e.memberKey===f.ib.CHILD.Key})))),t.id-1},n.setSurivorIndex2=function(e){var t=f.b?f.ib.SPOUSE.Key:f.ib.CLIENT.Key,a=e.Clients.find((function(e){return e.memberKey===t}));return void 0===a&&f.b&&(1===e.Clients.length?a=e.Clients.find((function(e){return e.memberKey===f.ib.CLIENT.Key})):void 0===(a=e.Clients.find((function(e){return e.memberKey===f.ib.DEPENDENT_ADULT.Key})))&&(a=e.Clients.find((function(e){return e.memberKey===f.ib.CHILD.Key})))),a.id-1},n.syncPanelsValues2=function(e,t){n.survIdx=n.setSurivorIndex2(e);var a=e.Clients[n.survIdx].retirementAge-e.Clients[n.survIdx].Age,r=Object(O.y)(e.Clients);r&&(a=Object(O.A)(e.Clients).noProjectionYrs);if(e=n.handleAddAssetTaxCredit2(e),f.b)if(-1!==n.survIdx){var i;for(i=0;i<e.Needs.length;i++){var s=parseInt(e.Needs[i].Percent/100*n.getAfterTaxTotalIncome(e)),o=a;if(!1===n.caseFromFile&&e.Needs[i].needTypeKey===f.db.PERCET_OF_INCOME.Key&&(s!==e.Needs[i].amount&&e.Needs[i].Percent>=0&&(e.Needs[i].amount=s),4!==t&&((r&&0===e.Needs[i].startYear||o>e.Needs[i].duration&&100!==e.Needs[i].duration&&o>0)&&(e.Needs[i].duration=o),100===e.Needs[i].duration&&o>0&&e.Needs[i].startYear<o&&(e.Needs[i].startYear=o))),!1===n.caseFromFile&&e.Needs[i].needTypeKey===f.db.EDUCATION_FUND.Key){var l=e.Clients.find((function(e){return e.memberKey===f.ib.CHILD.Key}));e.Clients.map((function(e){return e.memberKey===f.ib.CHILD.Key?e.id:""})).filter(String),e.Needs.map((function(e){return e.needTypeKey===f.db.EDUCATION_FUND.Key?e.id:""})).filter(String);void 0!==l&&e.Needs[i].startYear!==Math.max(0,f.zb-l.Age)&&l.length>0&&(e.Needs[i].startYear=Math.max(0,f.zb-l.Age),e.Needs[i].duration=Math.max(0,Math.min(4,f.yb-l.Age)))}}for(i=0;i<e.Sources.length;i++){if(e.Sources[i].sourceTypeKey!==f.eb.DIVIDEND_INCOME.Key&&(e.Sources[i].taxRate=e.Clients[n.survIdx].avgTaxRate),3!==t){var u=a;e.Sources[i].sourceTypeKey===f.eb.SURVIVORS_INCOME.Key&&0===e.Sources[i].startYear&&u<e.Sources[i].duration&&u>0&&(e.Sources[i].duration=u)}void 0===e.Sources[i].ownerID&&(e.Sources[i].ownerID=1===e.Clients.length?1:2),e.Clients.length>1&&3!==t&&e.Sources[i].ownerID-1>0&&e.Sources[i].sourceTypeKey===f.eb.SURVIVORS_INCOME.Key&&e.Sources[i].amount!==parseInt(e.Clients[e.Sources[i].ownerID-1].Income)&&(e.Sources[i].amount=parseInt(e.Clients[e.Sources[i].ownerID-1].Income))}}else{var p;for(p=0;p<e.Needs.length;p++)e.Needs[p].needTypeKey===f.db.PERCET_OF_INCOME.Key&&(e.Needs[p].amount=0);for(p=0;p<e.Sources.length;p++)(e.Sources[p].sourceTypeKey===f.eb.GOV_SURVIVORS_PENSION.Key||e.Sources[p].sourceTypeKey===f.eb.GOV_DEATH_BENEFIT.Key||e.Sources[p].sourceTypeKey===f.eb.GOV_ORPHANS_BENEFIT.Key||e.Sources[p].sourceTypeKey===f.eb.SURVIVORS_INCOME.Key)&&(e.Sources[p].amount=0);n.OKToRemove=!0}return e},n.setRates=function(){return{investmentRate:n.state.dataInput.Presentations[0].invRate/100,taxRate:n.state.dataInput.Presentations[0].taxRate/100,dividendTaxRate:.33,capitalGainsInclusion:.5,inflationRate:n.state.dataInput.Presentations[0].inflation/100}},n.loadStorage=Object(b.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=f.b?"INAData":"EPData",a=JSON.parse(localStorage.getItem(t)),n.updateStateFromJSon(a);case 3:case"end":return e.stop()}}),e)}))),n.updateStateFromJSon=function(){var e=Object(b.a)(h.a.mark((function e(t){var a,r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t||void 0===t){e.next=9;break}return n.setState({loading:!0}),n.caseFromFile=!0,a=n.state.dataOutput,r=ue.a.cloneDeep(a),e.next=7,n.reSync_reCalculate_reRender(t,r,6,0);case 7:i=e.sent,n.setState(Object(d.a)(Object(d.a)({},i),{},{loading:!1,initialLoading:!1}));case 9:n.caseFromFile=!1;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.saveToStorage=function(){localStorage.setItem(f.b?"INAData":"EPData",JSON.stringify(n.state.dataInput)),n.showRecover=0,Ae()},n.loadFromFile=function(e){var t=e.target.files[0];if(t){var a;for(n.setState({loading:!0}),a=0;a<7;++a)n.openCollapsible[a].open=!1;var r=new FileReader;r.onload=function(e){var t,a=e.target.result;!0===!(a.search("dataInput")>0||!1===Object(O.B)().saveEncrypt)?n.handleInitilizeQuoteFromQueryString(a):(a=(a=(a=(a=(a=a.split("Amount").join("amount")).split("StartYr").join("startYear")).split("Duration").join("duration")).split("Tax").join("avgTaxRate")).split("retireAge").join("retirementAge"),(t=JSON.parse(a)).dataPresentations.Presentations[0].presentationDate=new Date,t.dataInput.Clients.forEach((function(e){void 0==e.sexKey&&(e.sexKey=Object(O.p)(f.ub,e.Sex),delete e.Sex)})),t.dataInput.Clients.forEach((function(e){void 0==e.smokerKey&&(e.smokerKey=Object(O.p)(f.vb,e.Smoker),delete e.Smoker)})),t.dataInput.Clients.forEach((function(e){void 0==e.memberKey&&(e.memberKey=Object(O.p)(f.ib,e.member),delete e.member)})),t.dataInput.Assets.forEach((function(e){void 0==e.assetTypeKey&&(e.assetTypeKey=Object(O.p)(f.c,e.Type),delete e.Type)})),t.dataInput.Assets.forEach((function(e){void 0==e.assetTaxTypeKey&&(e.assetTaxTypeKey=Object(O.p)(f.r,e.Tax),delete e.Tax)})),t.dataInput.Assets.forEach((function(e){void 0==e.ownerKey&&(e.ownerKey=f.q.CLIENT_LIQUIDATE.Key)})),t.dataInput.Liabilitys.forEach((function(e){void 0==e.liabTypeKey&&(e.liabTypeKey=Object(O.p)(f.fb,e.Type),delete e.Type)})),t.dataInput.Sources.forEach((function(e){void 0==e.sourceTypeKey&&(e.sourceTypeKey=Object(O.p)(f.eb,e.Type),delete e.Type)})),t.dataInput.Needs.forEach((function(e){void 0==e.needTypeKey&&(e.needTypeKey=Object(O.p)(f.db,e.Type),delete e.Type)})),t.dataInput.Presentations.forEach((function(e){void 0==e.provinceKey&&(e.provinceKey=Object(O.p)(f.qb,e.Province),delete e.Province)})),n.updateStateFromJSon(t))},r.readAsText(t),n.setState({loading:!1})}},n.respondToSaveRequest=function(e){var t;n.setState({showMsg:!1}),t=!1===Object(O.B)().saveEncrypt?new Blob([JSON.stringify(n.state.dataInput)],{type:"text/plain;charset=utf-8"}):new Blob([n.dataQS],{type:"text/plain;charset=utf-8"});var a=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;""!==e&&(!1===a?Object(We.saveAs)(t,void 0===e?"INASavedData.json":e+(f.b?".ppi_INA_TKD":".ppi_EP_TKD")):(t=new Blob([JSON.stringify(n.state.dataInput)]),Object(We.saveAs)(t,void 0===e?"INASavedData.json":"SignInINASavedData.json")))},n.saveToFile_OLD=function(){var e=new Blob([JSON.stringify(n.state.dataInput)],{type:"text/plain;charset=utf-8"});Object(We.saveAs)(e,"INASavedData.json")},n.saveToFile=function(e){!1===Object(O.B)().saveEncrypt?n.respondToSaveRequest("fileINA"):n.handleQueryString(0,n.state.dataInput,n.state.dataOutput)},n.loadData=function(){Object(de.e)()>1&&n.setState({failedAPI:!0})},n.respondToPopUp=function(){n.saveToStorage();var e="https://toolkitdirect.ppi.ca/?ina="+Tt.a.generate();-1!==window.location.href.indexOf("https://test-tkdirect")&&(e="https://test-tkdirect.ppi.ca/?ina="+Tt.a.generate());window.parent.location.href="https://adfs.ppi.ca/adfs/ls/?wa=wsignout1.0",window.parent.location.href=e},n.EmailINA=function(){n.handleQueryString(1,n.state.dataInput,n.state.dataOutput)},n.callCalculateResultsAPI=function(e){n.resultIsOpen||(n.resultIsOpen=!e)},n.adjustVisibleOutputSection=function(e){n.visibleOutputSection=n.visibleOutputSection+e},n.hasPersonalResidenceAlready=function(){return void 0!==n.state.dataInput.Assets.find((function(e){return e.assetTypeKey===f.c.PERSONAL_RESIDENCE.Key}))},n.handleCollapsibleClick=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:6===t.id&&(n.adjustVisibleOutputSection(n.openCollapsible[6].open?-1:1),n.callCalculateResultsAPI(t.open)),t.id,n.openCollapsible[t.id].open=!t.open;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.setOutput=function(e){!!document.documentMode?alert(f.jb[n.state.dataInput.Presentations[0].language].ie):n.graphs=2===e,n.setState({loading:!1})},n.selectMultiButtonPeriod=function(e){var t=n.copyPresentation();e===f.S+1?t.periodOption=f.S:e===f.O+1?t.periodOption=f.O:e===f.M+1?t.periodOption=f.M:e===f.P+1&&(t.periodOption=f.P);n.handleUpdatePresentationChange(t,!1)},n.selectMultiButton=function(e){var t=n.copyPresentation();e===f.T?t.resultsOption=f.T:e===f.N?t.resultsOption=f.N:e===f.L?(t.resultsOption=f.L,t.periodOption=f.M,t.resultsOption=f.P,t.periodOption=f.P):t.resultsOption=f.R;n.handleUpdatePresentationChange(t,!0)},n.selectMultiButtonINAorTax=function(e){2===e?n.INAOption=2:1===e&&(n.INAOption=1);var t=n.state.loading;t=!t,n.setState({loading:t})},n.hideEstateRemoveMsg=function(){n.setState({failedRemove:!1})},n.imageRemove=function(){n.setState((function(e){return{dataInput:Object(d.a)(Object(d.a)({},e.dataInput),{},{Presentations:[Object(d.a)(Object(d.a)({},e.dataInput.Presentations[0]),{},{adviserLogo:{image:null,left:0,size:90,allPages:!1,showDetails:!1}})]})}}))},n.imageAdjust=function(e,t){t===f.bb?n.setState((function(t){return{dataInput:Object(d.a)(Object(d.a)({},t.dataInput),{},{Presentations:[Object(d.a)(Object(d.a)({},t.dataInput.Presentations[0]),{},{adviserLogo:e})]})}})):n.setState((function(t){return{dataInput:Object(d.a)(Object(d.a)({},t.dataInput),{},{Presentations:[Object(d.a)(Object(d.a)({},t.dataInput.Presentations[0]),{},{appletImage:e})]})}}))},n.excel=r.a.createRef();var i=[];i.push(L(1)),f.b&&i.push(L(2));[].push(D(1));F(1),K(1);var s=[];s.push(B(1)),s.push(B(2));var o;k(1,n.provinceMargTax);for(n.state={dataInput:_(),loading:!0,initialLoading:!0,failedAPI:!1,showMsg:!1,failedRemove:!1,dataOutput:{dataInsuranceNeeds:[],dataCashFlowPersonal:[],dataTaxLiability:[],dataCashFlowGov:[],dataCashFlowNeeds:[],dataNAAges:[],dataShortfall:[],govBenefits:{cppSurvivor:null,cppDB:null,cppOrphan:null},lifeExpectancy:{client:0,spouse:0,joint:0},assetProjections:[],aggregateGrid:null,encryptedInputLife1AndSpouse:"",encryptedInputLife1:""}},n.openCollapsible=[],o=0;o<7;++o)n.openCollapsible.push({open:!1,id:o});return n.openCollapsible[0].open=!0,n.state.dataOutput3={},n.state.dataOutput7={dataInsuranceNeeds:[]},n.tag={t:0,y:0},n.showRecover=1,n.survIdx=f.b?f.tb:f.rb,n.graphs=!1,n.caseFromFile=!1,n.OKToRemove=!0,n.accessedAPI=!1,n.openParent=!0,n.openForce=!0,n.resultIsOpen=!1,n.langText="Fran\xe7ais",n.provinceMargTax=0,n.visibleOutputSection=0,n.dataQS="",n.intervalID=0,n.INAOption=f.b?1:2,n}return Object(u.a)(a,[{key:"render",value:function(){var e=this;if(!0===this.state.initialLoading)return r.a.createElement("div",{style:{marginTop:"60px",marginLeft:"90px"}},r.a.createElement(oe.a,{type:"TailSpin",color:"black",height:30,width:30}));var t=1,a=1,n=1,i=1,s=this.state.showMsg,o=(this.state.dataInput.Presentations[0].language,this.state.dataInput.Presentations[0].language,this.state.dataInput.Presentations[0].language,this.state.dataInput.Presentations[0].language,this.state.dataInput),l=o.Presentations[0].language,u=this.state.dataOutput,p=this.state.dataOutput.dataInsuranceNeeds,c=o.Presentations[0].periodOption,g=Object(O.c)(o.Clients,c,u.lifeExpectancy,p,u.dataShortfall,o.Presentations[0]),h=g.insuranceNeed,b=g.insuranceNeedToRet,m=g.insuranceNeedToLE,E=g.insuranceNeedToLE3,v=g.insuranceNeedToEnd,T=g.projectionEnd,C=g.noProjectionYrs,S=g.survivorAge,N=Object(O.y)(o.Clients);N&&(o.Presentations[0].periodOption=f.S);var R=1===o.Clients.length,x=Object(O.m)(o.Presentations[0],T,l,R,N,C,h,o.Clients[0].Name);if(N){u.dataNAAges=[];for(var j=0;j<C;j++)u.dataNAAges.push(j+1)}1===o.Clients.length&&(this.survIdx=0);var w,D,P,L,F,K,B,k,_,V=this.state.dataInput.Clients[this.survIdx],U=p.length>0&&void 0!==u.dataNAAges&&void 0!==V;if(this.state.failedAPI&&console.log("timer API call failed re ADSF"),K=[f.wb[l].presBut,f.wb[l].graphsBut,f.wb[l].spreadsheetBut,f.wb[l].analysisBut],B=[f.wb[l].presBut,f.wb[l].graphsBut,f.wb[l].spreadsheetBut],k=[f.wb[l].retBut,f.wb[l].leBut,f.wb[l].age100But],void 0!==this.survIdx&&o.Clients[this.survIdx].memberKey!==f.ib.SPOUSE.Key&&o.Clients[this.survIdx].memberKey!==f.ib.CLIENT.Key&&(k=[f.wb[l].protectButton]),U){var G=Object(O.u)(o,T,l);w=u.dataNAAges.slice(0,C),D=u.dataCashFlowGov.slice(0,C),P=u.dataCashFlowPersonal.slice(0,C),_=Object(O.j)(u.dataTaxLiability,G),L=u.dataCashFlowNeeds.slice(0,C),F=u.dataShortfall.slice(0,C);var q=o.Sources.find((function(e){return e.sourceTypeKey===f.eb.SURVIVORS_INCOME}));void 0!==q&&q.reduce((function(e,t){return e+t}),0),q=u.dataShortfall.slice(0,C),void 0!=u.aggregateGrid&&Math.min(100,10*this.state.dataOutput.aggregateGrid.dataColTitles.length)+"%"}var Y=r.a.createElement(mt,{insuranceNeed:h,projectEnd:T,dataCashFlowPersonal:P,dataInput:o,dataNAAges:w,dataCashFlowNeeds:L,dataCashFlowGov:D,dataShortfall:F,insNeedLine:x,periodOption:c}),H=r.a.createElement(ft,{insuranceNeed:E,projectEnd:T,dataEstateLiability:_,dataInput:o,dataNAAges:w,lifeExp:u.lifeExpectancy.joint,lifeExpJLTD:u.lifeExpectancy.joint,lifeExpClient:u.lifeExpectancy.client,INAOption:this.INAOption,LE:u.lifeExpectancy.spouse,assetProjections:u.assetProjections}),z=r.a.createElement("div",{style:{marginTop:"-4px",backgroundColor:"lightgrey",paddingLeft:"5px"}},r.a.createElement(Et,{insuranceNeed:E,projectEnd:T,dataEstateLiability:_,dataInput:o,dataNAAges:w,lifeExp:u.lifeExpectancy.spouse,lifeExpJLTD:u.lifeExpectancy.joint,lifeExpClient:u.lifeExpectancy.client,INAOption:this.INAOption,dataShortfall:F,dataAPISite:f.Ab,language:l,periodOption:f.P})),Q=Object(I.e)(l);Q.infoText=Object(I.q)(l).infoText;var J=this.state.failedRemove&&r.a.createElement("div",{style:{paddingLeft:"45%"}}," ",r.a.createElement(y.a,{infoIcon:Q,respondToPopUp:this.hideEstateRemoveMsg}));o.Sources.length;return r.a.createElement("div",{id:"main",className:"mainDiv"},r.a.createElement("style",null,"@media print {display: none;}"),r.a.createElement(Oe,{title:1===this.INAOption?f.wb[l].appletINA:f.wb[l].appletEP,saveToFile:this.saveToFile,loadFromFile:this.loadFromFile,loadStorage:this.loadStorage,EmailINA:this.EmailINA,changeLang:this.changeLang,saveAsDefaultCase:this.saveAsDefaultCase,language:l}),r.a.createElement("div",{className:"topMargin"}),r.a.createElement("div",{style:{height:"0px"}},r.a.createElement(Fe,{openDialog:!0===s,language:l,respondToInput:this.respondToSaveRequest})),r.a.createElement(Ke,{id:5,title:f.wb[l].presentations,openParent:this.openParent,openCollapsible:this.openCollapsible[5],handleCollapsibleClick:this.handleCollapsibleClick},o.Presentations.map((function(t){return r.a.createElement(Ie,{key:t.id,id:1,provinceKey:t.provinceKey,presentationCurr:t,language:l,presentationsNo:1,handleUpdate:e.handleUpdatePresentation})}))),r.a.createElement(Ke,{id:0,title:f.wb[l].clients,openParent:this.openParent,openForce:this.openForce,handleCollapsibleClick:this.handleCollapsibleClick,openCollapsible:this.openCollapsible[0]},o.Clients.map((function(a){return r.a.createElement(M,{key:a.id,id:t++,clientCurr:a,singleFamily:N,isTheSurvivor:!!(void 0!==e.survIdx&&o.Clients[e.survIdx].memberKey===a.memberKey||N&&a.id>1),themeColor:t%2&&Object(O.x)()?"#F8F8F8":"white",language:l,clientsNo:o.Clients.length,handleUpdate:e.handleUpdateClient,handleAddClient:e.handleAddClient,handleRemoveClient:e.handleRemoveClient,switchClients:e.switchClients,disableAddRemove:e.state.loading})}))),r.a.createElement(Ke,{id:1,title:f.wb[l].assets,openParent:this.openParent,openCollapsible:this.openCollapsible[1],handleCollapsibleClick:this.handleCollapsibleClick},o.Assets.map((function(t){return r.a.createElement(ye,{key:t.id,assetCurr:t,id:a++,language:l,themeColor:a%2&&Object(O.x)()?"#F8F8F8":"white",assetsNo:o.Assets.length,clientsNo:o.Clients.length,handleUpdate:e.handleUpdateAsset,handleAddAsset:e.handleAddAsset,handleRemoveAsset:e.handleRemoveAsset,handleAddAssetTaxLiability:e.handleAddAssetTaxLiability,adjustVisibleOutputSection:e.adjustVisibleOutputSection,hasPersonalResidenceAlready:e.hasPersonalResidenceAlready(),projection:u.assetProjections,disableAddRemove:e.state.loading})})),0===o.Assets.length?r.a.createElement(A,{currentID:0,minComps:0,numberComps:0,handleDoAdd:this.handleAddAsset,handleDoRemove:this.handleRemoveAsset}):""),r.a.createElement(Ke,{id:2,title:f.wb[l].liabilities,openParent:this.openParent,openCollapsible:this.openCollapsible[2],handleCollapsibleClick:this.handleCollapsibleClick},o.Liabilitys.map((function(t){return r.a.createElement(Ee,{key:t.id,liabilityCurr:t,language:l,liabilitysNo:o.Liabilitys.length,themeColor:Object(O.x)()?"#F8F8F8":"white",handleUpdate:e.handleUpdateLiability,handleAddLiability:e.handleAddLiability,handleRemoveLiability:e.handleRemoveLiability,disableAddRemove:e.state.loading})})),0===o.Liabilitys.length?r.a.createElement(A,{currentID:0,minComps:0,numberComps:0,handleDoAdd:this.handleAddLiability,handleDoRemove:this.handleRemoveLiability}):""),1===this.INAOption&&r.a.createElement(Ke,{id:3,title:f.wb[l].sources,openParent:this.openParent,openCollapsible:this.openCollapsible[3],handleCollapsibleClick:this.handleCollapsibleClick},J,o.Sources.map((function(t){var a,n;return t.sourceTypeKey===f.eb.GOV_ORPHANS_BENEFIT.Key&&(a=o.Clients.filter((function(e){return t.ownerID===e.id}))).length>0&&(n=("QC"===o.Presentations[0].provinceKey?f.hb:f.gb)-a[0].Age),r.a.createElement(ve,{key:t.id,id:i++,sourceCurr:t.sourceTypeKey===f.eb.GOV_ORPHANS_BENEFIT.Key?Object(d.a)(Object(d.a)({},t),{},{maxOrphan:e.orphan,maxOrphanDur:n}):t,includeGovOrphanBenefit:e.areThereChildren(),language:l,sourcesNo:o.Sources.length,themeColor:i%2&&Object(O.x)()?"#F8F8F8":"white",handleUpdate:e.handleUpdateSource,handleAddSource:e.handleAddSource,handleRemoveSource:e.handleRemoveSource,disableAddRemove:e.state.loading})}))),1===this.INAOption&&r.a.createElement(Ke,{id:4,title:f.wb[l].needs,openParent:this.openParent,openCollapsible:this.openCollapsible[4],handleCollapsibleClick:this.handleCollapsibleClick},o.Needs.map((function(t){return r.a.createElement(Te,{key:t.id,id:n++,needCurr:t,language:l,needsNo:o.Needs.length,afterTaxTotalIncome:e.getAfterTaxTotalIncome(o),themeColor:n%2&&Object(O.x)()?"#F8F8F8":"white",handleUpdate:e.handleUpdateNeed,handleAddNeed:e.handleAddNeed,handleRemoveNeed:e.handleRemoveNeed,disableAddRemove:e.state.loading})}))),this.state.failedAPI?r.a.createElement("div",{style:{paddingLeft:"40%"}},r.a.createElement(y.a,{infoIcon:Object(I.v)(l),respondToPopUp:this.respondToPopUp,ref:function(t){return e.dlgLogin=t}})):"",r.a.createElement(Ke,{id:6,title:f.wb[l].results,enabled:!1===this.state.loading,openParent:this.openParent,openCollapsible:this.openCollapsible[6],handleCollapsibleClick:this.handleCollapsibleClick},r.a.createElement("div",{style:{width:"100%",float:"left",clear:"left"}},!0!==Object(O.B)().allowAnalysis||f.b?r.a.createElement(Xe.a,{noButtons:3,buttonCaption:B,selected:o.Presentations[0].resultsOption,selectMultiButton:this.selectMultiButton}):r.a.createElement(Xe.a,{noButtons:4,buttonCaption:K,selected:o.Presentations[0].resultsOption,selectMultiButton:this.selectMultiButton})),r.a.createElement("div",{style:{width:"100%",float:"left",clear:"left"}},1===this.INAOption&&o.Presentations[0].resultsOption!==f.L&&!N&&r.a.createElement(Xe.a,{noButtons:3,buttonCaption:k,selected:o.Presentations[0].periodOption+1,selectMultiButton:this.selectMultiButtonPeriod}),c!==f.S&&o.Presentations[0].resultsOption!==f.L&&r.a.createElement("span",{style:{fontSize:"10px",fontColor:"grey"}})),0===u.dataCashFlowPersonal.length?"":o.Presentations[0].resultsOption===f.N?f.b?Y:H:o.Presentations[0].resultsOption===f.T?r.a.createElement("div",null,null!==u.aggregateGrid&&void 0!==u.aggregateGrid&&r.a.createElement(ze,{aggregateGrid:u.aggregateGrid,LE:f.b?u.lifeExpectancy.spouse:u.lifeExpectancy.joint,lang:l,insNeedLine:x})):o.Presentations[0].resultsOption===f.L?z:1===this.INAOption?r.a.createElement(nt,{insuranceNeed:h,insuranceNeedRet:b,insuranceNeedLE:m,insuranceNeedEAge:v,projectEnd:T,insNeedLine:x,LE:u.lifeExpectancy.spouse+S,dataInput:o,INAOption:this.INAOption,dataShortfall:F,imageRemove:this.imageRemove,imageAdjust:this.imageAdjust,encryptedInputLife1AndSpouse:u.encryptedInputLife1AndSpouse,encryptedInputLife1:u.encryptedInputLife1,getSpouseINA:this.getSwitchClientsState}):r.a.createElement(ht,{insuranceNeedRet:b,insuranceNeedLE:m,LE:u.lifeExpectancy.joint,dataInput:o,assetProjections:u.assetProjections,aggregateGrid:u.aggregateGrid,INAOption:this.INAOption,dataShortfall:F,imageRemove:this.imageRemove,imageAdjust:this.imageAdjust,encryptedInputLife1AndSpouse:u.encryptedInputLife1AndSpouse,encryptedInputLife1:u.encryptedInputLife1})),r.a.createElement("div",{id:"copyDiv"}),r.a.createElement("br",null))}}]),a}(n.Component),It=(a(817),a(497)),Ct=function(e){Object(p.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).displayName="PPI Toolkit Direct",n.changeLang=function(){var e=n.state;n.state.language;e.language="en"===n.state.language?"fr":"en",n.langText="en"===n.state.language?"Fran\ufffdais":"English",n.setState({data2:e,loading:!1})},n.state={language:"en",loading:!0},n.langText="English",n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(It.a,null,(function(e){var t=e.loading,a=e.isLatestVersion,n=e.refreshCacheAndReload;return t?null:(t||a||n(),r.a.createElement(Ot,null))}))}}]),a}(n.Component),St=document.getElementsByTagName("base")[0].getAttribute("href"),Nt=document.getElementById("root");s.a.render(r.a.createElement(o.a,{basename:St},r.a.createElement(Ct,null)),Nt)},86:function(e,t,a){},90:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a(32);var n=a(1);function r(e,t,a,r){return{insured:{lives:function(e,t){var a,r=[];if(e===n.tb)r.push({age:t.Clients[1].Age,sex:t.Clients[1].sexKey===n.ub.FEMALE.Key?1:0,smk:t.Clients[1].smokerKey===n.vb.SMOKER.Key?"S_STD":"NS_STD",rating:100});else if(e===n.rb)r.push({age:t.Clients[0].Age,sex:t.Clients[0].sexKey===n.ub.FEMALE.Key?1:0,smk:t.Clients[0].smokerKey===n.vb.SMOKER.Key?"S_STD":"NS_STD",rating:100});else for(a=0;a<t.Clients.length;a++)r.push({age:t.Clients[a].Age,sex:t.Clients[a].sexKey===n.ub.FEMALE.Key?1:0,smk:t.Clients[a].smokerKey===n.vb.SMOKER.Key?"S_STD":"NS_STD",rating:100});return r}(a,e),lifeStatus:a===n.sb?1:0},policy:{planName:"EquiBuild",carrierName:"Industrial Alliance",planID:t,carrierID:5,faceAmount:r,intRate:.0375,province:e.Presentations[0].Province,objPremium:{DepositMode:1,PremCustom:!1,PremSet:!1,PremSolve:!0,PremSetDur:50,PremSolveDur:99,PremOffsetOn:!1,PremOffsetYear:0},objCustomDB:{solveForPremium_On:!1,solveForPUA_On:!1,solveRider_On:!1,customDB:[]},objRider:{T10:!1,T20:!1,ICO10:!1,ICO20:!1,T25:!1,T30:!1,T25Amt:0,T30Amt:0,T10Dur:10,T20Dur:20,T10Amt:0,T20Amt:0}},objPUA:{MaxPUA:!1,MaxPUAAmt:9e7,BonusPUA:!0,FundPUA:!1,FundPUAAmt:0,FundPUADur:10},outputOptions:{extCoverage:!1,IRR_ERR:!1,outputColumnIDs:[0,1,2,105,14,25]},generalInfo:{designedFor:"",designedBy:"",language:"en"===e.lang?0:1,formatNumericOutput:!0}}}}},[[514,1,2]]]);
//# sourceMappingURL=main.e36daeae.chunk.js.map