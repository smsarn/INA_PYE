{"version":3,"sources":["components/ProjectionGrid1.js","components/GridButton.js","components/Asset.js","components/GridExcelComponent/DownloadExcel.js","components/GridExcelComponent/ExcelToolbar.js","components/GridExcelComponent/DataTable.js","images/gridOff.png","images/gridOn.png"],"names":["ProjectionGrid1","assetProjection","lang","useState","projectionGrid","setProjectionGrid","useEffect","DataTable","gridTitle","dataColTitles","dataProjection","language","GridButton","props","handleClick","handleClickGridButton","bind","className","this","onClick","id","alt","src","React","Component","Asset","i","displayName","name","componentDidMount","setState","description","assetCurr","handleDoRemove","disableAddRemove","handleRemoveAsset","handleDoAdd","assNo","assetsNo","dataValues","DD","Values","length","assNext","label","assTaxTypeKey","getListItemKeyFromName","ASSET_TAX","asset","createDefaultAsset","assetTypeKey","ASSETS","APPLET_INA","clientsNo","ownerKey","ASSET_OWNERSHIP_ACTION","CLIENT_LIQUIDATE","Key","CLIENT","LIFE_INSURANCE","assetTaxTypeKey","setAssetValuesToDefault","taxValues","handleAddAsset","updateDDown","selection","propId","copyFromAnotherAsset","handleUpdate","updateDesc","evt","target","value","handleUpdateInput","changed","valueClean","cleanFormat","valueCleanInt","parseInt","DisposeYr","DisposeDur","ACB","smallBusinessCapGainExemption","currValue","growth","contributionAmt","contributionStartYr","contributionDur","withdrawalAmt","withdrawalStartYr","withdrawalDur","incomeRate","RRIFStartAge","loading","updateClientTaxLiability","a","dataNA","getAssetProjection","fetchAssetProjection2","undefined","data","ASSET_API_OUTPUT_TaxPayable","numericValues","getData","fetchAssetProjectionAPI","display","state","displaySreadsheet","adjustVisibleOutputSection","RRSP_RRIF","REGISTERED","JOINT","CLIENT_ROLLOVER","PERSONAL_RESIDENCE","TFSA","NON_TAXABLE","CASH","STOCKS_BONDS","REAL_ESTATE","CAPITAL_GAINS_DEFERRED","SMALL_BUSINESS_SHARES","QUALIFYING_SMALL_BUSINESS","INTEREST_BEARING","INTEREST","OTHER_ASSETS","FULLY_TAXABLE","APPLET_EP","SPOUSE","clone2","cln","document","getElementById","cloneNode","cln2","createElement","appendChild","addEventListener","e","typeValues","listAssetsToShow","getListToShowByOrder","push","ownerActionValues","desc","listAssetTaxesToShow","Title","CONTROLTITLE","type","defValue","getListItemNameFromKey","disableOptionValue","getDisableValues","owner","tax","DDTax","taxLiabOfClient","nextProps","isEqual","projection","CHARITABLE_GIFTS_TAX_CREDIT","themeColor","assetID","disableTaxMethods","insurance","taxStocks","taxRS","hideOwner","taxT","ownerT","assetTypeIns","taxCredit","MESSAGES","assetTax","Type","rrsp","showACB","CAPITAL_GAINS_ANNUAL","showIncome","showDur","showGrowth","showDispose","showContribution","showWithdrawal","showCGE","gridIcons","Array","forEach","item","COLUMN_TITLES","TaxLiability","getInfoTaxLiability","disableAll","p","grid","ID","hasPersonalResidenceAlready","map","dd","DropDown","key","toString","Count","disable","ownerAction","unlistedValue","infoIcon","getInfoIconAssetsOwner","getInfoIconAssetsIns","getInfoIconTFSA","getInfoIconTaxLiab","disableOption","width","DROPDOWN_WIDE","select","onChange","onBlur","inputName","FA","amount","format","inputValue","Math","round","inputTitle","disposeYr","getInfoIconAssetsYr0","disposeDur","RRIFAge","getInfoIconSourcesRRIF","RRIFRate","getInfoIconAssetsIncomeRate","getInfoIconTaxExempt","getInfoIconDepositWithd","colorDiv","minValue","require","AddRemove","currentID","minComps","numberComps","disabled","style","clear","float","ExcelFile","ReactExport","ExcelSheet","DownloadExcel","j","dataCell","styleCell","alignment","horizontal","font","numFmt","styleCellCol1","styleCellAlt","fill","patternType","fgColor","rgb","styleCellAltCol1","styleTitleRowInfo","color","bold","wrapText","border","top","bottom","right","left","styleCellLeftAllign","styleTitleRow","excelColumnsDataInfoSection","title","dataBodyTitles","dataBody","dataRow","indexOf","isNaN","parseFloat","excelColumnsHeaders","sz","wpx","excelColumnsDataMain","multiDataSet","columns","xSteps","ySteps","tempDate","Date","date","getDate","toLocaleString","month","getFullYear","downloadNow","hideElement","filename","dataSet","ExcelToolbar","setExcel","classes","fontSize","marginBottom","margin","padding","excelToolbarText","Fragment","Tooltip","placement","IconButton","xmlns","height","viewBox","d","Datatable","getMuiTheme","createMuiTheme","typography","fontFamily","fontWeight","overrides","MUIDataTable","tableRoot","paper","boxShadow","borderBottom","borderRight","MuiTableRow","root","head","footer","MuiTableCell","sizeSmall","MUIDataTableToolbar","paddingLeft","titleRoot","icon","MUIDataTableBodyCell","backgroundColor","MUITypography","body2","MUITablePagination","caption","downloadExcelNow","unit","divStyle","window","innerWidth","styleHeader","textAlign","position","zIndex","customHeader","index","column","TableCell","Info","options","filter","customHeadRender","captions","GRID_INTERNAL_CAPTIONS","excel","filterType","selectableRows","responsive","resizableColumns","selectableRowsHeader","viewColumns","search","download","print","textLabels","pagination","rowsPerPage","rows","displayRows","of","setTableProps","size","downloadOptions","separator","onDownload","buildHead","buildBody","customRowRender","dataIndex","rowIndex","dataI","Typography","TableRow","specialRow","customToolbar","theme","gridColumnsDataExcelInfoSection","module","exports"],"mappings":"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","file":"static/js/10.3d98358c.chunk.js","sourcesContent":["import React, { useState,useEffect } from \"react\";\r\nimport DataTable from \"./GridExcelComponent/DataTable\";\r\n\r\n\r\n\r\nexport default function ProjectionGrid1({assetProjection,lang}) {\r\n    const [projectionGrid, setProjectionGrid] = useState(assetProjection);\r\n\r\n  \r\n    useEffect(() => {\r\n        /* getGridData(input, assetCurr)\r\n            .then(response => response.json())\r\n            .then(data => setProjectionGrid(data)); */\r\n\r\n           setProjectionGrid(assetProjection)\r\n    }, [assetProjection])\r\n\r\n\r\n    //if(projectionGrid!==null && projectionGrid!==undefined){\r\n    return (\r\n        <div>\r\n         \r\n            { assetProjection ?\r\n            <DataTable\r\n                gridTitle={projectionGrid.gridTitle}\r\n                dataColTitles={  projectionGrid.dataColTitles}\r\n                dataProjection={projectionGrid.dataProjection}\r\n                \r\n                language={lang}\r\n            /> : null}\r\n        </div>);\r\n}\r\n\r\n","import React, { Component } from \"react\";\r\n\r\nexport class GridButton extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  handleClick = () => {\r\n    this.props.handleClickGridButton();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <span>\r\n        <img\r\n          className={this.props.className}\r\n          onClick={this.handleClick}\r\n          id={this.props.id}\r\n          alt={this.props.alt}\r\n          src={this.props.src}\r\n        />\r\n      </span>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { DropDown } from \"./DropDown\";\r\n//import { InputField4 } from './inputField4';\r\nimport { InputField } from \"./inputField\";\r\nimport { AddRemove } from \"./AddRemove\";\r\nimport { cleanFormat, getDisableValues } from \"../utils/helper\";\r\nimport {\r\n  getInfoIconAssetsIncomeRate,\r\n  getInfoIconAssetsYr0,\r\n  getInfoIconAssetsOwner,\r\n  getInfoIconSourcesRRIF,\r\n  getInfoTaxLiability,\r\n  getInfoIconTaxExempt,\r\n  getInfoIconAssetsIns,\r\n  getInfoIconTFSA,\r\n  getInfoIconDepositWithd,\r\n  getInfoIconTaxLiab,\r\n} from \"../definitions/infoIconsDefinitions\";\r\n\r\nimport {\r\n  createDefaultAsset,\r\n  copyFromAnotherAsset,\r\n} from \"../data/createDefaults\";\r\nimport {\r\n  MESSAGES,\r\n  ASSETS,\r\n  ASSET_TAX,\r\n  CONTROLTITLE,\r\n  ASSET_OWNERSHIP_ACTION,\r\n  COLUMN_TITLES,\r\n} from \"../definitions/generalDefinitions\";\r\nimport {\r\n  getListItemNameFromKey,\r\n  getListItemKeyFromName,\r\n  getListToShowByOrder,\r\n\r\n} from \"../utils/helper\";\r\n\r\nimport ProjectionGrid1 from \"./ProjectionGrid1.js\";\r\n//import DataTable from \"./GridExcelComponent/DataTable\";\r\nimport {\r\n  fetchAssetProjection2,\r\n  fetchAssetProjectionAPI,\r\n} from \"../utils/FetchAPIs\";\r\nimport {\r\n  DROPDOWN_WIDE,\r\n} from \"../definitions/generalDefinitions\";\r\nimport isEqual from \"lodash.isequal\";\r\n\r\nimport {\r\n  ASSET_API_OUTPUT_TaxPayable,\r\n  APPLET_INA,\r\n  APPLET_EP,\r\n} from \"../definitions/generalDefinitions\";\r\n\r\nimport { GridButton } from \"./GridButton\";\r\n//import { getAssetGridValues } from \"../data/assetGridProjections\";\r\n//import { Language } from \"@material-ui/icons\";\r\n\r\nconst ASSET_DROPDOWN_TYPE = 0;\r\n// inserted desc here not a dropdown no need for indes\r\nconst ASSET_DROPDOWN_OWNER = 2;\r\nconst ASSET_DROPDOWN_TAXTYPE = 3;\r\n\r\nexport default class Asset extends Component {\r\n  displayName = Asset.name;\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      description: \"\",\r\n      displaySreadsheet: false,\r\n      loading: false,\r\n    };\r\n    var i;\r\n    var typeValues = [];\r\n    const listAssetsToShow = getListToShowByOrder(ASSETS);\r\n    for (i = 0; i < listAssetsToShow.length; ++i) {\r\n      typeValues.push({\r\n        label: listAssetsToShow[i].value[this.props.language],\r\n        value: i + 1,\r\n      });\r\n    }\r\n    /* for (i = 0; i < ASSETS[this.props.language].Values.length; ++i) {\r\n      typeValues.push({\r\n        label: ASSETS[this.props.language].Values[i],\r\n        value: i + 1\r\n      });\r\n    } */\r\n\r\n    /* var ownerValues = [\r\n      {\r\n        label: OWNERSHIP[this.props.language].Values[0],\r\n        value: 1\r\n      },\r\n      { label: OWNERSHIP[this.props.language].Values[1], value: 2 },\r\n      { label: OWNERSHIP[this.props.language].Values[2], value: 3 },\r\n      { label: OWNERSHIP[this.props.language].Values[3], value: 4 }\r\n    ];\r\n */\r\n    var ownerActionValues = [\r\n      {\r\n        label:\r\n          ASSET_OWNERSHIP_ACTION.CLIENT_LIQUIDATE.value[this.props.language],\r\n        value: 1,\r\n      },\r\n      {\r\n        label:\r\n          ASSET_OWNERSHIP_ACTION.CLIENT_ROLLOVER.value[this.props.language],\r\n        value: 2,\r\n      },\r\n      {\r\n        label: ASSET_OWNERSHIP_ACTION.SPOUSE.value[this.props.language],\r\n        value: 3,\r\n      },\r\n      {\r\n        label: ASSET_OWNERSHIP_ACTION.JOINT.value[this.props.language],\r\n        value: 4,\r\n      },\r\n    ];\r\n    if (APPLET_EP) {\r\n      ownerActionValues = [\r\n        {\r\n          label: ASSET_OWNERSHIP_ACTION.CLIENT.value[this.props.language],\r\n          value: 1,\r\n        },\r\n        {\r\n          label: ASSET_OWNERSHIP_ACTION.SPOUSE.value[this.props.language],\r\n          value: 2,\r\n        },\r\n      ];\r\n    }\r\n\r\n    /* var ownerActionValues2 = [\r\n          {\r\n            label:\r\n              ASSET_OWNERSHIP_ACTION2.properties[this.props.language].Values[\r\n                OWNER_ACTION_CLIENTLIQUIDATE\r\n              ],\r\n            value: 1\r\n          },\r\n          {\r\n            label:\r\n              ASSET_OWNERSHIP_ACTION[this.props.language].Values[\r\n                OWNER_ACTION_CLIENTROLLOVER\r\n              ],\r\n            value: 2\r\n          },\r\n          {\r\n            label:\r\n              ASSET_OWNERSHIP_ACTION[this.props.language].Values[\r\n                OWNER_ACTION_Spouse\r\n              ],\r\n            value: 3\r\n          },\r\n          {\r\n            label:\r\n              ASSET_OWNERSHIP_ACTION[this.props.language].Values[\r\n                OWNER_ACTION_Joint\r\n              ],\r\n            value: 4\r\n          }\r\n        ];\r\n    \r\n     */\r\n    this.taxValues = [];\r\n    this.desc = this.props.assetCurr.description;\r\n    const listAssetTaxesToShow = getListToShowByOrder(ASSET_TAX);\r\n    // console.log(listAssetTaxesToShow)\r\n    for (i = 0; i < listAssetTaxesToShow.length; ++i) {\r\n      this.taxValues.push({\r\n        label: listAssetTaxesToShow[i].value[this.props.language],\r\n        value: i + 1,\r\n      });\r\n    }\r\n    // console.log(this.props.assetCurr)\r\n    /*     for (i = 0; i < ASSET_TAX[this.props.language].Values.length; ++i) {\r\n          this.taxValues.push({\r\n            label: ASSET_TAX[this.props.language].Values[i],\r\n            value: i + 1\r\n          });\r\n        }\r\n     */\r\n\r\n    // console.log(this.props.assetCurr.ownerKey)\r\n    this.dataValues = {\r\n      DD: [\r\n        // asset types\r\n        {\r\n          //ASSET_DROPDOWN_TYPE index =0\r\n          id: 1,\r\n          Title: CONTROLTITLE[this.props.language].type,\r\n          defValue: getListItemNameFromKey(\r\n            ASSETS,\r\n            this.props.assetCurr.assetTypeKey,\r\n            this.props.language\r\n          ),\r\n          Values: typeValues,\r\n          disableOptionValue: getDisableValues(ASSETS),\r\n        },\r\n        {\r\n          id: 12,\r\n          Title: \"Description\",\r\n        },\r\n        {\r\n          //ASSET_DROPDOWN_OWNER index =2\r\n          id: 2,\r\n          Title: CONTROLTITLE[this.props.language].owner,\r\n          /* defValue: this.props.assetCurr.ownerKey,\r\n          Values: ownerValues \r\n          Title: ASSET_OWNERSHIP.Title.value[this.props.language],//CONTROLTITLE[this.props.language].ownershipAction,           */\r\n          defValue: getListItemNameFromKey(\r\n            ASSET_OWNERSHIP_ACTION,\r\n            this.props.assetCurr.ownerKey,\r\n            this.props.language\r\n          ),\r\n          Values: ownerActionValues,\r\n          disableOptionValue: getDisableValues(ASSET_OWNERSHIP_ACTION),\r\n        },\r\n        {\r\n          id: 3, //ASSET_DROPDOWN_TAXTYPE index =3\r\n          Title: CONTROLTITLE[this.props.language].tax,\r\n          defValue: getListItemNameFromKey(\r\n            ASSET_TAX,\r\n            this.props.assetCurr.assetTaxTypeKey,\r\n            this.props.language\r\n          ), // this.props.assetCurr.Tax,\r\n          disableOptionValue: getDisableValues(ASSET_TAX),\r\n          Values: this.taxValues,\r\n        },\r\n      ],\r\n    };\r\n\r\n    this.DDTax = {\r\n      disableOptionValue: getDisableValues(ASSET_TAX),\r\n    };\r\n    for (let i = 3; i < this.DDTax.disableOptionValue.length; i++)\r\n      this.DDTax.disableOptionValue[i] = true;\r\n\r\n    this.dataColTitles = [];\r\n    this.taxLiabOfClient = [];\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    //console.log(nextProps.assetCurr, this.props.assetCurr);\r\n    if (\r\n      !isEqual(nextProps.assetCurr, this.props.assetCurr) ||\r\n      nextProps.id !== this.props.id ||\r\n      nextProps.assetsNo !== this.props.assetsNo ||\r\n      nextProps.clientsNo !== this.props.clientsNo ||\r\n      !isEqual(nextProps.projection, this.props.projection)\r\n    ) {\r\n      if (\r\n        this.props.assetCurr.assetTypeKey ===\r\n          ASSETS.CHARITABLE_GIFTS_TAX_CREDIT.Key ||\r\n        nextProps.assetCurr.assetTypeKey ===\r\n          ASSETS.CHARITABLE_GIFTS_TAX_CREDIT.Key\r\n      ) {\r\n        // console.log(this.dataValues.DD[0].Values);\r\n        //console.log(nextProps.projection, this.props.projection);\r\n\r\n        this.dataValues.DD[ASSET_DROPDOWN_TYPE].Values.push({\r\n          label: ASSETS.CHARITABLE_GIFTS_TAX_CREDIT.value[this.props.language],\r\n          value: this.dataValues.DD[ASSET_DROPDOWN_TYPE].Values.length + 1,\r\n        });\r\n        // console.log(this.dataValues.DD[0].Values);\r\n      }\r\n\r\n      this.dataValues.DD[ASSET_DROPDOWN_TYPE].defValue = getListItemNameFromKey(\r\n        ASSETS,\r\n        nextProps.assetCurr.assetTypeKey,\r\n        this.props.language\r\n      );\r\n      this.dataValues.DD[ASSET_DROPDOWN_OWNER].defValue =\r\n        getListItemNameFromKey(\r\n          ASSET_OWNERSHIP_ACTION,\r\n          nextProps.assetCurr.ownerKey,\r\n          this.props.language\r\n        );\r\n      this.dataValues.DD[ASSET_DROPDOWN_TAXTYPE].defValue =\r\n        getListItemNameFromKey(\r\n          ASSET_TAX,\r\n          nextProps.assetCurr.assetTaxTypeKey,\r\n          this.props.language\r\n        ); //nextProps.assetCurr.Tax;\r\n\r\n      this.dataValues.DD[2].disableOptionValue[1] =\r\n        (APPLET_EP && nextProps.clientsNo === 1) ||\r\n        nextProps.assetCurr.assetTypeKey === ASSETS.LIFE_INSURANCE.Key;\r\n      //APPLET_EP && nextProps.clientsNo === 1;\r\n      if (APPLET_INA && nextProps.clientsNo === 1) {\r\n        nextProps.assetCurr.ownerKey =\r\n          ASSET_OWNERSHIP_ACTION.CLIENT_LIQUIDATE.Key;\r\n        this.dataValues.DD[2].disableOptionValue[1] = true;\r\n        this.dataValues.DD[2].disableOptionValue[2] = true;\r\n        this.dataValues.DD[2].disableOptionValue[3] = true;\r\n      }\r\n\r\n      this.setState({ description: nextProps.assetCurr.description });\r\n      //this.dataValues.DD[3].defValue = nextProps.assetCurr.ownerKey;\r\n\r\n      /* \r\nlet i;\r\n      this.typeValues = [];\r\n       if(this.props.Type===ASSETS[this.props.language].Values[4])\t//\t\t'Registered')  \r\n      {\r\n        this.dataValues.DD[2].defValue =ASSET_TAX[this.props.language].Values[TAX_RRSP] \r\n\r\n      this.typeValues.push({\r\n        label: ASSETS[this.props.language].Values[2],\r\n       });\r\n     }\r\n      else{\r\n      for (i = 0; i <= ASSETS[this.props.language].Values.length; ++i) {\r\n        this.typeValues.push({\r\n        label: ASSETS[this.props.language].Values[i],\r\n        value: i + 1\r\n      });\r\n      }} */\r\n    }\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.setState({ description: this.props.assetCurr.description });\r\n  };\r\n\r\n  handleDoRemove = (id) => {\r\n    if (this.props.disableAddRemove === false) {\r\n      this.props.handleRemoveAsset(id);\r\n    }\r\n  };\r\n\r\n  handleDoAdd = () => {\r\n    if (this.props.disableAddRemove === false) {\r\n      var assNo =\r\n        this.props.assetsNo >\r\n        this.dataValues.DD[ASSET_DROPDOWN_TYPE].Values.length - 1\r\n          ? this.dataValues.DD[ASSET_DROPDOWN_TYPE].Values.length - 2\r\n          : this.props.assetsNo;\r\n      var assNext = this.dataValues.DD[ASSET_DROPDOWN_TYPE].Values[assNo].label;\r\n      if (assNo === 4 || assNo === 5) assNo = 0;\r\n      else\r\n        assNo =\r\n          this.props.assetsNo >\r\n          this.dataValues.DD[ASSET_DROPDOWN_TAXTYPE].Values.length - 1\r\n            ? this.dataValues.DD[ASSET_DROPDOWN_TAXTYPE].Values.length - 1\r\n            : this.props.assetsNo;\r\n      var assTax =\r\n        this.dataValues.DD[ASSET_DROPDOWN_TAXTYPE].Values[assNo].label;\r\n      const assTaxTypeKey = getListItemKeyFromName(\r\n        ASSET_TAX,\r\n        this.dataValues.DD[ASSET_DROPDOWN_TAXTYPE].Values[assNo].label\r\n      );\r\n      // console.log(assTaxTypeKey,assTax )\r\n      let asset = createDefaultAsset(this.props.assetsNo + 1);\r\n      asset.assetTypeKey = getListItemKeyFromName(ASSETS, assNext);\r\n      asset.description = \"\";\r\n      /* asset.ownerKey = APPLET_INA\r\n        ? (this.props.clientsNo === 1?ASSET_OWNERSHIP_ACTION.CLIENT_LIQUIDATE.Key:ASSET_OWNERSHIP_ACTION.CLIENT_ROLLOVER.Key)\r\n        : ASSET_OWNERSHIP_ACTION.CLIENT.Key; // in EP RRSP owner client or spouse */\r\n      if (APPLET_INA) {\r\n        if (this.props.clientsNo === 1)\r\n          asset.ownerKey = ASSET_OWNERSHIP_ACTION.CLIENT_LIQUIDATE.Key;\r\n      } else asset.ownerKey = ASSET_OWNERSHIP_ACTION.CLIENT.Key; // in EP RRSP owner client or spouse\r\n\r\n      if (asset.assetTypeKey === ASSETS.LIFE_INSURANCE.Key)\r\n        asset.ownerKey = ASSET_OWNERSHIP_ACTION.CLIENT_LIQUIDATE.Key;\r\n      asset.assetTaxTypeKey = assTaxTypeKey;\r\n\r\n      asset = this.setAssetValuesToDefault(asset);\r\n\r\n      this.dataValues.DD[ASSET_DROPDOWN_TAXTYPE].Values = this.taxValues;\r\n\r\n      this.props.handleAddAsset(asset);\r\n    }\r\n  };\r\n\r\n  updateDDown = (id, selection) => {\r\n    const { id: propId, assetCurr } = this.props;\r\n\r\n    let asset = copyFromAnotherAsset(assetCurr);\r\n    asset.id = propId;\r\n    if (id === 1) {\r\n      asset = createDefaultAsset(propId);\r\n      asset.assetTypeKey = getListItemKeyFromName(ASSETS, selection);\r\n      asset = this.setAssetValuesToDefault(asset);\r\n     \r\n    } else if (id === 2) {\r\n      asset.ownerKey = getListItemKeyFromName(\r\n        ASSET_OWNERSHIP_ACTION,\r\n        selection\r\n      );\r\n      asset = this.setAssetValuesToDefault(asset);\r\n    } else if (id === 3)\r\n      //asset.Tax = selection;\r\n      asset.assetTaxTypeKey = getListItemKeyFromName(ASSET_TAX, selection);\r\n\r\n    /* asset = this.setAssetValuesToDefault(asset);  */\r\n\r\n    this.props.handleUpdate(asset);\r\n    //if (this.state.displaySreadsheet === true)\r\n    //this.handleUpdateGrid();\r\n  };\r\n  /*  debounceHandleUpdataDesc = debounce(\r\n    (asset) => this.props.handleUpdate(asset),\r\n    500\r\n  ); */\r\n\r\n  updateDesc = (evt) => {\r\n    //console.log(evt.target.value);\r\n    let asset = copyFromAnotherAsset(this.props.assetCurr);\r\n    asset.description = evt.target.value;\r\n    this.props.handleUpdate(asset);\r\n  };\r\n\r\n  handleUpdateInput = (id, value) => {\r\n    //this.setState({ loading: true });\r\n    let asset = copyFromAnotherAsset(this.props.assetCurr);\r\n    asset.id = this.props.id;\r\n    //console.log(value);\r\n    /* let asset = {\r\n      id: this.props.id,\r\n      //Type: this.props.assetCurr.Type,\r\n      assetTypeKey: this.props.assetCurr.assetTypeKey,\r\n      ownerKey: this.props.assetCurr.ownerKey,\r\n      //OwnerID: this.props.assetCurr.OwnerID,\r\n      currValue: this.props.assetCurr.currValue,\r\n      //Tax: this.props.assetCurr.Tax,\r\n      assetTaxTypeKey: this.props.assetCurr.assetTaxTypeKey,\r\n      //TaxID: this.props.assetCurr.TaxID,\r\n      growth: this.props.assetCurr.growth,\r\n      DisposeYr: this.props.assetCurr.DisposeYr,\r\n      DisposeDur: this.props.assetCurr.DisposeDur,\r\n      ACB: this.props.assetCurr.ACB,\r\n      smallBusinessCapGainExemption: this.props.assetCurr\r\n        .smallBusinessCapGainExemption,\r\n      contributionAmt: this.props.assetCurr.contributionAmt,\r\n      contributionStartYr: this.props.assetCurr.contributionStartYr,\r\n      contributionDur: this.props.assetCurr.contributionDur,\r\n      incomeRate: this.props.assetCurr.incomeRate,\r\n      RRIFStartAge: this.props.assetCurr.RRIFStartAge\r\n    };\r\n */\r\n    let changed = false;\r\n    const lang = this.props.language;\r\n    const valueClean = cleanFormat(value, lang);\r\n    const valueCleanInt = parseInt(valueClean);\r\n\r\n    if (id === 2) {\r\n      changed = asset.DisposeYr !== parseInt(value) ? true : false;\r\n      asset.DisposeYr = parseInt(value);\r\n    } else if (id === 3) {\r\n      changed = asset.DisposeDur !== parseInt(value) ? true : false;\r\n      asset.DisposeDur = parseInt(value);\r\n    } else if (id === 4) {\r\n      changed = asset.ACB !== valueCleanInt ? true : false;\r\n      asset.ACB = valueCleanInt;\r\n    } else if (id === 10) {\r\n      changed =\r\n        asset.smallBusinessCapGainExemption !== valueCleanInt ? true : false;\r\n      asset.smallBusinessCapGainExemption = valueCleanInt;\r\n    } else if (id === 1) {\r\n      changed = asset.currValue !== valueCleanInt ? true : false;\r\n      asset.currValue = valueCleanInt;\r\n    } else if (id === 5) {\r\n      changed =\r\n        asset.growth !== parseInt(10000 * valueClean) / 10000 ? true : false;\r\n      asset.growth = parseInt(10000 * valueClean) / 10000;\r\n    } else if (id === 6) {\r\n      changed = asset.contributionAmt !== valueCleanInt ? true : false;\r\n      asset.contributionAmt = valueCleanInt;\r\n    } else if (id === 7) {\r\n      changed = asset.contributionStartYr !== parseInt(value) ? true : false;\r\n      asset.contributionStartYr = parseInt(value);\r\n    } else if (id === 8) {\r\n      changed = asset.contributionDur !== parseInt(value) ? true : false;\r\n      asset.contributionDur = parseInt(value);\r\n    } else if (id === 13) {\r\n      changed = asset.withdrawalAmt !== valueCleanInt ? true : false;\r\n      asset.withdrawalAmt = valueCleanInt;\r\n    } else if (id === 14) {\r\n      changed = asset.withdrawalStartYr !== parseInt(value) ? true : false;\r\n      asset.withdrawalStartYr = parseInt(value);\r\n    } else if (id === 15) {\r\n      changed = asset.withdrawalDur !== parseInt(value) ? true : false;\r\n      asset.withdrawalDur = parseInt(value);\r\n    } else if (id === 9) {\r\n      changed =\r\n        asset.incomeRate !== parseInt(10000 * valueClean) / 10000\r\n          ? true\r\n          : false;\r\n      asset.incomeRate = parseInt(10000 * valueClean) / 10000;\r\n    } else if (id === 11) {\r\n      changed = asset.RRIFStartAge !== parseInt(value) ? true : false;\r\n      asset.RRIFStartAge = parseInt(value);\r\n    } else if (id === 12) {\r\n      changed = asset.description !== value ? true : false;\r\n      asset.description = value;\r\n    }\r\n    if (changed) {\r\n      this.props.handleUpdate(asset);\r\n      this.setState({ loading: this.props.disableAddRemove });\r\n\r\n      //this.setState({ loading: false });\r\n      // this.handleUpdateGrid();\r\n    }\r\n  };\r\n\r\n  updateClientTaxLiability = async () => {\r\n    let dataNA = this.props.getAssetProjection();\r\n    //let appSiteAPI = \"http://localhost:8082\";\r\n    let data = await fetchAssetProjection2(dataNA, this.props.id);\r\n    if (data !== undefined) {\r\n      // console.log(data[ASSET_API_OUTPUT_TaxPayable].numericValues[0]);\r\n\r\n      return data[ASSET_API_OUTPUT_TaxPayable].numericValues;\r\n    }\r\n  };\r\n\r\n  getData = async (dataNA, id) => {\r\n    let data = await fetchAssetProjectionAPI(dataNA, id);\r\n\r\n    return data;\r\n  };\r\n\r\n  handleClickGridButton = () => {\r\n    this.setState({ loading: true });\r\n    const display = this.state.displaySreadsheet;\r\n\r\n    this.props.adjustVisibleOutputSection(display === false ? 1 : -1);\r\n    this.setState({ displaySreadsheet: !display, loading: false });\r\n\r\n    /* if (this.state.displaySreadsheet === true) {\r\n      this.setState(prevState => {\r\n        let display = prevState.displaySreadsheet;\r\n        return { displaySreadsheet: !display,  loading:false };\r\n      });\r\n    }\r\n    else {\r\n      //await this.handleUpdateGrid()\r\n      this.setState(prevState => {\r\n        let display = prevState.displaySreadsheet;\r\n        return { displaySreadsheet: !display,  loading:false };\r\n      });\r\n      } */\r\n  };\r\n\r\n  setAssetValuesToDefault = (asset) => {\r\n    this.dataValues.DD[ASSET_DROPDOWN_TAXTYPE].Values = this.taxValues;\r\n\r\n    if (asset.assetTypeKey === ASSETS.RRSP_RRIF.Key) {\r\n      //value[this.props.language]) {\r\n      //asset.Tax = ASSET_TAX.REGISTERED.value[this.props.language];\r\n      asset.assetTaxTypeKey = ASSET_TAX.REGISTERED.Key;\r\n      if (\r\n        APPLET_INA &&\r\n        this.props.clientsNo > 1 &&\r\n        asset.ownerKey === ASSET_OWNERSHIP_ACTION.JOINT.Key\r\n      ) {\r\n        asset.ownerKey = ASSET_OWNERSHIP_ACTION.CLIENT_ROLLOVER.Key;\r\n      }\r\n    } else if (\r\n      asset.assetTypeKey === ASSETS.PERSONAL_RESIDENCE.Key ||\r\n      asset.assetTypeKey === ASSETS.TFSA.Key //value[this.props.language]\r\n    ) {\r\n      //asset.Tax = ASSET_TAX.NON_TAXABLE.value[this.props.language];\r\n      asset.assetTaxTypeKey = ASSET_TAX.NON_TAXABLE.Key;\r\n      asset.ACB = 0;\r\n      asset.DisposeYr = 99;\r\n      asset.DisposeDur = 1;\r\n      if (asset.assetTypeKey === ASSETS.TFSA.Key && asset.ownerKey === ASSET_OWNERSHIP_ACTION.JOINT.Key)\r\n        asset.ownerKey = ASSET_OWNERSHIP_ACTION.CLIENT_ROLLOVER.Key;\r\n    } else if (asset.assetTypeKey === ASSETS.CASH.Key) {\r\n      //value[this.props.language]) {\r\n      //asset.Tax = ASSET_TAX.NON_TAXABLE.value[this.props.language];\r\n      asset.assetTaxTypeKey = ASSET_TAX.NON_TAXABLE.Key;\r\n\r\n      asset.ACB = 0;\r\n    } else if (\r\n      asset.assetTypeKey === ASSETS.LIFE_INSURANCE.Key //value[this.props.language]\r\n    ) {\r\n      //asset.Tax = ASSET_TAX.NON_TAXABLE.value[this.props.language];\r\n      asset.assetTaxTypeKey = ASSET_TAX.NON_TAXABLE.Key;\r\n\r\n      asset.DisposeYr = APPLET_INA ? 0 : 99;\r\n      asset.DisposeDur = 1;\r\n      asset.ACB = 0;\r\n\r\n      //  asset.ownerKey = APPLET_INA?ASSET_OWNERSHIP_ACTION.CLIENT_LIQUIDATE.Key:ASSET_OWNERSHIP_ACTION.CLIENT_ROLLOVER.Key;  allow spouse ins\r\n    } else if (\r\n      asset.assetTypeKey === ASSETS.STOCKS_BONDS.Key || //value[this.props.language] ||\r\n      asset.assetTypeKey === ASSETS.REAL_ESTATE.Key //value[this.props.language]\r\n    ) {\r\n      //asset.Tax = ASSET_TAX.CAPITAL_GAINS_DEFERRED.value[this.props.language];\r\n      asset.assetTaxTypeKey = ASSET_TAX.CAPITAL_GAINS_DEFERRED.Key;\r\n\r\n      /* this.dataValues.DD[ASSET_DROPDOWN_TAXTYPE].Values = [];\r\n      this.dataValues.DD[ASSET_DROPDOWN_TAXTYPE].Values.push({\r\n        label: ASSET_TAX.CAPITAL_GAINS_DEFERRED.value[this.props.language],\r\n        value: 1,\r\n      });\r\n      this.dataValues.DD[ASSET_DROPDOWN_TAXTYPE].Values.push({\r\n        label: ASSET_TAX.CAPITAL_GAINS_ANNUAL.value[this.props.language],\r\n        value: 2,\r\n      }); */\r\n    } else if (asset.assetTypeKey === ASSETS.SMALL_BUSINESS_SHARES.Key)\r\n      //value[this.props.language])\r\n      //asset.Tax = ASSET_TAX.CAPITAL_GAINS_DEFERRED.value[this.props.language];\r\n      asset.assetTaxTypeKey = ASSET_TAX.QUALIFYING_SMALL_BUSINESS.Key;\r\n    //.CAPITAL_GAINS_DEFERRED.Key;\r\n    else if (asset.assetTypeKey === ASSETS.INTEREST_BEARING.Key)\r\n      asset.assetTaxTypeKey = ASSET_TAX.INTEREST.Key;\r\n    //.FULLY_TAXABLE.Key;\r\n    //asset.assetTaxTypeKey= ASSET_TAX.INTEREST.Key;\r\n    else if (\r\n      asset.assetTypeKey === ASSETS.OTHER_ASSETS.Key //value[this.props.language] ||\r\n    )\r\n      //asset.Tax = ASSET_TAX.FULLY_TAXABLE.value[this.props.language];\r\n      asset.assetTaxTypeKey = ASSET_TAX.FULLY_TAXABLE.Key;\r\n    \r\n    if(APPLET_EP) \r\n      {\r\n        if(asset.assetTypeKey === ASSETS.RRSP_RRIF.Key || asset.assetTypeKey === ASSETS.TFSA.Key)\r\n        {   \r\n         if(asset.ownerKey !== ASSET_OWNERSHIP_ACTION.CLIENT.Key  && asset.ownerKey !== ASSET_OWNERSHIP_ACTION.SPOUSE.Key)\r\n            asset.ownerKey = ASSET_OWNERSHIP_ACTION.CLIENT.Key\r\n        } \r\n      } \r\n      \r\n\r\n\r\n    if (\r\n      asset.ownerKey === ASSET_OWNERSHIP_ACTION.CLIENT_LIQUIDATE.Key //ASSET_OWNERSHIP.CLIENTLIQUIDATE.value[this.props.language]\r\n    ) {\r\n      asset.DisposeYr = 0;\r\n      asset.DisposeDur = 1;\r\n    }\r\n    // console.log(asset)\r\n\r\n    // single person\r\n    if (APPLET_INA && this.props.clientsNo === 1) {\r\n      asset.ownerKey = ASSET_OWNERSHIP_ACTION.CLIENT_LIQUIDATE.Key;\r\n      asset.DisposeYr = 0;\r\n    }\r\n    return asset;\r\n  };\r\n\r\n  clone2 = () => {\r\n    let id = \"assetGrid\";\r\n    if (this.state.displaySreadsheet === true) {\r\n      // console.log(this.state.displaySreadsheet)\r\n\r\n      var itm = document.getElementById(id);\r\n      // console.log(itm)\r\n\r\n      var cln = itm.cloneNode(true);\r\n      cln.id = \"ll\";\r\n      //cln.style.position=\"relative\"\r\n      let cln2 = document.createElement(\"div\");\r\n      cln2.appendChild(cln);\r\n      cln2.id = \"lll\";\r\n      document.addEventListener(\"click\", function (e) {\r\n        if (e.target && e.target.id === \"lll\") {\r\n        }\r\n      });\r\n\r\n      document.getElementById(\"copyDiv\").appendChild(cln2);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      id,\r\n      assetCurr,\r\n      /* Type,\r\n      Owner,\r\n      index,\r\n      currValue,\r\n      Tax,\r\n      growth,\r\n      Dispos\r\n      eYr,\r\n      DisposeDur,\r\n      ACB,\r\n      smallBusinessCapGainExemption,\r\n      contributionAmt,\r\n      contributionStartYr,\r\n      contributionDur,\r\n      incomeRate, */\r\n      language,\r\n      themeColor,\r\n      assetsNo,\r\n    } = this.props;\r\n    const assetID = assetCurr.assetTypeKey; //ASSETS.INTEREST_BEARING.value[this.props.language]\r\n    //Object.values(ASSETS).filter(obj => obj.value[language]=== assetCurr.Type)[0].Key\r\n    let disableTaxMethods =\r\n      assetCurr.assetTypeKey === ASSETS.LIFE_INSURANCE.Key || //value[language] ||\r\n      assetCurr.assetTypeKey === ASSETS.CASH.Key || //value[language] ||\r\n      assetCurr.assetTypeKey === ASSETS.PERSONAL_RESIDENCE.Key || //value[language] ||\r\n      assetCurr.assetTypeKey === ASSETS.TFSA.Key || //value[language] ||\r\n      assetCurr.assetTypeKey === ASSETS.RRSP_RRIF.Key || //value[language] ||\r\n      assetCurr.assetTypeKey === ASSETS.INTEREST_BEARING.Key ||\r\n      assetCurr.assetTypeKey === ASSETS.SMALL_BUSINESS_SHARES.Key\r\n        ? true\r\n        : false;\r\n    const disableOwner = false; // allow ins for both\r\n    const insurance = assetCurr.assetTypeKey === ASSETS.LIFE_INSURANCE.Key;\r\n\r\n    const taxStocks = assetCurr.assetTypeKey === ASSETS.STOCKS_BONDS.Key;\r\n    const taxRS = assetCurr.assetTypeKey === ASSETS.REAL_ESTATE.Key;\r\n\r\n    // assetCurr.assetTypeKey === ASSETS.LIFE_INSURANCE.Key ? true : false;\r\n    let hideOwner = false;\r\n    if(APPLET_EP && this.props.assetCurr.assetTypeKey !== ASSETS.RRSP_RRIF.Key && this.props.assetCurr.assetTypeKey !== ASSETS.TFSA.Key)\r\n        hideOwner = true;\r\n\r\n    const taxT = CONTROLTITLE[language].tax;\r\n    const ownerT = CONTROLTITLE[language].owner;\r\n    const assetTypeIns =\r\n      CONTROLTITLE[language].type &&\r\n      assetCurr.assetTypeKey === ASSETS.LIFE_INSURANCE.Key;\r\n\r\n    let assetTax = MESSAGES[language].assetTax;\r\n\r\n    //const taxCredit=assetCurr.Type === UNLISTED[this.props.language].Assets.Values[ASSET_TaxCredit]\r\n    const taxCredit =\r\n      assetCurr.Type ===\r\n      ASSETS.CHARITABLE_GIFTS_TAX_CREDIT.value[this.props.language];\r\n\r\n    const rrsp = assetCurr.assetTaxTypeKey === ASSET_TAX.REGISTERED.Key; //value[language];\r\n    const showACB = !(\r\n      //assetCurr.Tax === ASSET_TAX.NON_TAXABLE.value[language] ||\r\n      (\r\n        assetCurr.assetTaxTypeKey === ASSET_TAX.NON_TAXABLE.Key || //value[language] ||\r\n        rrsp ||\r\n        assetCurr.assetTypeKey === ASSETS.INTEREST_BEARING.Key || //value[language] ||\r\n        //assetCurr.Tax === ASSET_TAX.CAPITAL_GAINS_ANNUAL.value[language]\r\n        assetCurr.assetTaxTypeKey === ASSET_TAX.CAPITAL_GAINS_ANNUAL.Key\r\n      )\r\n    );\r\n    const showIncome =\r\n    //  APPLET_INA &&\r\n      assetCurr.assetTaxTypeKey === ASSET_TAX.CAPITAL_GAINS_DEFERRED.Key;\r\n    //assetCurr.Tax === ASSET_TAX.CAPITAL_GAINS_DEFERRED.value[language] ||\r\n    /* (APPLET_EP &&\r\n        (assetCurr.assetTaxTypeKey === ASSET_TAX.CAPITAL_GAINS_DEFERRED.Key ||\r\n        assetCurr.assetTypeKey === ASSETS.OTHER_ASSETS.Key || //value[language] ||\r\n          rrsp)) ||\r\n      (APPLET_INA &&\r\n        rrsp &&\r\n       assetCurr.ownerKey !== ASSET_OWNERSHIP_ACTION.CLIENT_LIQUIDATE.Key); //ASSET_OWNERSHIP.CLIENTLIQUIDATE.value[this.props.language]\r\n     */\r\n\r\n    const showDur = !(\r\n      rrsp ||\r\n      assetCurr.assetTypeKey === ASSETS.PERSONAL_RESIDENCE.Key || //value[language] ||\r\n      assetCurr.assetTypeKey === ASSETS.REAL_ESTATE.Key || //value[language] ||\r\n      taxCredit ||\r\n      ASSET_OWNERSHIP_ACTION.CLIENT_LIQUIDATE.Key\r\n    );\r\n    const showGrowth = !(\r\n      (\r\n        assetCurr.assetTypeKey === ASSETS.LIFE_INSURANCE.Key ||\r\n        assetCurr.assetTypeKey === ASSETS.CASH.Key || //value[language] ||\r\n        taxCredit ||\r\n        assetCurr.ownerKey === ASSET_OWNERSHIP_ACTION.CLIENT_LIQUIDATE.Key\r\n      ) //ASSET_OWNERSHIP.CLIENTLIQUIDATE.value[this.props.language]\r\n    );\r\n\r\n    const showDispose = !(\r\n      rrsp ||\r\n      (APPLET_INA && assetCurr.assetTypeKey === ASSETS.LIFE_INSURANCE.Key) || //value[language] ||\r\n      assetCurr.ownerKey === ASSET_OWNERSHIP_ACTION.CLIENT_LIQUIDATE.Key || //ASSET_OWNERSHIP.CLIENTLIQUIDATE.value[this.props.language]\r\n      taxCredit\r\n    );\r\n\r\n    let showContribution = //APPLET_EP &&\r\n      (APPLET_EP || (APPLET_INA && assetCurr.ownerKey !== ASSET_OWNERSHIP_ACTION.CLIENT_LIQUIDATE.Key)) && //ASSET_OWNERSHIP.CLIENTLIQUIDATE.value[this.props.language]\r\n      (rrsp ||\r\n        assetCurr.assetTypeKey === ASSETS.INTEREST_BEARING.Key || //value[language] ||\r\n        assetCurr.assetTypeKey === ASSETS.STOCKS_BONDS.Key ||\r\n        assetCurr.assetTypeKey === ASSETS.TFSA.Key); //value[language];\r\n    let showWithdrawal =\r\n      (APPLET_EP ||\r\n        (APPLET_INA && assetCurr.withdrawalAmt > 0) ||\r\n        APPLET_INA) &&\r\n      assetCurr.ownerKey !== ASSET_OWNERSHIP_ACTION.CLIENT_LIQUIDATE.Key && //ASSET_OWNERSHIP.CLIENTLIQUIDATE.value[this.props.language]\r\n      (assetCurr.assetTypeKey === ASSETS.INTEREST_BEARING.Key || //value[language] ||\r\n        assetCurr.assetTypeKey === ASSETS.STOCKS_BONDS.Key ||\r\n        rrsp ||\r\n        assetCurr.assetTypeKey === ASSETS.TFSA.Key); //value[language];\r\n\r\n     // if client rollover dont contribute to rrsp ortfsa\r\n    if (\r\n      APPLET_INA &&\r\n      assetCurr.ownerKey === ASSET_OWNERSHIP_ACTION.CLIENT_ROLLOVER.Key &&\r\n      (rrsp || assetCurr.assetTypeKey === ASSETS.TFSA.Key)\r\n    ) {\r\n      showContribution = false;\r\n      showWithdrawal = false;\r\n    }\r\n    \r\n    const showCGE = assetCurr.assetTypeKey === ASSETS.SMALL_BUSINESS_SHARES.Key; //value[language]\r\n    // console.log(this.dataValues);\r\n\r\n    let gridIcons = new Array(this.dataColTitles.length);\r\n    this.dataColTitles.forEach((item) => {\r\n      if (item === COLUMN_TITLES[this.props.language].TaxLiability)\r\n        gridIcons[this.dataColTitles.length - 1] =\r\n          getInfoTaxLiability(language);\r\n    });\r\n\r\n    //const disableDD=(dd.Title === CONTROLTITLE[language].owner && disableOwner)  || (dd.Title === taxT && disableTaxMethods) || (taxCredit && (dd.Title === taxT || dd.Title ===CONTROLTITLE[this.props.language].ownerAction))\r\n    let disableAll = false;\r\n    if (\r\n      this.props.assetCurr.assetTypeKey ===\r\n      ASSETS.CHARITABLE_GIFTS_TAX_CREDIT.Key\r\n    ) {\r\n      disableAll = true;\r\n      this.dataValues.DD[ASSET_DROPDOWN_TYPE].Values.push({\r\n        label: ASSETS.CHARITABLE_GIFTS_TAX_CREDIT.value[this.props.language],\r\n        value: this.dataValues.DD[ASSET_DROPDOWN_TYPE].Values.length + 1,\r\n      });\r\n    }\r\n\r\n    const p =\r\n      this.props.projection[this.props.assetCurr.id - 1] === undefined\r\n        ? null\r\n        : this.props.projection[this.props.assetCurr.id - 1].grid;\r\n\r\n    this.dataValues.DD[0].disableOptionValue[ASSETS.PERSONAL_RESIDENCE.ID] =\r\n      this.props.hasPersonalResidenceAlready; // disable more\r\n\r\n    this.dataValues.DD[2].disableOptionValue[1] =\r\n      (APPLET_EP && this.props.clientsNo === 1) ||\r\n      assetCurr.assetTypeKey === ASSETS.LIFE_INSURANCE.Key;\r\n\r\n    this.dataValues.DD[2].disableOptionValue[3] =\r\n      this.props.assetCurr.assetTypeKey === ASSETS.TFSA.Key ||\r\n      this.props.assetCurr.assetTypeKey === ASSETS.RRSP_RRIF.Key;\r\n\r\n    // single person\r\n    if (APPLET_INA && this.props.clientsNo === 1) {\r\n      this.dataValues.DD[2].disableOptionValue[1] = true;\r\n      this.dataValues.DD[2].disableOptionValue[2] = true;\r\n      this.dataValues.DD[2].disableOptionValue[3] = true;\r\n    }\r\n\r\n    //console.log(this.props.assetCurr.projection, this.props.projection[0].grid);\r\n    if (this.state.loading === true && this.props.disableAddRemove === true) {\r\n      return \"\";\r\n    } else {\r\n      return (\r\n        <div className=\"inputRow\">\r\n          {this.dataValues.DD.map((dd) =>\r\n            dd.id < 4 ? (\r\n              !(hideOwner === true && dd.id === 2) && (\r\n                <DropDown\r\n                  key={dd.id.toString()}\r\n                  id={dd.id}\r\n                  Count={assetsNo}\r\n                  Title={dd.Title}\r\n                  disable={\r\n                    disableAll === true ||\r\n                    (dd.Title === CONTROLTITLE[language].owner &&\r\n                      disableOwner) ||\r\n                    (dd.Title === taxT && disableTaxMethods) ||\r\n                    (taxCredit &&\r\n                      (dd.Title === taxT ||\r\n                        dd.Title ===\r\n                          CONTROLTITLE[this.props.language].ownerAction))\r\n                  }\r\n                  defValue={dd.defValue}\r\n                  unlistedValue={\r\n                    taxCredit\r\n                      ? ASSETS.CHARITABLE_GIFTS_TAX_CREDIT.value[\r\n                          this.props.language\r\n                        ]\r\n                      : \"\"\r\n                  } // TODO ideally find in list of values\r\n                  Values={dd.Values}\r\n                  //info={dd.Title === \"Type\" && id === 1 ? assetTax : \"\"}\r\n                  infoIcon={\r\n                    (dd.Title === ownerT && assetCurr.id === 1\r\n                      ? getInfoIconAssetsOwner(this.props.language)\r\n                      : assetTypeIns\r\n                      ? getInfoIconAssetsIns(this.props.language)\r\n                      : undefined) ||\r\n                    (dd.Title === CONTROLTITLE[language].type &&\r\n                    (this.props.assetCurr.assetTypeKey === ASSETS.TFSA.Key ||\r\n                      this.props.assetCurr.assetTypeKey ===\r\n                        ASSETS.RRSP_RRIF.Key)\r\n                      ? getInfoIconTFSA(this.props.language)\r\n                      : undefined) ||\r\n                    (dd.Title === CONTROLTITLE[language].tax &&\r\n                    this.props.assetCurr.id === 1 &&\r\n                    APPLET_INA\r\n                      ? getInfoIconTaxLiab(this.props.language)\r\n                      : undefined)\r\n                  }\r\n                  language={language}\r\n                  //   disableOption={dd.disableOptionValue}\r\n                  disableOption={\r\n                    dd.id !== 3\r\n                      ? dd.disableOptionValue\r\n                      : taxStocks || taxRS\r\n                      ? this.DDTax.disableOptionValue\r\n                      : dd.disableOptionValue\r\n                  }\r\n                  width={DROPDOWN_WIDE}\r\n                  updateDDown={this.updateDDown}\r\n                />\r\n              )\r\n            ) : (\r\n              <div className=\"dropDown inputDiv\">\r\n                <div className=\"controlTitle\">\r\n                  {CONTROLTITLE[this.props.language].desc}\r\n                </div>\r\n                <input\r\n                  key={dd.id.toString()}\r\n                  id={12}\r\n                  className=\"inputField  textareaAssetName\"\r\n                  value={this.state.description}\r\n                  onClick={this.select}\r\n                  type=\"text\"\r\n                  onChange={(evt) =>\r\n                    this.setState({ description: evt.target.value })\r\n                  }\r\n                  onBlur={(evt) => this.updateDesc(evt)}\r\n                />\r\n\r\n                {/* \r\n              <input\r\n                id={12}\r\n                type=\"text\"\r\n                className=\"inputField  textareaAssetName\"\r\n                onChange={this.updateDesc}\r\n                value={assetCurr.description}\r\n              /> */}\r\n              </div>\r\n            )\r\n          )}\r\n          <InputField\r\n            inputName={\r\n              insurance\r\n                ? CONTROLTITLE[language].FA\r\n                : CONTROLTITLE[language].amount\r\n            }\r\n            id={1}\r\n            format={2}\r\n            Count={assetsNo}\r\n            language={language}\r\n            inputValue={assetCurr.currValue}\r\n            handleUpdateInput={this.handleUpdateInput}\r\n          />\r\n\r\n          {showGrowth && (\r\n            <InputField\r\n              inputName={CONTROLTITLE[language].growth}\r\n              format={3}\r\n              id={5}\r\n              Count={assetsNo}\r\n              language={language}\r\n              inputValue={Math.round(10000 * assetCurr.growth) / 10000}\r\n              inputTitle={id}\r\n              handleUpdateInput={this.handleUpdateInput}\r\n            />\r\n          )}\r\n\r\n          {showDispose && (\r\n            <InputField\r\n              inputName={\r\n                APPLET_INA\r\n                  ? CONTROLTITLE[language].disposeYr\r\n                  : CONTROLTITLE[language].disposeYr\r\n              } //CONTROLTITLE[language].dur}\r\n              id={2}\r\n              //info={MESSAGES[language].infoYr0}\r\n              infoIcon={getInfoIconAssetsYr0(this.props.language)}\r\n              format={1}\r\n              Count={assetsNo}\r\n              language={language}\r\n              inputValue={assetCurr.DisposeYr}\r\n              handleUpdateInput={this.handleUpdateInput}\r\n            />\r\n          )}\r\n          {showDur && (\r\n            <InputField\r\n              inputName={CONTROLTITLE[language].disposeDur}\r\n              id={3}\r\n              format={1}\r\n              Count={assetsNo}\r\n              language={language}\r\n              inputValue={assetCurr.DisposeDur}\r\n              handleUpdateInput={this.handleUpdateInput}\r\n            />\r\n          )}\r\n          {(rrsp) &&  //|| this.props.assetCurr.assetTypeKey === ASSETS.TFSA.Key) &&\r\n            assetCurr.ownerKey !== //ASSET_OWNERSHIP.CLIENTLIQUIDATE.value[this.props.language]\r\n              ASSET_OWNERSHIP_ACTION.CLIENT_LIQUIDATE.Key && (\r\n              <InputField\r\n                inputName={CONTROLTITLE[language].RRIFAge}\r\n                format={1}\r\n                id={11}\r\n                Count={assetsNo}\r\n                infoIcon={getInfoIconSourcesRRIF(this.props.language)}\r\n                language={language}\r\n                inputValue={assetCurr.RRIFStartAge}\r\n                handleUpdateInput={this.handleUpdateInput}\r\n              />\r\n            )}\r\n          {showIncome && (\r\n            <InputField\r\n              inputName={\r\n                rrsp\r\n                  ? CONTROLTITLE[language].RRIFRate\r\n                  : CONTROLTITLE[language].incomeRate\r\n              }\r\n              format={3}\r\n              id={9}\r\n              Count={assetsNo}\r\n              infoIcon={getInfoIconAssetsIncomeRate(this.props.language)}\r\n              language={language}\r\n              inputValue={Math.round(10000 * assetCurr.incomeRate) / 10000}\r\n              handleUpdateInput={this.handleUpdateInput}\r\n            />\r\n          )}\r\n\r\n          {showCGE && (\r\n            <InputField\r\n              inputName={CONTROLTITLE[language].smallBusinessCapGainExemption}\r\n              format={2}\r\n              id={10}\r\n              Count={assetsNo}\r\n              language={language}\r\n              infoIcon={getInfoIconTaxExempt(this.props.language)}\r\n              inputValue={assetCurr.smallBusinessCapGainExemption}\r\n              handleUpdateInput={this.handleUpdateInput}\r\n            />\r\n          )}\r\n          {showACB && (\r\n            <InputField\r\n              inputName={CONTROLTITLE[language].ACB}\r\n              format={2}\r\n              id={4}\r\n              Count={assetsNo}\r\n              language={language}\r\n              inputValue={assetCurr.ACB}\r\n              //{/*readOnly={disableTaxMethods}*/}\r\n\r\n              handleUpdateInput={this.handleUpdateInput}\r\n            />\r\n          )}\r\n\r\n          {showContribution && (\r\n            <div>\r\n              <InputField\r\n                inputName={CONTROLTITLE[language].contributionAmt}\r\n                id={6}\r\n                format={2}\r\n                Count={assetsNo}\r\n                language={language}\r\n                inputValue={assetCurr.contributionAmt}\r\n                infoIcon={getInfoIconDepositWithd(this.props.language)}\r\n                colorDiv={\"green\"}\r\n                handleUpdateInput={this.handleUpdateInput}\r\n              />\r\n              {/* <InputField\r\n              inputName={CONTROLTITLE[language].contributionStartYr}\r\n              id={7}\r\n              format={1}\r\n              //info={MESSAGES[language].infoYr0}\r\n              Count={assetsNo}\r\n              language={language}\r\n              inputValue={assetCurr.contributionStartYr}\r\n              handleUpdateInput={this.handleUpdateInput}\r\n            />  */}\r\n              <InputField\r\n                inputName={CONTROLTITLE[language].contributionDur}\r\n                id={8}\r\n                format={1}\r\n                Count={assetsNo}\r\n                language={language}\r\n                inputValue={assetCurr.contributionDur}\r\n                colorDiv={\"green\"}\r\n                handleUpdateInput={this.handleUpdateInput}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {showWithdrawal && (\r\n            <div>\r\n              <InputField\r\n                inputName={CONTROLTITLE[language].withdrawalAmt}\r\n                id={13}\r\n                format={2}\r\n                Count={assetsNo}\r\n                language={language}\r\n                inputValue={assetCurr.withdrawalAmt}\r\n                colorDiv={\"red\"}\r\n                handleUpdateInput={this.handleUpdateInput}\r\n              />\r\n              <InputField\r\n                inputName={CONTROLTITLE[language].withdrawalStartYr}\r\n                id={14}\r\n                format={1}\r\n                //info={MESSAGES[language].infoYr0}\r\n                Count={assetsNo}\r\n                language={language}\r\n                inputValue={assetCurr.withdrawalStartYr}\r\n                minValue={1}\r\n                colorDiv={\"red\"}\r\n                handleUpdateInput={this.handleUpdateInput}\r\n              />\r\n              <InputField\r\n                inputName={CONTROLTITLE[language].withdrawalDur}\r\n                id={15}\r\n                format={1}\r\n                Count={assetsNo}\r\n                language={language}\r\n                inputValue={assetCurr.withdrawalDur}\r\n                colorDiv={\"red\"}\r\n                handleUpdateInput={this.handleUpdateInput}\r\n              />\r\n            </div>\r\n          )}\r\n          {/*  <svg\r\n          className=\"iconMore\"\r\n          onClick={this.handleClickGridButton}\r\n          style={{ top: \"140px\" }}\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"24\"s\r\n          height=\"24\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path d=\"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z\" />\r\n        </svg> */}\r\n          {!taxCredit && !disableAll && (\r\n            <GridButton\r\n              className=\"iconMore\"\r\n              handleClickGridButton={this.handleClickGridButton}\r\n              id=\"gridOn\"\r\n              alt=\"ll\"\r\n              src={\r\n                this.state.displaySreadsheet === true\r\n                  ? require(\"../images/gridOff.png\")\r\n                  : require(\"../images/gridOn.png\")\r\n              }\r\n            />\r\n          )}\r\n\r\n          <AddRemove\r\n            currentID={id}\r\n            minComps={0}\r\n            //currentIndex={index}\r\n            id={assetID}\r\n            numberComps={assetsNo}\r\n            disabled={this.props.disableAddRemove}\r\n            handleDoAdd={this.handleDoAdd}\r\n            handleDoRemove={this.handleDoRemove}\r\n          />\r\n          {/* {isMobileDevice() && id < assetsNo ? <hr className=\"ppi2\" /> : \"\"} */}\r\n\r\n          {this.state.displaySreadsheet === true && (\r\n            <div\r\n              id=\"assetGrid\"\r\n              style={{\r\n                clear: \"both\",\r\n                float: \"left\",\r\n              }} /*    onClick={this.clone2}  */\r\n            >\r\n              {p !== null && (\r\n                <ProjectionGrid1 assetProjection={p} lang={language} />\r\n              )}{\" \"}\r\n            </div>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactExport from \"react-data-export\";\r\nimport { cleanFormat } from \"../../utils/helper\";\r\nimport { APPLET_INA,\r\n  APPLET_EP\r\n} from \"../../definitions/generalDefinitions\";\r\n\r\n\r\nconst ExcelFile = ReactExport.ExcelFile;\r\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\r\n\r\nexport default class DownloadExcel extends React.Component {\r\n  render() {\r\n    // see https://github.com/securedeveloper/react-data-export for formatting\r\n    const styleCell = { alignment: { horizontal: \"right\" } ,font: {name: \"Trebuchet MS\"} , numFmt: \"##,##0\" };\r\n    const styleCellCol1 = { alignment: { horizontal: \"right\" } ,font: {name: \"Trebuchet MS\"} , numFmt: \"0\" };\r\n    const styleCellAlt = { alignment: { horizontal: \"right\" } ,font: {name: \"Trebuchet MS\"}, fill: { patternType: \"solid\", fgColor: { rgb: \"E9EAEB\" }}, numFmt: \"##,##0\" };\r\n    const styleCellAltCol1 = { alignment: { horizontal: \"right\" } ,font: {name: \"Trebuchet MS\"}, fill: { patternType: \"solid\", fgColor: { rgb: \"E9EAEB\" }}, numFmt: \"0\" };\r\n    const styleTitleRowInfo = {\r\n      font: {name: \"Trebuchet MS\", color: { rgb: \"FFFFFF\" }, bold: true},\r\n      alignment: { wrapText: true,horizontal: \"center\" },\r\n      border: {\r\n        top: { style: \"thin\", color: { rgb: \"C0C0C0\" } },\r\n        bottom: { style: \"thin\", color: { rgb: \"C0C0C0\" } },\r\n        right: { style: \"thin\", color: { rgb: \"C0C0C0\" } },\r\n        left: { style: \"thin\", color: { rgb: \"C0C0C0\" } }\r\n      },\r\n      fill: { patternType: \"solid\", fgColor: { rgb: \"7399c6\" } }\r\n    };\r\n    const styleCellLeftAllign = { alignment: { horizontal: \"left\" },font: {name: \"Trebuchet MS\"}};\r\n    const styleTitleRow = {\r\n      font: {name: \"Trebuchet MS\", color: { rgb: \"FFFFFF\" }, bold: true},\r\n      alignment: {wrapText: true , horizontal: \"center\" },\r\n      border: {\r\n        top: { style: \"thin\", color: { rgb: \"C0C0C0\" } },\r\n        bottom: { style: \"thin\", color: { rgb: \"C0C0C0\" } },\r\n        right: { style: \"thin\", color: { rgb: \"C0C0C0\" } },\r\n        left: { style: \"thin\", color: { rgb: \"C0C0C0\" } }\r\n      },\r\n      fill: { patternType: \"solid\", fgColor: { rgb: \"334D7C\" } }\r\n     \r\n    };\r\n\r\n    let excelColumnsDataInfoSection = [];\r\n    let title = [];\r\n    let dataBodyTitles = []\r\n    let dataBody = [];\r\n    let dataRow = [];\r\n    let j;\r\n    let i;\r\n    let dataCell;\r\n\r\n    // console.log(this.props.excelColumnsDataInfoSection);\r\n\r\n    // section 1 title and header data\r\n    dataRow = [];\r\n    const lang = this.props.language;\r\n    \r\n    // always name and its value: length 2\r\n\r\n    if (this.props.excelColumnsDataInfoSection !== undefined) {\r\n      for (j = 0; j < this.props.excelColumnsDataInfoSection.length; ++j) {\r\n        for (i = 0; i < this.props.excelColumnsDataInfoSection[0].length; ++i) {\r\n           dataCell =\r\n            this.props.excelColumnsDataInfoSection[j][i] === undefined\r\n              ? \"\"\r\n              : (this.props.excelColumnsDataInfoSection[j][i].toString().indexOf(\"%\")>=0 || isNaN(this.props.excelColumnsDataInfoSection[j][i].toString())===true  || this.props.excelColumnsDataInfoSection[j][i].toString()===\"\" ?\r\n              this.props.excelColumnsDataInfoSection[j][i].toString():\r\n                parseFloat(cleanFormat(this.props.excelColumnsDataInfoSection[j][i]),lang));\r\n          dataRow.push({\r\n            value: dataCell,\r\n            style: j === 0 ? styleTitleRowInfo : styleCell\r\n          });\r\n        }\r\n        excelColumnsDataInfoSection.push(dataRow);\r\n        dataRow = [];\r\n      }\r\n    }\r\n\r\n    // section 2 column headers and data\r\n    // add column titles as first data row to be able to style with another stupid libaray\r\n    // empty titles\r\n\r\n    if (this.props.excelColumnsHeaders !== undefined) {\r\n\r\n      title.push([{ value: this.props.title, style: {font: {sz: \"14\", name: \"Trebuchet MS\", bold: true}}}]);\r\n      \r\n      for (j = 0; j < this.props.excelColumnsHeaders.length; ++j) {\r\n        dataBodyTitles.push({ title: \"\", width: { wpx: this.props.width }, font: {name: \"Trebuchet MS\", bold: true}} );\r\n      }\r\n\r\n      for (j = 0; j < this.props.excelColumnsHeaders.length; ++j) {\r\n        \r\n        dataRow.push({ value: this.props.excelColumnsHeaders[j], style: styleTitleRow });\r\n      }\r\n      dataBody.push(dataRow);\r\n    }\r\n\r\n    dataRow = [];\r\n    if (this.props.excelColumnsDataMain !== undefined) {\r\n      for (i = 0; i < this.props.excelColumnsDataMain[0].length; ++i) {\r\n        for (j = 0; j < this.props.excelColumnsHeaders.length; ++j) {\r\n          dataCell =\r\n            this.props.excelColumnsDataMain[j][i] === undefined\r\n              ? \"\"\r\n              :(this.props.excelColumnsDataMain[j][i].toString().indexOf(\"%\")>=0 || isNaN(this.props.excelColumnsDataMain[j][i].toString())===true  || this.props.excelColumnsDataMain[j][i].toString()===\"\" ?\r\n              this.props.excelColumnsDataMain[j][i].toString():\r\n                parseFloat(cleanFormat(this.props.excelColumnsDataMain[j][i]),lang));\r\n\r\n          dataRow.push({\r\n            value: dataCell,\r\n            style: isNaN(parseFloat(cleanFormat(dataCell,lang)))\r\n              ? styleCellLeftAllign\r\n              : (i%2?(j===0?styleCellAltCol1:styleCellAlt):(j===0?styleCellCol1:styleCell))\r\n          });\r\n        }\r\n        dataBody.push(dataRow);\r\n        dataRow = [];\r\n      }\r\n    }\r\n    const multiDataSet = [\r\n      // section 1 title\r\n      {\r\n        columns: [],\r\n        data: title\r\n      },\r\n      // section 1 key values\r\n      {\r\n        columns: [],\r\n        data: excelColumnsDataInfoSection\r\n      },\r\n\r\n      // section 2\r\n      {\r\n        xSteps: 0,\r\n        ySteps: 1,\r\n        columns: dataBodyTitles,\r\n        data: dataBody\r\n      }\r\n    ];\r\n    var tempDate = new Date();\r\n    var date = tempDate.getDate()+ tempDate.toLocaleString('en-us', { month: 'short' })  + tempDate.getFullYear()\r\n\r\n    if (this.props.downloadNow === 0) return \"\";\r\n    else\r\n      return (\r\n        <ExcelFile hideElement={true} filename= {(APPLET_INA?\"INA\":\"PYE\") + \"_Data_\" + date}>\r\n          <ExcelSheet dataSet={multiDataSet} name={APPLET_INA?\"INAd\":\"PYE\" }/>\r\n        </ExcelFile>\r\n      );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n//import { ReactComponent as Icon} from './icon.svg';\r\nimport \"./ExcelToolbar.css\";\r\n\r\nconst defaultToolbarStyles = {\r\n    iconButton: {\r\n    },\r\n};\r\n\r\nexport default class ExcelToolbar extends React.Component {\r\n\r\n    handleClick = () => {\r\n        this.props.setExcel();\r\n    };\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        // console.log(\"classes\", classes)\r\n        const title=<span  style={{fontSize: '12px', marginBottom: '0px', margin: '0px', padding: '0px' }}  >{this.props.excelToolbarText}</span>\r\n        return (\r\n            <React.Fragment>\r\n                <Tooltip placement='left-end' style={{fontSize: '12px', margin: '0px', padding: '0px' }}   title={title}>\r\n                    <IconButton  onClick={this.handleClick}>\r\n                        <svg className=\"icon\" xmlns=\"http://www.w3.org/2000/svg\"   padding= '0px' width=\"30\" height=\"30\"  viewBox=\"0 0 24 24\"><path d=\"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z\"/></svg>\r\n                    </IconButton>\r\n                </Tooltip>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n}\r\n","import React from \"react\";\r\nimport MUIDataTable from \"mui-datatables\";\r\nimport {\r\n  Typography,\r\n  TableRow,\r\n  TableCell,\r\n  Card,\r\n  CardContent\r\n} from \"@material-ui/core\";\r\nimport { createMuiTheme, MuiThemeProvider } from \"@material-ui/core/styles\";\r\nimport {GRID_INTERNAL_CAPTIONS} from '../../definitions/generalDefinitions';\r\n//import DownloadExcel from './DownloadExcel'\r\nimport DownloadExcel from \"./DownloadExcel\";\r\nimport ExcelToolbar from \"./ExcelToolbar\";\r\n//import PrintToolbar from \"./printToolbar\";\r\nimport {\r\n  getInfoIconNotes\r\n} from \"../../definitions/infoIconsDefinitions.js\";\r\nimport { Info } from \"../Info\";\r\n\r\n\r\nexport default class Datatable extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      downloadExcelNow: 0\r\n    };\r\n  }\r\n\r\n\r\n\r\n  getMuiTheme = () =>\r\n    createMuiTheme({\r\n      typography: {\r\n        fontFamily: '\"Trebuchet MS\"',\r\n        fontSize: 11,\r\n        fontWeight: \"100\"\r\n      },\r\n      overrides: {\r\n        MUIDataTable: {\r\n          tableRoot: {\r\n            margin: 0,\r\n            \r\n          },\r\n          paper: {\r\n            boxShadow: \"none\",\r\n            borderBottom:\"1px solid rgb(150, 150, 150)\",\r\n            borderRight:\"1px solid rgb(200, 200, 200)\",\r\n          }\r\n        },\r\n        MuiTableRow: {\r\n          root: {\r\n            //for the body\r\n            height: \"100%\"\r\n          },\r\n          head: {\r\n            //for the head\r\n            height: \"100%\"\r\n          },\r\n          footer: {\r\n            display: \"none\"\r\n          }\r\n        },\r\n        MuiTableCell: {\r\n          head: {\r\n            fontSize: \".8rem\"\r\n          },\r\n          \r\n          sizeSmall: {\r\n            padding: \"8px 3px 8px 3px\"\r\n          }\r\n\r\n        },\r\n        MUIDataTableToolbar: {\r\n          root: {\r\n            paddingLeft: \"0px\"\r\n          },\r\n          titleRoot: {\r\n            fontSize: 24,\r\n            fontWeight: 'bold'\r\n          },\r\n          icon: {\r\n            fontSize: 24\r\n          }\r\n        },\r\n        MUIDataTableBodyCell: {\r\n          root: {\r\n            backgroundColor: \"#FF0000\"\r\n           }\r\n        },\r\n        MUITypography: {\r\n          root: {\r\n            backgroundColor: \"blue\"\r\n           },\r\n           \r\n            body2: {\r\n              color: 'blue',\r\n            },\r\n        },\r\n        MUITablePagination: {\r\n          caption: {\r\n              value: 'blue',\r\n            },\r\n        }\r\n      }\r\n    });\r\n\r\n  setExcel = () => {\r\n    let downloadNow = this.state.downloadExcelNow === 1 ? 0 : 1;\r\n    this.setState({ downloadExcelNow: downloadNow });\r\n  };\r\n\r\n  render() {\r\n    let data = [];\r\n    let dataRow = [];\r\n    let j;\r\n    let i;\r\n\r\n\r\n    \r\n    let unit=65\r\n    let factor=1.3\r\n    if(this.props.dataColTitles.length<4) // for liabs\r\n      unit=95\r\n   \r\n      let divStyle={ width: factor*unit*(this.props.dataColTitles.length),  marginBottom:\"10px\"  }   \r\n    if(factor*unit*this.props.dataColTitles.length>(1/factor)* window.innerWidth)\r\n    {\r\n      unit=((1/factor)*window.innerWidth/(factor*this.props.dataColTitles.length))\r\n      divStyle={ width: factor*unit*(this.props.dataColTitles.length) }   \r\n    \r\n    } \r\n     if(unit<60)\r\n    {\r\n      unit=60 \r\n      divStyle={ width: \"100%\" } \r\n    } \r\n    \r\n    \r\n    let columns = [];\r\n\r\n    if (this.props.dataProjection !== undefined) {\r\n    \r\n      for (i = 0; i < this.props.dataProjection[0].length; ++i) {\r\n        for (j = 0; j < this.props.dataColTitles.length; ++j) {\r\n          if(j<1)\r\n          dataRow.push(this.props.dataProjection[j][i]);\r\n          else\r\n          dataRow.push(this.props.dataProjection[j][i]);\r\n        }\r\n        data.push(dataRow);\r\n        dataRow = [];\r\n      }\r\n\r\n      // build and style header and columns\r\n      let widthCustom =unit;// Math.max(80,6 * this.props.dataColTitles.length); //+'%';\r\n      let styleHeader = {\r\n        backgroundColor: \"#334d7c\",\r\n        color: \"#FFFFFF\",\r\n        textAlign: \"center\",\r\n        width: widthCustom,\r\n        fontWeight: \"bold\",\r\n        position: \"sticky\",\r\n        top: 0,\r\n        zIndex: 0,\r\n      };\r\n\r\n      let customHeader = ({ index, ...column }) => {\r\n        return (\r\n          \r\n          <TableCell key={index} style={styleHeader}>\r\n            {this.props.gridIcons !== undefined && \r\n            this.props.gridIcons[index] !== undefined && <div><Info infoIcon={this.props.gridIcons[index]}/><br/></div>} \r\n          {/* {index===this.props.headerIndex && <div><Info infoIcon={getInfoIconNotes(this.props.language)}/><br/></div>}  */}\r\n           {column.name}\r\n           </TableCell>\r\n        );\r\n      };\r\n\r\n      for (i = 0; i < this.props.dataColTitles.length; ++i) {\r\n        columns.push({\r\n          name: this.props.dataColTitles[i],\r\n          options: {\r\n            filter: false,\r\n            customHeadRender: customHeader\r\n          }\r\n        });\r\n      }\r\n    }\r\n    const captions= GRID_INTERNAL_CAPTIONS[this.props.language]\r\n    const title=<span style={{fontSize: '14px'}}  >{captions.excel}</span>\r\n            \r\n              \r\n    const excelToolbarText=captions.excel \r\n     const options = {\r\n      filter: false,\r\n      filterType: \"dropdown\",\r\n      selectableRows: \"none\",\r\n      responsive: \"scrollMaxHeight\", //this removes horiz\r\n      resizableColumns: true,\r\n      selectableRowsHeader: false,\r\n      viewColumns: false,\r\n      search: false,\r\n      download: false,\r\n      print:false,\r\n      textLabels:{\r\n        pagination: {\r\n          rowsPerPage: captions.rows,\r\n          displayRows: captions.of\r\n        },\r\n        \r\n      },\r\n      \r\n      rowsPerPage: 100,\r\n      setTableProps: () => {\r\n        return {\r\n          padding: \"default\",\r\n          size: \"small\",\r\n          margin: \"0px\"\r\n        };\r\n      },\r\n      downloadOptions: {\r\n        filename: \"INAtableDownload.csv\",\r\n        separator: \",\"\r\n      },\r\n      onDownload: (buildHead, buildBody, columns, data) => {\r\n        //handleCSVDownload2(data, columns);\r\n        this.setExcel();\r\n        //return \"\\uFEFF\" + \"dfof\\n \" + \"go to hell\\n\" + buildHead(headerNames) + buildBody(data);\r\n        return false;\r\n      },\r\n      customRowRender: (data, dataIndex, rowIndex) => {\r\n        let style = {textAlign: \"right\"};\r\n        if (data[0] === \"wwwwwww\") {\r\n          style.backgroundColor = \"green\";\r\n          style.fontSize = \"36px\";\r\n        }\r\n        var rows = [];\r\n\r\n        let i;\r\n        for (i = 0; i < this.props.dataColTitles.length; ++i) {\r\n          let dataI = data[i];\r\n          rows.push(\r\n            <TableCell key={i} style={style}>\r\n              <Typography>{\r\n /* this.formatMoney(\r\n  dataI,\r\n    this.props.gridColumnAligns[i],\r\n    \".\",\r\n    \",\"\r\n  ) } */dataI}</Typography>\r\n            </TableCell>\r\n          );\r\n        }\r\n        // console.log(rows)\r\n        return (\r\n          <TableRow key={rowIndex} style={{ backgroundColor: this.props.specialRow===undefined ? (rowIndex%2?\"#f9f9f9\":\"#e4e5e6\"):(rowIndex===this.props.specialRow?\"#d0d7e6\":(rowIndex%2?\"#f9f9f9\":\"#e4e5e6\")) }}>\r\n            {rows}\r\n          </TableRow>\r\n        );\r\n      },\r\n      customToolbar: () => <ExcelToolbar excelToolbarText={excelToolbarText} setExcel={this.setExcel} />\r\n    };\r\n\r\n   \r\n\r\n    return (\r\n        <div style={divStyle} >\r\n          \r\n        <MuiThemeProvider theme={this.getMuiTheme()}>\r\n          <MUIDataTable\r\n            title={this.props.gridTitle}\r\n            data={data}\r\n            columns={columns}\r\n            options={options}\r\n          />\r\n        </MuiThemeProvider>\r\n        {this.state.downloadExcelNow ===1 && <DownloadExcel\r\n          excelColumnsDataMain={this.props.dataProjection}\r\n          width={\"90\"}\r\n          excelColumnsHeaders={this.props.dataColTitles}\r\n          title={this.props.gridTitle}\r\n          excelColumnsDataInfoSection={this.props.gridColumnsDataExcelInfoSection}\r\n          downloadNow={this.state.downloadExcelNow}\r\n          hideElement={true}\r\n          language={this.props.language}\r\n        />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAAhdEVYdENyZWF0aW9uIFRpbWUAMjAxOTowODozMSAwOTowOTo1NrtZ+qQAAAJgSURBVEhL7ZVLaBNRFIb/ySRNTCaPJjUqIii4sG4tahRxJ924qkUQoaCCO6HV2oi616JSqFtFdFGVboRu4kJQrOAiuvCxEgSpVfsgSTPJZJJ5eO7t1DyamSYt3fnN3MWcO3P+c+8954xgEiB6ztzGr4UleNwimGnZ2iYC4BIEaLqBsOTDh4kkuMDU60/ov/oQ8aiE2fkcOjxueDvcaE9FgGEakIsq+QkhXyxh7Eof82GaqekvppQYMgOJQfa4YY6du2cGDg+aT6bemxSmBS3PS5E/S6Uh+b0I+n0UUesroJ1BSdWgqBUsZApwucjAbqb48t1X9A0/QDTkR04uwTCMDZ1BKOCDrKgYT/bDZU1xBJqMBLcgGg4gFlk9omE/RFFAkBw0m4/Rd50UpChW3dYJOMFWNTOXxfPR89jRFeKH2QotCWi6jp+UXZ8nr+NEohvpiRHs270N2bxivWHPmgLlisbPZe7VLXTv2W5ZgbePhnD8wF4sZguWpTmOAhVN5zWRn77L97eRF2MXMXDyIDJLRcuyGlsBSi7oVJEfnyZ58el0Bo3M/Mni/rXT6D26H2pZs6z12AqwjGLVvKv3BnYeuYwfvzPWTJVDZ0fh6bmEN+lvy5XfBMctYiJdEQm+aBDumtRbgaVmnObsnDMcBWrhlbkOWhJgztnVCLOwFuEEbxUpahWnqFU0y5QV5jMyKpSytcRjbOtE66menKxgfKSmVRSUMs8Eu8H6S4zOo3boutn0XTaK5I/9F/79cAZuPsb32UV4bCJqB+Z4a6eEyTsXqgKbRctZtF7+C6zJJgsAfwFSJkjpY7Y95gAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAAhdEVYdENyZWF0aW9uIFRpbWUAMjAxOTowODozMSAwOTowOTo1NrtZ+qQAAAMVSURBVEhLpZVLTBNRFIb/PqcPKoXyKoqvsFFZ4GPloqJBowkLHxDApSy6MCExxkeKG2OMcYHEsEDcqEsDNRHi0hWiGBegYmIMwZAYCaIgUNppO9N6zm2bTgEHCl9z03bm3vnvOf85dwxJ4sOXKdT7u+F22WEwGLBV6JFYCMl4fv8ShMDVzhd4OjiCAruE5UgMiUQCyfTkfDEZjXDYrYjGFDT4alICge4B9Pa/gWQ1o+3sUXjcTvE7LxUKXFFUzM6H8GRgRAg0nTyYFejpG6IUOfD91e30is1zqOUepqbn0XL6cFbgcXBY7JrSh3KPi9JlRSKPCIwUwbIcw6+5EFQ1QWuTaKyvzRUocEiIxRXEKdREPk9PwwViMZtgtZggU4pWCdgoApvNgqryItglS3rZxlFpU9OzC5j5s8hquQJscjQeR+htV3r65mlo78Hw2CQunjmiEaAIzCYDzp+oRYm7AC6nJPK4UTg9shzH4rKM4OsxhKncm05pqohT5CRjI9G4yH8+D8/ALWokt+0S9QF5ySkypm5licXVlNH0ne9IrVVFJ2egbkqRpE8oEkXvrRZxZPAutBPXhbbPkS+EIgh0D1K5LqUuZ1KUMlkhkx+IG1vB19aF8YlptK5sNPbgJ5WZ2WSE3ZYbATePNh4jmcr5zsAmc2rlqIKyYheVbGK1Bzxpe5lbTOCDz+WwieEgsZ0VxdjtLcYuGnsqPfCWbBPXM3N4vqfQiR3lbtFoGVaZzLAQ7y4zfv8NYTzYgc/9HRin8akvgJddfpFv7Txet5I1BdaCT0ct80vh9C991hUI0wEWE++I3IpSyBN+d8jUN3roCvDDLzf74G8+JozXUkEetLfWoZHOfD0RXQHO6+jXH3hEvWHRGMdUV5Xi4fVGvPs4CdMKcS26AjarBUOjE9h37k76ShY2uMh3TZQ1H9H/Q1eA4RKcWwyj9PhNUefMt6kZeOpuwEllKtEm9BAC3ER68LuBd1lRH8CzgfeouXAXleSBWWfnDBeCEDhQ7RV/9ODm4dfolc4gvKWF5I9+8IqqYv9eL/4BgXeca9Es3FcAAAAASUVORK5CYII=\""],"sourceRoot":""}